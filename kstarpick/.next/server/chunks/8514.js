"use strict";exports.id=8514,exports.ids=[8514],exports.modules={79046:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var s=a(20997),l=a(16689),r=a(41664),i=a.n(r),n=a(11163),d=a(41649),o=a(83364),c=a(93663),m=a(71952),u=a(82096),x=a(83055),h=a(47963),p=a(51565),g=a(53585),b=a(90816),y=a(41549),f=a(62691),j=a(63696);let N=({children:e})=>{let t=(0,n.useRouter)(),{data:a,status:r}=(0,d.useSession)(),[N,v]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{("unauthenticated"===r||a&&"admin"!==a.user.role)&&t.push("/admin/login")},[a,r,t]),"loading"===r)?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:s.jsx("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-t-[#ff3e8e] rounded-full animate-spin"}),s.jsx("p",{className:"text-xl font-medium",children:"Loading admin panel..."})]})})}):"unauthenticated"===r||a&&"admin"!==a.user.role?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:s.jsx("div",{className:"p-8 bg-white rounded-lg shadow-md max-w-md",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[s.jsx(o.default,{size:48,className:"text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Unauthorized Access"}),s.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin area."}),s.jsx(i(),{href:"/",className:"px-4 py-2 mt-4 text-white bg-[#ff3e8e] rounded-md hover:bg-[#e02e7c]",children:"Go to Homepage"})]})})}):(c.default,m.default,u.default,x.default,h.default,p.default,s.jsx("div",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"w-64 min-h-screen bg-white shadow-md",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"관리자 패널"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("ul",{className:"space-y-2",children:[s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin",className:`flex items-center px-4 py-2 rounded-lg ${"/admin"===t.pathname?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(c.default,{className:"mr-3 h-5 w-5"}),"대시보드"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/content",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/content")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(g.default,{className:"mr-3 h-5 w-5"}),"콘텐츠 관리"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/news",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/news")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(b.default,{className:"mr-3 h-5 w-5"}),"뉴스 관리"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/drama",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/drama")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(y.default,{className:"mr-3 h-5 w-5"}),"드라마 관리"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/music",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/music")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(x.default,{className:"mr-3 h-5 w-5"}),"음악 차트 관리"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/celeb",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/celeb")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(f.default,{className:"mr-3 h-5 w-5"}),"셀럽 관리"]})}),s.jsx("li",{children:(0,s.jsxs)(i(),{href:"/admin/users",className:`flex items-center px-4 py-2 rounded-lg ${t.pathname.startsWith("/admin/users")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[s.jsx(h.default,{className:"mr-3 h-5 w-5"}),"사용자 관리"]})})]}),s.jsx("div",{className:"border-t mt-4 pt-4",children:(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),sessionStorage.removeItem("adminToken"),(0,d.signOut)({callbackUrl:"/"})},className:"flex items-center w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(j.default,{className:"mr-3 h-5 w-5"}),"로그아웃"]})})]})]}),s.jsx("div",{className:"flex-1",children:e})]})}))}},65413:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(20997),l=a(16689),r=a(82770),i=a(76090),n=a(84257),d=a(28154),o=a(68453),c=a(25675),m=a.n(c);let u=({value:e=[],onChange:t,disabled:a=!1})=>{let[c,u]=(0,l.useState)({name:"",role:"",image:""}),[x,h]=(0,l.useState)(!1),[p,g]=(0,l.useState)(""),b=e=>{let{name:t,value:a}=e.target;u(e=>({...e,[t]:a})),g("")},y=a=>{t(e.filter((e,t)=>t!==a).map((e,t)=>({...e,order:t})))},f=(a,s)=>{if("up"===s&&0===a||"down"===s&&a===e.length-1)return;let l="up"===s?a-1:a+1,r=[...e];[r[a],r[l]]=[r[l],r[a]],t(r.map((e,t)=>({...e,order:t})))},j=e=>e&&(e.startsWith("http://")||e.startsWith("https://"));return(0,s.jsxs)("div",{className:"space-y-4",children:[e.length>0&&s.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map((t,l)=>(0,s.jsxs)("div",{className:"flex items-center border rounded-md p-3 bg-white",children:[s.jsx("div",{className:"flex-shrink-0 mr-4",children:t.image?s.jsx("div",{className:"relative h-12 w-12 rounded-full overflow-hidden bg-gray-100",children:j(t.image)?s.jsx("img",{src:t.image,alt:t.name,className:"w-12 h-12 object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):s.jsx(m(),{src:t.image,alt:t.name,width:48,height:48,className:"object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}})}):s.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:s.jsx(r.default,{size:20})})}),(0,s.jsxs)("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-medium",children:t.name}),t.role&&s.jsx("p",{className:"text-sm text-gray-500",children:t.role})]}),!a&&(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center space-x-1",children:[s.jsx("button",{type:"button",onClick:()=>f(l,"up"),disabled:0===l,className:`p-1 text-gray-500 hover:text-gray-700 ${0===l?"opacity-50 cursor-not-allowed":""}`,children:s.jsx(i.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>f(l,"down"),disabled:l===e.length-1,className:`p-1 text-gray-500 hover:text-gray-700 ${l===e.length-1?"opacity-50 cursor-not-allowed":""}`,children:s.jsx(n.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>y(l),className:"p-1 text-red-500 hover:text-red-700",children:s.jsx(d.default,{size:16})})]})]},l))}),!a&&(0,s.jsxs)("div",{className:"mt-4 border rounded-md p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Add Cast Member"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("input",{type:"text",name:"name",placeholder:"Cast member name",value:c.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),s.jsx("div",{children:s.jsx("input",{type:"text",name:"role",placeholder:"Role/Character (optional)",value:c.role,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),x?(0,s.jsxs)("div",{children:[s.jsx("input",{type:"text",name:"image",placeholder:"Image URL",value:c.image,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-md"}),c.image&&(0,s.jsxs)("div",{className:"mt-2 flex items-center",children:[s.jsx("span",{className:"text-xs text-gray-500 mr-2",children:"Preview:"}),j(c.image)?s.jsx("img",{src:c.image,alt:"Preview",className:"w-8 h-8 rounded-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:s.jsx(r.default,{size:12})})]})]}):(0,s.jsxs)("button",{type:"button",onClick:()=>{h(!x)},className:"text-blue-500 text-sm hover:text-blue-700 flex items-center",children:[s.jsx(o.default,{size:16,className:"mr-1"}),"Add image URL"]}),p&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:p}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>{if(!c.name.trim()){g("Cast member name is required");return}t([...e,{...c,order:e.length}]),u({name:"",role:"",image:""}),h(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Cast Member"})})]})]})]})}},96128:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(20997),l=a(16689),r=a(62691),i=a(34548),n=a(91526),d=a(24528),o=a(23825),c=a(28154),m=a(3785),u=a(68453);let x=({reviews:e=[],onChange:t,tvfilmId:a,dramaId:x,readOnly:h=!1})=>{let[p,g]=(0,l.useState)([]),[b,y]=(0,l.useState)(null),[f,j]=(0,l.useState)(null),[N,v]=(0,l.useState)("all"),[w,k]=(0,l.useState)({authorName:"",title:"",content:"",rating:5,date:new Date().toISOString(),tags:[],featured:!1}),[C,F]=(0,l.useState)(null),[S,A]=(0,l.useState)(""),[D,$]=(0,l.useState)(!1),[_,q]=(0,l.useState)(null);(0,l.useEffect)(()=>{e&&Array.isArray(e)?g(e):g([])},[e]),(0,l.useEffect)(()=>{if(D)return;let e=setTimeout(()=>{t&&Array.isArray(p)&&t(p)},200);return()=>clearTimeout(e)},[p,t,D]);let I=e=>{let{name:t,value:a,type:s,checked:l}=e.target,r="checkbox"===s?l:"rating"===t?parseInt(a,10):a;k(e=>({...e,[t]:r})),C&&t&&F(null)},z=e=>{let t=[];e.title&&"string"==typeof e.title&&""!==e.title.trim()?e.title.length>100&&t.push("제목은 100자 이내여야 합니다"):t.push("제목이 없거나 유효하지 않습니다"),e.content&&"string"==typeof e.content&&""!==e.content.trim()?e.content.length>5e3&&t.push("내용은 5000자 이내여야 합니다"):t.push("내용이 없거나 유효하지 않습니다"),e.authorName&&"string"==typeof e.authorName&&""!==e.authorName.trim()?e.authorName.length>50&&t.push("작성자 이름은 50자 이내여야 합니다"):t.push("작성자 이름이 없거나 유효하지 않습니다");let a=parseInt(e.rating,10);return(isNaN(a)||a<1||a>10)&&t.push("별점이 유효하지 않습니다 (1-10 사이 숫자여야 함)"),t},L=e=>{!h&&!D&&window.confirm("정말로 이 리뷰를 삭제하시겠습니까?")&&($(!0),g(t=>Array.isArray(t)?t.filter(t=>t._id!==e):[]),f===e&&(j(null),y(null),k({authorName:"",title:"",content:"",rating:5,date:new Date().toISOString(),tags:[],featured:!1})),$(!1))},W=e=>{D||h||(j(e._id),y("edit"),k({authorName:e.authorName||"",title:e.title||"",content:e.content||"",rating:e.rating||5,date:e.date||e.createdAt||new Date().toISOString(),tags:Array.isArray(e.tags)?e.tags:[],featured:e.featured||!1}),F(null))},T=()=>{D||(j(null),y(null),k({authorName:"",title:"",content:"",rating:5,date:new Date().toISOString(),tags:[],featured:!1}),F(null))},R=e=>{let t=[],a=Math.floor(e/2),l=e%2!=0;for(let e=0;e<a;e++)t.push(s.jsx(r.default,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},`full-${e}`));l&&t.push((0,s.jsxs)("span",{className:"relative",children:[s.jsx(r.default,{className:"w-4 h-4 text-yellow-400"}),s.jsx(r.default,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 absolute top-0 left-0 overflow-hidden",style:{clipPath:"inset(0 50% 0 0)"}})]},"half"));let i=5-a-(l?1:0);for(let e=0;e<i;e++)t.push(s.jsx(r.default,{className:"w-4 h-4 text-yellow-400"},`empty-${e}`));return(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[t,(0,s.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:["(",e,"/10)"]})]})},O=e=>{if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return"날짜 형식 오류";return t.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return"날짜 형식 오류"}},P=()=>Array.isArray(p)?p:[],E=()=>{S.trim()&&!(w.tags&&Array.isArray(w.tags)&&w.tags.includes(S.trim()))&&(k(e=>({...e,tags:[...Array.isArray(e.tags)?e.tags:[],S.trim()]})),A(""))},U=e=>{k(t=>({...t,tags:Array.isArray(t.tags)?t.tags.filter(t=>t!==e):[]}))};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:[h?"리뷰 목록":"리뷰 관리",p&&p.length>0&&(0,s.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",p.length,"개)"]})]}),!h&&!b&&(0,s.jsxs)("button",{type:"button",onClick:()=>{D||h||(k({_id:`temp_${Date.now()}`,title:"",content:"",authorName:"",rating:5,tags:[],featured:!1,date:new Date}),A(""),y("add"),j(null))},className:"px-3 py-1.5 bg-pink-500 text-white rounded-md hover:bg-pink-600 flex items-center",disabled:D,children:[s.jsx(u.default,{className:"w-4 h-4 mr-1"}),"리뷰 추가"]})]}),!h&&b?(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"edit"===b?"리뷰 편집":"새 리뷰 추가"}),s.jsx("button",{onClick:T,className:"text-gray-500 hover:text-gray-700",disabled:D,children:s.jsx(c.default,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["작성자 이름 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"authorName",value:w.authorName,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"작성자 이름",disabled:D,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["별점 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[[...Array(10)].map((e,t)=>s.jsx("button",{type:"button",onClick:()=>I({target:{name:"rating",value:t+1}}),className:`p-1 focus:outline-none ${t<w.rating?"text-yellow-400":"text-gray-300"}`,disabled:D,children:s.jsx(r.default,{className:"w-6 h-6",fill:"currentColor"})},t)),(0,s.jsxs)("span",{className:"ml-2 font-medium text-gray-700",children:[w.rating,"/10"]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["리뷰 제목 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"title",value:w.title,onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"리뷰 제목",disabled:D,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["리뷰 내용 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"content",value:w.content,onChange:I,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"리뷰 내용을 작성하세요",disabled:D,required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"featured",name:"featured",checked:w.featured||!1,onChange:I,className:"w-4 h-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500",disabled:D}),(0,s.jsxs)("label",{htmlFor:"featured",className:"ml-2 block text-sm font-medium text-gray-700",children:["대표 리뷰로 설정 ",s.jsx("span",{className:"text-xs text-gray-500",children:"(웹사이트 영화 카드에 표시됩니다)"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"태그"}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx("input",{type:"text",value:S,onChange:e=>A(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-1 focus:ring-pink-500",placeholder:"태그 입력 후 추가",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),E())},disabled:D}),s.jsx("button",{type:"button",onClick:E,className:"px-3 py-2 bg-gray-100 border border-gray-300 border-l-0 rounded-r-md hover:bg-gray-200",disabled:D,children:"추가"})]}),w.tags&&Array.isArray(w.tags)&&w.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:w.tags.map((e,t)=>(0,s.jsxs)("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded flex items-center",children:[e,s.jsx("button",{type:"button",onClick:()=>U(e),className:"ml-1 text-gray-500 hover:text-red-500",disabled:D,children:s.jsx(c.default,{className:"w-3 h-3"})})]},t))})]}),C&&s.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-2 rounded border border-red-200",children:C}),(0,s.jsxs)("div",{className:"flex justify-end pt-2",children:[s.jsx("button",{type:"button",onClick:T,className:"mr-2 px-4 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50",disabled:D,children:"취소"}),s.jsx("button",{type:"button",onClick:"edit"===b?e=>{if(e.preventDefault(),h)return;$(!0),F(null);let t=z(w);if(t.length>0){F(t.join("\n")),$(!1);return}g(e=>Array.isArray(e)?e.map(e=>e._id===f?{...w,_id:f,tvfilmId:a||e.tvfilmId,updatedAt:new Date().toISOString()}:e):[]),j(null),y(null),k({authorName:"",title:"",content:"",rating:5,date:new Date().toISOString(),tags:[],featured:!1}),F(null),$(!1)}:e=>{if(e.preventDefault(),h)return;$(!0),F(null);let t=z(w);if(t.length>0){F(t.join("\n")),$(!1);return}let s=`temp_${Date.now()}_${Math.random().toString(36).substring(2,10)}`,l={...w,_id:s,tvfilmId:a||x||null,createdAt:w.date||new Date().toISOString(),updatedAt:new Date().toISOString()};g(e=>[...Array.isArray(e)?[...e]:[],l]),k({authorName:"",title:"",content:"",rating:5,date:new Date().toISOString(),tags:[],featured:!1}),F(null),y(null),$(!1)},className:`px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 ${D?"opacity-70 cursor-not-allowed":""}`,disabled:D,children:D?(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx("span",{className:"animate-spin mr-2",children:"◌"}),"처리 중..."]}):"edit"===b?(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(m.default,{className:"w-4 h-4 mr-1"}),"수정 완료"]}):(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(u.default,{className:"w-4 h-4 mr-1"}),"리뷰 추가"]})})]})]})]}):(()=>{let e=P();return e.length?s.jsx("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:`p-4 rounded-lg border ${f===e._id?"border-blue-400 bg-blue-50":e.featured?"border-yellow-400 bg-yellow-50":"border-gray-200"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.title||"(제목 없음)"}),e.featured&&(0,s.jsxs)("span",{className:"bg-yellow-200 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center",children:[s.jsx(n.default,{className:"w-3 h-3 mr-1"}),"대표 리뷰"]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.authorName||"익명"," - ",O(e.date||e.createdAt)]})]}),!h&&(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>W(e),className:"p-1 text-blue-500 hover:text-blue-700",title:"수정",disabled:D,children:s.jsx(d.default,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>L(e._id),className:"p-1 text-red-500 hover:text-red-700",title:"삭제",disabled:D,children:s.jsx(o.default,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"mt-2",children:R(e.rating||5)}),s.jsx("p",{className:"mt-2 text-gray-700",children:e.content||"(내용 없음)"}),e.tags&&Array.isArray(e.tags)&&e.tags.length>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:e.tags.map((e,t)=>s.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:e},t))})]},e._id))}):(0,s.jsxs)("div",{className:"text-center py-8",children:[s.jsx(i.default,{className:"mx-auto h-10 w-10 text-gray-300 mb-2"}),s.jsx("p",{className:"text-gray-500 mb-1",children:"아직 리뷰가 없습니다"}),!h&&s.jsx("p",{className:"text-gray-400 text-sm",children:"첫 번째 리뷰를 추가해보세요"})]})})()]})}},29530:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(20997),l=a(16689),r=a(95343),i=a(76090),n=a(84257),d=a(28154),o=a(68453);let c=({videos:e,onChange:t})=>{let[a,c]=(0,l.useState)({title:"",type:"trailer",url:""}),[m,u]=(0,l.useState)({}),x=[{value:"trailer",label:"공식 트레일러"},{value:"teaser",label:"티저"},{value:"ad",label:"광고"},{value:"making-of",label:"메이킹 필름"},{value:"clip",label:"클립"},{value:"interview",label:"인터뷰"},{value:"other",label:"기타"}],h=e=>{let{name:t,value:a}=e.target;c(e=>({...e,[t]:a})),m[t]&&u(e=>({...e,[t]:null}))},p=e=>/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[a-zA-Z0-9_-]+/.test(e),g=a=>{let s=[...e];s.splice(a,1),s.forEach((e,t)=>{e.order=t}),t(s)},b=(a,s)=>{if("up"===s&&0===a||"down"===s&&a===e.length-1)return;let l=[...e],r="up"===s?a-1:a+1;[l[a],l[r]]=[l[r],l[a]],l.forEach((e,t)=>{e.order=t}),t(l)},y=e=>{if(!e)return null;let t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null};return(0,s.jsxs)("div",{className:"mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"비디오: 트레일러 & 티저"}),s.jsx("div",{className:"mb-6",children:0===e.length?s.jsx("div",{className:"text-gray-500 mb-4 border border-dashed border-gray-300 p-4 rounded-md text-center",children:"등록된 비디오가 없습니다. 아래 폼에서 유튜브 링크를 추가해주세요."}):s.jsx("div",{className:"space-y-3",children:e.map((t,a)=>{let l=y(t.url);return(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-3 border border-gray-200 p-3 rounded-md bg-white shadow-sm",children:[s.jsx("div",{className:"flex-shrink-0 w-full md:w-48 h-24 bg-gray-100 rounded overflow-hidden md:mr-2",children:l?s.jsx("img",{src:`https://img.youtube.com/vi/${l}/mqdefault.jpg`,alt:t.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsx(r.default,{className:"w-8 h-8 text-gray-400"})})}),s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[s.jsx("h4",{className:"font-medium",children:t.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:"bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded",children:x.find(e=>e.value===t.type)?.label||t.type}),(0,s.jsxs)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-xs inline-flex items-center",children:[t.url.substring(0,30),"..."]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx("button",{type:"button",onClick:()=>b(a,"up"),disabled:0===a,className:`p-1 rounded-full ${0===a?"text-gray-300":"text-gray-500 hover:bg-gray-100"}`,children:s.jsx(i.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>b(a,"down"),disabled:a===e.length-1,className:`p-1 rounded-full ${a===e.length-1?"text-gray-300":"text-gray-500 hover:bg-gray-100"}`,children:s.jsx(n.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>g(a),className:"p-1 rounded-full text-red-500 hover:bg-red-50",children:s.jsx(d.default,{size:16})})]})]})})]},a)})})}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium mb-3 text-gray-700",children:"새 비디오 추가"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"제목"}),s.jsx("input",{type:"text",name:"title",value:a.title,onChange:h,placeholder:"공식 트레일러, 티저 영상 2 등",className:`w-full px-3 py-2 border rounded-md ${m.title?"border-red-500":"border-gray-300"}`}),m.title&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.title})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"유형"}),s.jsx("select",{name:"type",value:a.type,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:x.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"유튜브 URL"}),s.jsx("input",{type:"text",name:"url",value:a.url,onChange:h,placeholder:"https://www.youtube.com/watch?v=...",className:`w-full px-3 py-2 border rounded-md ${m.url?"border-red-500":"border-gray-300"}`}),m.url&&s.jsx("p",{className:"mt-1 text-xs text-red-500",children:m.url}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"유튜브 동영상 URL을 입력해주세요 (예: https://www.youtube.com/watch?v=dQw4w9WgXcQ)"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{let s={};if(a.title.trim()||(s.title="제목을 입력해주세요"),a.url.trim()?p(a.url)||(s.url="유효한 YouTube URL을 입력해주세요"):s.url="URL을 입력해주세요",Object.keys(s).length>0){u(s);return}t([...e,{...a,order:e.length,id:Date.now().toString()}]),c({title:"",type:"trailer",url:""}),u({})},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-pink-600 hover:bg-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",children:[s.jsx(o.default,{size:16,className:"mr-2"}),"비디오 추가"]})]})]})}},10508:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(20997),l=a(16689),r=a(76090),i=a(84257),n=a(28154);a(25675);let d=[{name:"Netflix",color:"#E50914",textColor:"#FFFFFF",type:"subscription",price:"9,500원/월",quality:["HD","4K"],url:"https://www.netflix.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png"},{name:"Disney+",color:"#0063E5",textColor:"#FFFFFF",type:"subscription",price:"9,900원/월",quality:["HD","4K"],url:"https://www.disneyplus.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg"},{name:"TVING",color:"#FF0050",textColor:"#FFFFFF",type:"subscription",price:"7,900원/월",quality:["HD","4K"],url:"https://www.tving.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/9/95/TVING_logo.png"},{name:"Watcha",color:"#FF0A54",textColor:"#FFFFFF",type:"subscription",price:"7,900원/월",quality:["HD","4K"],url:"https://watcha.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Watcha_logo.png/800px-Watcha_logo.png"},{name:"Wavve",color:"#1351F9",textColor:"#FFFFFF",type:"subscription",price:"7,900원/월",quality:["HD","4K"],url:"https://www.wavve.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/8/8c/Wavve_logo.png"},{name:"Apple TV+",color:"#000000",textColor:"#FFFFFF",type:"subscription",price:"8,900원/월",quality:["HD","4K"],url:"https://tv.apple.com/",logo:"https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg"}],o=({value:e=[],onChange:t,disabled:a=!1})=>{let[o,c]=(0,l.useState)({name:"",logo:"",color:"#6366F1",textColor:"#FFFFFF",type:"subscription",price:"",quality:[],url:""}),[m,u]=(0,l.useState)(!1),[x,h]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),f=e=>{let{name:t,value:a}=e.target;c(e=>({...e,[t]:a})),g("")},j=e=>{c(t=>({...t,quality:t.quality.filter((t,a)=>a!==e)}))},N=a=>{t(e.filter((e,t)=>t!==a).map((e,t)=>({...e,order:t})))},v=(a,s)=>{if("up"===s&&0===a||"down"===s&&a===e.length-1)return;let l="up"===s?a-1:a+1,r=[...e];[r[a],r[l]]=[r[l],r[a]],t(r.map((e,t)=>({...e,order:t})))},w=e=>{switch(e){case"subscription":return"Subscription";case"rental":return"Rental";case"purchase":return"Purchase";case"free":return"Free";default:return e}},k=e=>e?"Netflix"===e?"N":"Disney+"===e?"D+":"Apple TV+"===e?"TV+":e.charAt(0):"";return(0,s.jsxs)("div",{className:"space-y-4",children:[e.length>0&&s.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map((t,l)=>(0,s.jsxs)("div",{className:"flex items-center border rounded-md p-3 bg-white",children:[s.jsx("div",{className:"flex-shrink-0 mr-4",children:s.jsx("div",{className:"relative h-12 w-20 overflow-hidden rounded flex items-center justify-center",style:{backgroundColor:t.color||"#6366F1",color:t.textColor||"#FFFFFF"},children:s.jsx("span",{className:"text-lg font-bold",children:k(t.name)})})}),(0,s.jsxs)("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-medium",children:t.name}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 items-center text-xs text-gray-500",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded",children:w(t.type)}),t.price&&(0,s.jsxs)("span",{children:["• ",t.price]}),t.quality&&t.quality.length>0&&(0,s.jsxs)("span",{children:["• ",t.quality.join(", ")]})]})]}),!a&&(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center space-x-1",children:[s.jsx("button",{type:"button",onClick:()=>v(l,"up"),disabled:0===l,className:`p-1 text-gray-500 hover:text-gray-700 ${0===l?"opacity-50 cursor-not-allowed":""}`,children:s.jsx(r.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>v(l,"down"),disabled:l===e.length-1,className:`p-1 text-gray-500 hover:text-gray-700 ${l===e.length-1?"opacity-50 cursor-not-allowed":""}`,children:s.jsx(i.default,{size:16})}),s.jsx("button",{type:"button",onClick:()=>N(l),className:"p-1 text-red-500 hover:text-red-700",children:s.jsx(n.default,{size:16})})]})]},l))}),!a&&(0,s.jsxs)("div",{className:"mt-4 border rounded-md p-4 bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Add Watch Provider"}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Quick Add:"}),(0,s.jsxs)("select",{value:b,onChange:a=>{let s=a.target.value;if(!s)return;if(y(""),e.find(e=>e.name===s)){g(`${s} is already added`);return}let l=d.find(e=>e.name===s);l&&t([...e,{...l,order:e.length}])},className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-white",children:[s.jsx("option",{value:"",children:"Select a common provider..."}),d.map(t=>s.jsx("option",{value:t.name,disabled:e.some(e=>e.name===t.name),children:t.name},t.name))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provider information will be automatically added"})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Or add custom provider:"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("div",{children:s.jsx("input",{type:"text",name:"name",placeholder:"Provider name (e.g., Netflix, Disney+)",value:o.name,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),s.jsx("div",{children:(0,s.jsxs)("select",{name:"type",value:o.type,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"subscription",children:"Subscription"}),s.jsx("option",{value:"rental",children:"Rental"}),s.jsx("option",{value:"purchase",children:"Purchase"}),s.jsx("option",{value:"free",children:"Free"})]})}),s.jsx("div",{children:s.jsx("input",{type:"text",name:"price",placeholder:"Price (e.g., $9.99/month, $3.99)",value:o.price,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),s.jsx("div",{children:s.jsx("input",{type:"text",name:"url",placeholder:"Link URL (e.g., https://netflix.com/title/123)",value:o.url,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md"})}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Provider Color:"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"color",name:"color",value:o.color,onChange:f,className:"h-10 w-12 p-0 border-0"}),s.jsx("input",{type:"text",name:"color",value:o.color,onChange:f,placeholder:"#6366F1",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",placeholder:"Quality (e.g., HD, 4K)",value:x,onChange:e=>h(e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md"}),s.jsx("button",{type:"button",onClick:()=>{x.trim()&&(o.quality.includes(x.trim())||c(e=>({...e,quality:[...e.quality,x.trim()]})),h(""))},className:"bg-gray-200 text-gray-700 px-3 py-2 rounded-md hover:bg-gray-300",children:"Add"})]}),o.quality.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.quality.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded text-sm",children:[e,s.jsx("button",{type:"button",onClick:()=>j(t),className:"ml-1 text-gray-500 hover:text-red-500",children:s.jsx(n.default,{size:12})})]},t))})]}),p&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:p}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",onClick:()=>{if(""===o.name.trim()){g("제공자 이름을 입력해주세요.");return}let a="";a=o.name.toLowerCase().includes("netflix")?"https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png":o.name.toLowerCase().includes("disney")?"https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg":o.name.toLowerCase().includes("tving")?"https://upload.wikimedia.org/wikipedia/commons/9/95/TVING_logo.png":o.name.toLowerCase().includes("wavve")?"https://upload.wikimedia.org/wikipedia/commons/8/8c/Wavve_logo.png":o.name.toLowerCase().includes("watcha")?"https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Watcha_logo.png/800px-Watcha_logo.png":o.name.toLowerCase().includes("apple")?"https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg":`https://www.google.com/s2/favicons?domain=${encodeURIComponent(o.url)}&sz=128`,t([...e,{...o,logo:a,order:e.length}]),c({name:"",logo:"",color:"#6366F1",textColor:"#FFFFFF",type:"subscription",price:"",quality:[],url:""}),u(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Provider"})})]})]})]})]})}}};