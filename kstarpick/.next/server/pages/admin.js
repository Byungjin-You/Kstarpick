"use strict";(()=>{var e={};e.id=6964,e.ids=[6964],e.modules={77525:(e,s,t)=>{t.r(s),t.d(s,{config:()=>U,default:()=>F,getServerSideProps:()=>E,getStaticPaths:()=>W,getStaticProps:()=>q,reportWebVitals:()=>V,routeModule:()=>Z,unstable_getServerProps:()=>I,unstable_getServerSideProps:()=>B,unstable_getStaticParams:()=>R,unstable_getStaticPaths:()=>H,unstable_getStaticProps:()=>_});var a={};t.r(a),t.d(a,{default:()=>P,getServerSideProps:()=>D});var l=t(87093),r=t(35244),i=t(1323),d=t(65949),n=t(81928),c=t(20997),x=t(16689),m=t(11163),o=t(41649),h=t(40968),u=t.n(h),g=t(41664),p=t.n(g),y=t(83055),f=t(82096),j=t(41549),b=t(62691),N=t(33980),v=t(64370);let w=(0,v.default)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var k=t(90816),S=t(47963),z=t(34548),T=t(51568),A=t(68453),C=t(83364);let M=(0,v.default)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var L=t(5451),$=t(79046);function P(){let{data:e,status:s}=(0,o.useSession)();(0,m.useRouter)();let[t,a]=(0,x.useState)("dashboard"),[l,r]=(0,x.useState)(!0),[i,d]=(0,x.useState)([]),[n,h]=(0,x.useState)(!1),[g,v]=(0,x.useState)(""),[P,D]=(0,x.useState)({music:0,dramas:0,films:0,celebs:0,musicToday:0,dramasToday:0,filmsToday:0,celebsToday:0,views:0,likes:0,comments:0,users:0}),[F,q]=(0,x.useState)([]),[W,E]=(0,x.useState)([]),[U,V]=(0,x.useState)([]),[_,H]=(0,x.useState)(null),[R,I]=(0,x.useState)(3e3),[B,Z]=(0,x.useState)(15e3),[O,G]=(0,x.useState)(5e4),[K,X]=(0,x.useState)(10),[Y,J]=(0,x.useState)(!1),[Q,ee]=(0,x.useState)(15),es=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),et=async e=>{if(confirm("Are you sure you want to delete this drama?"))try{let s=localStorage.getItem("token")||localStorage.getItem("adminToken"),t=await fetch(`/api/dramas/${e}`,{method:"DELETE",headers:{Authorization:s?`Bearer ${s}`:""}});if(t.ok)d(i.filter(s=>s._id!==e)),alert("Drama deleted successfully");else{let e=await t.json();alert("Failed to delete drama: "+(e.message||"Unknown error"))}}catch(e){alert("Failed to delete drama: "+e.message)}};return l?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,c.jsxs)($.default,{children:[c.jsx(u(),{children:c.jsx("title",{children:"Admin Dashboard | K-POP News Portal"})}),(0,c.jsxs)("div",{className:"flex flex-col w-full",children:[(0,c.jsxs)("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600",children:es})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600 mr-4",children:c.jsx(y.default,{size:24})}),(0,c.jsxs)("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-500 text-sm",children:"Total Music"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:P.music.toLocaleString()}),P.musicToday>0&&(0,c.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",P.musicToday," today"]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600 mr-4",children:c.jsx(f.default,{size:24})}),(0,c.jsxs)("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-500 text-sm",children:"Total Dramas"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:P.dramas.toLocaleString()}),P.dramasToday>0&&(0,c.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",P.dramasToday," today"]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-full bg-purple-100 text-purple-600 mr-4",children:c.jsx(j.default,{size:24})}),(0,c.jsxs)("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-500 text-sm",children:"Total Films"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:P.films.toLocaleString()}),P.filmsToday>0&&(0,c.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",P.filmsToday," today"]})]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"p-3 rounded-full bg-pink-100 text-pink-600 mr-4",children:c.jsx(b.default,{size:24})}),(0,c.jsxs)("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-500 text-sm",children:"Total Celebs"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:P.celebs.toLocaleString()}),P.celebsToday>0&&(0,c.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",P.celebsToday," today"]})]})]})})]}),c.jsx("div",{className:"mb-8",children:(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Daily Page Views (Last ",Q," Days)"]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>ee(7),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${7===Q?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"7 Days"}),c.jsx("button",{onClick:()=>ee(15),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${15===Q?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"15 Days"}),c.jsx("button",{onClick:()=>ee(30),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${30===Q?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"30 Days"})]})]}),_?(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,c.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Total Views"}),c.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(_.summary.totalViews*K).toLocaleString()})]}),(0,c.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"av.PV"}),c.jsx("p",{className:"text-2xl font-bold text-green-700",children:(_.summary.totalViews*K/(7===Q?R:15===Q?B:O)).toFixed(1)})]}),(0,c.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-purple-600 font-medium mb-1",children:"Total Content"}),c.jsx("p",{className:"text-2xl font-bold text-purple-700",children:_.summary.totalContent.toLocaleString()})]}),(0,c.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-orange-600 font-medium mb-1",children:"av.DAU"}),c.jsx("p",{className:"text-2xl font-bold text-orange-700",children:R.toLocaleString()})]}),(0,c.jsxs)("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-pink-600 font-medium mb-1",children:"WAU"}),c.jsx("p",{className:"text-2xl font-bold text-pink-700",children:B.toLocaleString()})]}),(0,c.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-4",children:[c.jsx("p",{className:"text-xs text-indigo-600 font-medium mb-1",children:"MAU"}),c.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:O.toLocaleString()})]})]}),_.dailyTrends&&_.dailyTrends.length>0&&(0,c.jsxs)("div",{className:"px-8",children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Daily Trends"}),(0,c.jsxs)("div",{className:"relative",style:{height:"300px"},children:[(0,c.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 1000 300",preserveAspectRatio:"none",children:[[0,1,2,3,4,5].map(e=>c.jsx("line",{x1:"0",y1:60*e,x2:"1000",y2:60*e,stroke:"#e5e7eb",strokeWidth:"1"},e)),(()=>{let e=Math.max(..._.dailyTrends.map(e=>e.views*K),1),s=_.dailyTrends.length>1?1e3/(_.dailyTrends.length-1):500,t=_.dailyTrends.map((t,a)=>{let l=e>0?270-t.views*K/e*240:270;return`${0===a?"M":"L"} ${a*s} ${l}`}).join(" ");return(0,c.jsxs)(c.Fragment,{children:[c.jsx("path",{d:`${t} L ${(_.dailyTrends.length-1)*s} 300 L 0 300 Z`,fill:"url(#gradient)",opacity:"0.3"}),c.jsx("path",{d:t,fill:"none",stroke:"#233CFA",strokeWidth:"3"}),_.dailyTrends.map((t,a)=>{let l=a*s,r=e>0?270-t.views*K/e*240:270,i=(t.views*K).toLocaleString(),d=0===a,n=a===_.dailyTrends.length-1;return(0,c.jsxs)("g",{children:[c.jsx("ellipse",{cx:l,cy:r,rx:"3",ry:"5",fill:"#233CFA",stroke:"white",strokeWidth:"1.5"}),c.jsx("text",{x:l,y:r-10,textAnchor:d?"start":n?"end":"middle",fontSize:"10",fill:"#233CFA",fontWeight:"600",transform:`scale(0.9, 1.5) translate(${.11*l}, ${-((r-10)*.33)})`,children:i}),c.jsx("title",{children:`${t.date}: ${i} views`})]},a)}),c.jsx("defs",{children:(0,c.jsxs)("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:"#233CFA",stopOpacity:"0.8"}),c.jsx("stop",{offset:"100%",stopColor:"#233CFA",stopOpacity:"0.1"})]})})]})})()]}),c.jsx("div",{className:"relative mt-2",style:{height:"20px"},children:_.dailyTrends.map((e,s)=>{if(!(0===s||s===_.dailyTrends.length-1||s%3==0))return null;let t=s*(_.dailyTrends.length>1?100/(_.dailyTrends.length-1):50);return c.jsx("span",{className:"text-xs text-gray-500 absolute transform -translate-x-1/2 whitespace-nowrap",style:{left:`${t}%`},children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})},s)})})]})]})]}):(0,c.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(N.default,{size:48,className:"mx-auto mb-2 opacity-30"}),c.jsx("p",{children:"Loading page view statistics..."})]})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Last 7 Days Activity"}),0===W.length?(0,c.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(w,{size:48,className:"mx-auto mb-2 opacity-30"}),c.jsx("p",{children:"Loading weekly stats..."})]}):(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"relative",style:{height:"240px"},children:[(0,c.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 600 240",preserveAspectRatio:"none",children:[[0,1,2,3,4].map(e=>c.jsx("line",{x1:"0",y1:60*e,x2:"600",y2:60*e,stroke:"#e5e7eb",strokeWidth:"1"},e)),(()=>{let e=Math.max(...W.map(e=>Math.max(e.music,e.drama,e.film,e.celeb))),s=600/(W.length-1),t=t=>t.map((t,a)=>`${0===a?"M":"L"} ${a*s} ${240-t/e*200-20}`).join(" "),a=(t,a)=>t.map((t,l)=>c.jsx("circle",{cx:l*s,cy:240-t/e*200-20,r:"4",fill:a,stroke:"white",strokeWidth:"2"},l)),l=W.map(e=>e.music),r=W.map(e=>e.drama),i=W.map(e=>e.film),d=W.map(e=>e.celeb);return(0,c.jsxs)(c.Fragment,{children:[c.jsx("path",{d:t(l),fill:"none",stroke:"#3b82f6",strokeWidth:"2.5"}),a(l,"#3b82f6"),c.jsx("path",{d:t(r),fill:"none",stroke:"#22c55e",strokeWidth:"2.5"}),a(r,"#22c55e"),c.jsx("path",{d:t(i),fill:"none",stroke:"#a855f7",strokeWidth:"2.5"}),a(i,"#a855f7"),c.jsx("path",{d:t(d),fill:"none",stroke:"#ec4899",strokeWidth:"2.5"}),a(d,"#ec4899")]})})()]}),c.jsx("div",{className:"flex justify-between mt-2",children:W.map((e,s)=>c.jsx("span",{className:"text-xs text-gray-500",children:e.date},s))})]}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-4 pt-4 border-t",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Music"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Drama"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Film"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),c.jsx("span",{className:"text-xs text-gray-600",children:"Celeb"})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-4 gap-2 pt-4 border-t",children:[(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Music"}),c.jsx("p",{className:"text-sm font-semibold text-blue-600",children:W.reduce((e,s)=>e+s.music,0)})]}),(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Drama"}),c.jsx("p",{className:"text-sm font-semibold text-green-600",children:W.reduce((e,s)=>e+s.drama,0)})]}),(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Film"}),c.jsx("p",{className:"text-sm font-semibold text-purple-600",children:W.reduce((e,s)=>e+s.film,0)})]}),(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Celeb"}),c.jsx("p",{className:"text-sm font-semibold text-pink-600",children:W.reduce((e,s)=>e+s.celeb,0)})]})]})]})]}),(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Top Performing Content"}),0===U.length?(0,c.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(b.default,{size:48,className:"mx-auto mb-2 opacity-30"}),c.jsx("p",{children:"Loading top content..."})]}):c.jsx("div",{className:"space-y-3",children:U.map((e,s)=>(0,c.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-[#233CFA] flex items-center justify-center text-white font-bold text-sm",children:s+1}),(0,c.jsxs)("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,c.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,c.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[c.jsx(N.default,{size:12}),((e.viewCount||0)*K).toLocaleString()]}),c.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full capitalize",style:{backgroundColor:"kpop"===e.category?"#E8EEFF":"drama"===e.category?"#E8F5E9":"movie"===e.category?"#F3E5F5":"#FCE4EC",color:"kpop"===e.category?"#233CFA":"drama"===e.category?"#2E7D32":"movie"===e.category?"#7B1FA2":"#C2185B"},children:e.category})]})]})]},e._id))})]})]}),(0,c.jsxs)("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:0===F.length?(0,c.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(k.default,{size:48,className:"mx-auto mb-2 opacity-30"}),c.jsx("p",{children:"No recent activity"})]}):c.jsx("ul",{className:"divide-y divide-gray-200",children:F.map((e,s)=>c.jsx("li",{className:"p-4 hover:bg-gray-50",children:(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsxs)("div",{className:"mr-4",children:["news"===e.type&&c.jsx("div",{className:"p-2 bg-blue-100 text-blue-500 rounded-full",children:c.jsx(k.default,{size:20})}),"drama"===e.type&&c.jsx("div",{className:"p-2 bg-green-100 text-green-500 rounded-full",children:c.jsx(f.default,{size:20})}),"film"===e.type&&c.jsx("div",{className:"p-2 bg-purple-100 text-purple-500 rounded-full",children:c.jsx(j.default,{size:20})}),"music"===e.type&&c.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-full",children:c.jsx(y.default,{size:20})}),"celeb"===e.type&&c.jsx("div",{className:"p-2 bg-pink-100 text-pink-500 rounded-full",children:c.jsx(b.default,{size:20})}),"user"===e.type&&c.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-500 rounded-full",children:c.jsx(S.default,{size:20})}),"comment"===e.type&&c.jsx("div",{className:"p-2 bg-gray-100 text-gray-500 rounded-full",children:c.jsx(z.default,{size:20})})]}),(0,c.jsxs)("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.action}),c.jsx("p",{className:"text-sm text-gray-500",children:e.title}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.time})]})]})},s))})})]}),c.jsx("div",{className:"mb-8",children:(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,c.jsxs)("button",{onClick:()=>J(!Y),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Data Settings"}),c.jsx(T.default,{size:20,className:`transform transition-transform ${Y?"rotate-180":""}`})]}),Y&&(0,c.jsxs)("div",{className:"px-6 pb-6 border-t",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data Multiplier"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",value:K,onChange:e=>X(Number(e.target.value)||1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",step:"1"}),c.jsx("span",{className:"text-sm text-gray-500",children:"\xd7"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"All view counts will be multiplied by this number"})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"av.DAU (Daily Active Users)"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",value:R,onChange:e=>I(Number(e.target.value)||1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",min:"1",step:"1"}),c.jsx("span",{className:"text-sm text-gray-500",children:"users"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Manually set the daily active users count"})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"WAU (Weekly Active Users)"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",value:B,onChange:e=>Z(Number(e.target.value)||1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",min:"1",step:"1"}),c.jsx("span",{className:"text-sm text-gray-500",children:"users"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Manually set the weekly active users count"})]}),(0,c.jsxs)("div",{className:"flex flex-col gap-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",children:"MAU (Monthly Active Users)"}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",value:O,onChange:e=>G(Number(e.target.value)||1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"1",step:"1"}),c.jsx("span",{className:"text-sm text-gray-500",children:"users"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Manually set the monthly active users count"})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:()=>{localStorage.setItem("dataMultiplier",K.toString()),localStorage.setItem("dailyActiveUsers",R.toString()),localStorage.setItem("weeklyActiveUsers",B.toString()),localStorage.setItem("monthlyActiveUsers",O.toString()),alert("Settings saved successfully!")},className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Save Settings"})})]})]})}),"drama"===t&&(0,c.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,c.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Dramas"}),(0,c.jsxs)(p(),{href:"/admin/drama/create",className:"px-4 py-2 bg-green-500 text-white rounded-lg flex items-center",children:[c.jsx(A.default,{size:16,className:"mr-2"}),"Add New"]})]}),n?(0,c.jsxs)("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500 mx-auto"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Loading dramas..."})]}):g?(0,c.jsxs)("div",{className:"p-6 text-center",children:[c.jsx(C.default,{size:32,className:"text-red-500 mx-auto mb-2"}),c.jsx("p",{className:"text-red-500",children:g})]}):0===i.length?c.jsx("div",{className:"p-6 text-center",children:c.jsx("p",{className:"text-gray-500",children:"No dramas found."})}):c.jsx("ul",{className:"divide-y divide-gray-100",children:i.map(e=>c.jsx("li",{className:"px-6 py-4 hover:bg-gray-50",children:(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded overflow-hidden bg-gray-100",children:e.image?c.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/dramas/default-poster.jpg"}}):c.jsx("div",{className:"flex items-center justify-center h-full bg-gray-200",children:c.jsx(j.default,{size:20,className:"text-gray-400"})})}),(0,c.jsxs)("div",{className:"ml-4 flex-1",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-800",children:e.title}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.year," • ",e.episodes," eps • Rating: ",e.rating||"N/A"]})]}),(0,c.jsxs)("div",{className:"flex space-x-2",children:[c.jsx(p(),{href:`/admin/drama/edit/${e._id}`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",children:c.jsx(M,{size:16})}),c.jsx(p(),{href:`/drama/${e._id}`,className:"p-2 text-green-600 hover:bg-green-50 rounded-md",target:"_blank",children:c.jsx(N.default,{size:16})}),c.jsx("button",{onClick:()=>et(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:c.jsx(L.default,{size:16})})]})]})},e._id))})]})]})]})}async function D(){return{props:{}}}let F=(0,i.hoist)(a,"default"),q=(0,i.hoist)(a,"getStaticProps"),W=(0,i.hoist)(a,"getStaticPaths"),E=(0,i.hoist)(a,"getServerSideProps"),U=(0,i.hoist)(a,"config"),V=(0,i.hoist)(a,"reportWebVitals"),_=(0,i.hoist)(a,"unstable_getStaticProps"),H=(0,i.hoist)(a,"unstable_getStaticPaths"),R=(0,i.hoist)(a,"unstable_getStaticParams"),I=(0,i.hoist)(a,"unstable_getServerProps"),B=(0,i.hoist)(a,"unstable_getServerSideProps"),Z=new l.PagesRouteModule({definition:{kind:r.RouteKind.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:a})},79046:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(20997),l=t(16689),r=t(41664),i=t.n(r),d=t(11163),n=t(41649),c=t(83364),x=t(93663),m=t(71952),o=t(82096),h=t(83055),u=t(47963),g=t(51565),p=t(7381),y=t(41549),f=t(90816),j=t(62691),b=t(63696);let N=({children:e})=>{let s=(0,d.useRouter)(),{data:t,status:r}=(0,n.useSession)(),[N,v]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{("unauthenticated"===r||t&&"admin"!==t.user.role)&&s.push("/admin/login")},[t,r,s]),"loading"===r)?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:a.jsx("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-t-[#ff3e8e] rounded-full animate-spin"}),a.jsx("p",{className:"text-xl font-medium",children:"Loading admin panel..."})]})})}):"unauthenticated"===r||t&&"admin"!==t.user.role?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:a.jsx("div",{className:"p-8 bg-white rounded-lg shadow-md max-w-md",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[a.jsx(c.default,{size:48,className:"text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Unauthorized Access"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to access the admin area."}),a.jsx(i(),{href:"/",className:"px-4 py-2 mt-4 text-white bg-[#ff3e8e] rounded-md hover:bg-[#e02e7c]",children:"Go to Homepage"})]})})}):(x.default,m.default,o.default,h.default,u.default,g.default,a.jsx("div",{className:"min-h-screen bg-white",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"w-64 min-h-screen bg-white shadow-md",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"관리자 패널"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("ul",{className:"space-y-2",children:[a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin",className:`flex items-center px-4 py-2 rounded-lg ${"/admin"===s.pathname?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(x.default,{className:"mr-3 h-5 w-5"}),"대시보드"]})}),a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin/drama",className:`flex items-center px-4 py-2 rounded-lg ${s.pathname.startsWith("/admin/drama")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(p.default,{className:"mr-3 h-5 w-5"}),"드라마 관리"]})}),a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin/tvfilm",className:`flex items-center px-4 py-2 rounded-lg ${s.pathname.startsWith("/admin/tvfilm")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(y.default,{className:"mr-3 h-5 w-5"}),"영화 관리"]})}),a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin/news",className:`flex items-center px-4 py-2 rounded-lg ${s.pathname.startsWith("/admin/news")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(f.default,{className:"mr-3 h-5 w-5"}),"뉴스 관리"]})}),a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin/music",className:`flex items-center px-4 py-2 rounded-lg ${s.pathname.startsWith("/admin/music")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(h.default,{className:"mr-3 h-5 w-5"}),"음악 차트 관리"]})}),a.jsx("li",{children:(0,a.jsxs)(i(),{href:"/admin/celeb",className:`flex items-center px-4 py-2 rounded-lg ${s.pathname.startsWith("/admin/celeb")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"}`,children:[a.jsx(j.default,{className:"mr-3 h-5 w-5"}),"셀럽 관리"]})})]}),a.jsx("div",{className:"border-t mt-4 pt-4",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),sessionStorage.removeItem("adminToken"),(0,n.signOut)({callbackUrl:"/"})},className:"flex items-center w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[a.jsx(b.default,{className:"mr-3 h-5 w-5"}),"로그아웃"]})})]})]}),a.jsx("div",{className:"flex-1 p-8",children:e})]})}))}},64370:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i,toKebabCase:()=>r});var a=t(16689),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:n,children:c,...x},m)=>(0,a.createElement)("svg",{ref:m,...l,width:i,height:i,stroke:t,strokeWidth:n?24*Number(d)/Number(i):d,className:`lucide lucide-${r(e)}`,...x},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...(Array.isArray(c)?c:[c])||[]]));return t.displayName=`${e}`,t}},83364:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},51568:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},33980:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},71952:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},41549:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]])},93663:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},63696:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},34548:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},83055:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},90816:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]])},68453:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},51565:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},62691:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5451:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7381:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]])},47963:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},82096:(e,s,t)=>{t.r(s),t.d(s,{default:()=>a});let a=(0,t(64370).default)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},41649:e=>{e.exports=require("next-auth/react")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},71568:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[3393,1859,6859,8559,8505],()=>t(77525));module.exports=a})();