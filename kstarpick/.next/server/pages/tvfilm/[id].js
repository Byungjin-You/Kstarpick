"use strict";(()=>{var e={};e.id=4299,e.ids=[4299],e.modules={59978:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>g,default:()=>m,getServerSideProps:()=>u,getStaticPaths:()=>h,getStaticProps:()=>x,reportWebVitals:()=>f,routeModule:()=>y,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>j,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>p});var r=t(87093),l=t(35244),i=t(1323),n=t(65949),o=t(81928),c=t(76826),d=e([c]);c=(d.then?(await d)():d)[0];let m=(0,i.hoist)(c,"default"),x=(0,i.hoist)(c,"getStaticProps"),h=(0,i.hoist)(c,"getStaticPaths"),u=(0,i.hoist)(c,"getServerSideProps"),g=(0,i.hoist)(c,"config"),f=(0,i.hoist)(c,"reportWebVitals"),p=(0,i.hoist)(c,"unstable_getStaticProps"),b=(0,i.hoist)(c,"unstable_getStaticPaths"),v=(0,i.hoist)(c,"unstable_getStaticParams"),w=(0,i.hoist)(c,"unstable_getServerProps"),j=(0,i.hoist)(c,"unstable_getServerSideProps"),y=new r.PagesRouteModule({definition:{kind:l.RouteKind.PAGES,page:"/tvfilm/[id]",pathname:"/tvfilm/[id]",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:c});a()}catch(e){a(e)}})},76826:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>z,getServerSideProps:()=>O});var r=t(20997),l=t(99816),i=t.n(l),n=t(16689),o=t(11163),c=t(25675),d=t.n(c),m=t(41664),x=t.n(m),h=t(88904),u=t(41549),g=t(78088),f=t(17218),p=t(25482),b=t(28154),v=t(47553),w=t(20245),j=t(62691),y=t(23151),N=t(3785),k=t(33980),C=t(26848),R=t(60718),S=t(34548),T=t(53849),A=t(65545),D=t(99648),L=t(69915);t(40968),t(87197);var M=t(44563),F=t(32765);t(45564);var $=t(15941),I=t(7338),P=t(53417),E=t(41649),V=t(23135),_=t(50570);t(44975);var q=t(32757),W=e([D,L,M,F,$,V]);[D,L,M,F,$,V]=W.then?(await W)():W;let B=e=>D.default.get(e).then(e=>e.data),U=(e,s,t="object-cover",a=0,l=0,i=!1,n="general")=>{if(!e)return"logo"===n?r.jsx("span",{className:"text-gray-800 font-bold text-base sm:text-lg",children:s||"Logo"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#FF8DC7] to-[#FF5CAA] flex items-center justify-center",children:r.jsx(u.default,{className:"w-1/4 h-1/4 text-white"})});s&&s.toLowerCase().includes("apple")&&"logo"===n&&(e="https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg");let o=e.includes("justwatch.com"),c={src:e,alt:s||"Image",className:t,unoptimized:!o,onError:e=>{e.target.onerror=null,"logo"===n?e.target.src="/images/placeholder-image.jpg":e.target.src="/images/placeholder-tvfilm.jpg"}};return(i&&(c.priority=!0),a>0&&l>0)?r.jsx(d(),{...c,width:a,height:l}):"logo"===n?r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(d(),{...c,width:150,height:70})}):r.jsx(d(),{...c,fill:!0,sizes:"100vw"})};function z({tvfilm:e,relatedNews:s}){let t=(0,o.useRouter)(),{id:a}=t.query,{data:l}=(0,E.useSession)(),[c,m]=(0,n.useState)(null),[D,L]=(0,n.useState)(!0),[M,F]=(0,n.useState)(null),[V,W]=(0,n.useState)(null),[z,O]=(0,n.useState)([]),[Y,K]=(0,n.useState)([]),[G,H]=(0,n.useState)(!1),[X,J]=(0,n.useState)(!1),[Q,Z]=(0,n.useState)(0),[ee,es]=(0,n.useState)(!1),[et,ea]=(0,n.useState)(0),[er,el]=(0,n.useState)(!1),[ei,en]=(0,n.useState)("watch"),[eo,ec]=(0,n.useState)(""),[ed,em]=(0,n.useState)(""),[ex,eh]=(0,n.useState)("Official Trailer"),[eu,eg]=(0,n.useState)(!1),[ef,ep]=(0,n.useState)(null),[eb,ev]=(0,n.useState)("all"),ew=(0,n.useRef)(null),{data:ej,error:ey}=(0,$.default)(a?`/api/dramas/${a}?view=true`:null,B),{data:eN}=(0,$.default)(ej?.data?"/api/dramas?limit=4&category=movie":null,B),ek=e=>{if(!e)return null;let s=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return s&&11===s[2].length?s[2]:null},eC=e=>{if(!e)return null;if(e.includes(" - "))return e;let s=new Date(e);return isNaN(s.getTime())?e:`${s.toLocaleDateString()}`},eR=e=>{ep(e),eg(!0),document.body.style.overflow="hidden"},eS=()=>{eg(!1),ep(null),document.body.style.overflow="auto"},eT=()=>{if(!V?.reviews||V.reviews.length<=1)return;let e=[...V.reviews].filter(e=>!1!==e.approved).sort((e,s)=>new Date(s.createdAt||0)-new Date(e.createdAt||0)),s=e.findIndex(e=>e._id===ef._id||e.reviewId===ef.reviewId);-1!==s&&s<e.length-1?ep(e[s+1]):ep(e[0])},eA=()=>{if(!V?.reviews||V.reviews.length<=1)return;let e=[...V.reviews].filter(e=>!1!==e.approved).sort((e,s)=>new Date(s.createdAt||0)-new Date(e.createdAt||0)),s=e.findIndex(e=>e._id===ef._id||e.reviewId===ef.reviewId);-1!==s&&s>0?ep(e[s-1]):ep(e[e.length-1])},eD=(0,n.useMemo)(()=>{if(!V?.watchProviders)return[];let e=V.watchProviders.map(e=>e.name.toLowerCase().includes("apple")?{...e,logo:"https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg"}:e);return"all"===eb?e:e.filter(e=>e.type===eb)},[V?.watchProviders,eb]),eL=e=>{if(ew.current){let s=ew.current;"left"===e?s.scrollBy({left:-350,behavior:"smooth"}):s.scrollBy({left:350,behavior:"smooth"})}},eM=(0,n.useRef)(null),[eF,e$]=(0,n.useState)({canScrollLeft:!1,canScrollRight:!0}),eI=e=>{if(!eM.current)return;let s=eM.current,t=Array.from(s.children),a=0,r=s.scrollLeft,l=s.clientWidth;for(let e=0;e<t.length;e++){let s=t[e].offsetLeft;if(s>=r&&s<r+.5*l){a=e;break}}let i="right"===e?Math.min(a+1,t.length-1):Math.max(a-1,0);t[i]&&t[i].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),setTimeout(()=>{eP()},300)},eP=()=>{if(eM.current){let e=eM.current,s=e.scrollLeft>0,t=e.scrollWidth>e.clientWidth+e.scrollLeft;e$({canScrollLeft:s,canScrollRight:t})}},[eE,eV]=(0,n.useState)(!1),[e_,eq]=(0,n.useState)(!0),eW=(e,s)=>{if(!e)return;let a=encodeURIComponent(e);t.push(`/search?q=${a}&type=actor`)};return D?r.jsx(h.default,{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(I.default,{})})}):M||!V?r.jsx(h.default,{children:(0,r.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[r.jsx(P.default,{message:M?.message||"영화/TV 프로그램을 찾을 수 없습니다."}),r.jsx("button",{onClick:()=>t.push("/tvfilm"),className:"mt-4 px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 transition-colors",children:"목록으로 돌아가기"})]})}):(0,r.jsxs)(h.default,{children:[r.jsx(_.default,{title:V.title||"TV/Film Details",description:V.summary||"",image:V.coverImage||""}),(0,r.jsxs)("div",{className:"min-h-screen text-gray-800",children:[(0,r.jsxs)("div",{className:"relative flex flex-col h-auto w-full hidden sm:flex",children:[r.jsx("div",{className:"relative w-full h-[280px] sm:h-[350px] md:h-[450px] overflow-hidden",children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[U(V.bannerImage||V.coverImage,V.title,"object-cover object-top",0,0,!0),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-black/20"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-transparent"})]})}),r.jsx("div",{className:"absolute inset-0 flex flex-col justify-end sm:justify-center p-6 md:p-12 z-10",children:r.jsx("div",{className:"container mx-auto max-w-screen-xl",children:(0,r.jsxs)("div",{className:"sm:flex items-start gap-8",children:[(0,r.jsxs)("div",{className:"hidden sm:block relative w-[180px] h-[270px] sm:w-[200px] sm:h-[300px] rounded-xl overflow-hidden shadow-2xl flex-shrink-0 border-4 border-white/10 backdrop-blur-sm transform hover:scale-105 transition-all duration-300 group",children:[U(V.coverImage,V.title,"object-cover",0,0,!0),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300"})]}),r.jsx("div",{className:"sm:hidden relative float-left w-[120px] h-[180px] mr-4 mb-4 rounded-lg overflow-hidden shadow-xl flex-shrink-0 border-2 border-white/10",children:U(V.coverImage,V.title,"object-cover",0,0,!0)}),(0,r.jsxs)("div",{className:"flex-1 sm:pt-2",children:[(0,r.jsxs)("div",{className:"mb-3 sm:mb-4 flex space-x-2",children:[(0,r.jsxs)("span",{className:"px-3 py-1 backdrop-blur-sm rounded-full text-xs font-medium inline-flex items-center",style:{backgroundColor:"rgba(35, 60, 250, 0.3)",color:"#93b4ff"},children:[r.jsx(u.default,{className:"w-3 h-3 mr-1"}),V.category||"Movie"]}),V.releaseDate&&(0,r.jsxs)("span",{className:"px-3 py-1 bg-white/10 text-white/80 backdrop-blur-sm rounded-full text-xs font-medium inline-flex items-center",children:[r.jsx(g.default,{className:"w-3 h-3 mr-1",style:{color:"#93b4ff"}}),eC(V.releaseDate)||"2023"]})]}),r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-5xl font-bold mb-2 text-white leading-tight",children:V.title}),r.jsx("div",{className:"text-white/80 text-sm sm:text-lg mb-4 sm:mb-6",children:V.originalTitle&&V.originalTitle!==V.title&&r.jsx("span",{className:"font-medium",children:V.originalTitle})}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center bg-black/40 backdrop-blur-sm px-2.5 sm:px-3.5 py-1.5 sm:py-2 rounded-full",children:[r.jsx("div",{className:"h-7 w-7 sm:h-8 sm:w-8 rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm mr-2 shadow-lg",style:{backgroundColor:"#1d1a27"},children:null!=V.reviewRating&&void 0!==V.reviewRating&&parseFloat(V.reviewRating)>0?10===parseFloat(V.reviewRating)?"10":parseFloat(V.reviewRating).toFixed(1):"-"}),r.jsx("span",{className:"text-white/90 text-xs sm:text-sm",children:"Rating"})]}),V.ageRating&&(0,r.jsxs)("div",{className:"flex items-center bg-black/40 backdrop-blur-sm px-2.5 sm:px-3.5 py-1.5 sm:py-2 rounded-full",children:[r.jsx("div",{className:"flex items-center justify-center h-7 w-7 sm:h-8 sm:w-8 rounded-full text-white font-bold text-xs sm:text-sm mr-2 shadow-lg",style:{backgroundColor:"#233cfa"},children:"string"==typeof V.ageRating&&V.ageRating.includes("+")?V.ageRating.split("+")[0]:"Not Rated"===V.ageRating||"Not Yet Rated"===V.ageRating?"NR":"ALL"===V.ageRating?"All":"string"==typeof V.ageRating&&V.ageRating.includes(" - ")?V.ageRating.split(" - ")[0]:V.ageRating||"15"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-white/90 text-xs sm:text-sm",children:"Age"}),"string"==typeof V.ageRating&&V.ageRating.includes("+")&&r.jsx("span",{className:"text-white/70 text-[10px] sm:text-xs",children:V.ageRating.includes("Teen")?"Teen":V.ageRating.includes("older")?"and older":""}),("Not Rated"===V.ageRating||"Not Yet Rated"===V.ageRating)&&r.jsx("span",{className:"text-white/70 text-[10px] sm:text-xs",children:"Not Rated"})]})]}),V.runtime&&(0,r.jsxs)("div",{className:"flex items-center bg-black/40 backdrop-blur-sm px-2.5 sm:px-3.5 py-1.5 sm:py-2 rounded-full",children:[r.jsx(f.default,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2",style:{color:"#93b4ff"}}),r.jsx("span",{className:"text-white/90 text-xs sm:text-sm",children:V.runtime||"2h 17min"})]})]}),(0,r.jsxs)("div",{className:"flex mt-4 sm:mt-6",children:[(0,r.jsxs)("button",{onClick:()=>H(!0),className:"text-white px-5 sm:px-6 py-2.5 sm:py-3 rounded-full flex items-center font-medium text-sm sm:text-base shadow-lg hover:shadow-xl transition-all group transform hover:translate-y-[-2px]",style:{backgroundColor:"#233cfa"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#1d31cb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#233cfa",children:[r.jsx(p.default,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-2.5 group-hover:animate-pulse"}),"Watch Trailer"]}),V.genres&&V.genres.length>0&&r.jsx("div",{className:"ml-3 sm:ml-4 flex items-center",children:(0,r.jsxs)("div",{className:"hidden sm:flex flex-wrap gap-1 ml-1",children:[V.genres.slice(0,2).map((e,s)=>r.jsx("span",{className:"px-2.5 py-1 bg-white/10 text-white/80 backdrop-blur-sm rounded-full text-xs font-medium",children:e},s)),V.genres.length>2&&(0,r.jsxs)("span",{className:"px-2 py-1 text-white/70 text-xs",children:["+",V.genres.length-2]})]})})]})]})]})})})]}),(0,r.jsxs)("div",{className:"sm:hidden pt-4 pb-2 px-4 bg-gradient-to-br from-gray-50 via-white to-purple-50/30",children:[V.videos&&V.videos.length>0&&r.jsx("div",{className:"mt-8 mb-4",children:r.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-xl border-2 border-white/50 bg-black",children:(0,r.jsxs)("div",{className:"relative aspect-video",children:[(()=>{let e=V.videos[0],s=ek(e.url);return s?r.jsx(d(),{src:`https://img.youtube.com/vi/${s}/maxresdefault.jpg`,alt:e.title||"Trailer",fill:!0,className:"object-cover",unoptimized:!0,onError:e=>{e.target.onerror=null,e.target.src=`https://img.youtube.com/vi/${s}/hqdefault.jpg`}}):null})(),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20"}),r.jsx("button",{onClick:()=>{let e=V.videos[0],s=ek(e.url);em(s),eh(e.title||"Official Trailer"),H(!0)},className:"absolute inset-0 flex items-center justify-center group",children:r.jsx("div",{className:"w-12 h-12 rounded-full bg-white/90 backdrop-blur-md flex items-center justify-center transform opacity-0 group-hover:opacity-100 group-hover:scale-110 transition-all duration-300 shadow-2xl",children:r.jsx(p.default,{className:"w-6 h-6 text-[#233cfa] ml-1"})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-[#233cfa] flex items-center justify-center mr-2",children:r.jsx(p.default,{className:"w-3 h-3 text-white ml-0.5"})}),r.jsx("h4",{className:"text-white text-sm font-semibold line-clamp-1",children:V.videos[0].title||"Official Trailer"})]})})]})})}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white via-purple-50/20 to-pink-50/20 rounded-3xl overflow-hidden shadow-xl border border-purple-100/50 mb-4 relative",children:[r.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 bg-gradient-to-br from-pink-200/30 to-purple-200/30 rounded-full blur-2xl"}),r.jsx("div",{className:"absolute -bottom-6 -left-6 w-20 h-20 bg-gradient-to-tr from-purple-200/30 to-pink-200/30 rounded-full blur-2xl"}),(0,r.jsxs)("div",{className:"relative z-10",children:[r.jsx("div",{className:"pt-6 px-6 pb-5 border-b border-gradient-to-r from-purple-100/50 to-pink-100/50",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 pr-4",children:[r.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent leading-tight",children:V.title}),V.originalTitle&&V.originalTitle!==V.title&&r.jsx("p",{className:"text-sm text-gray-500 mt-1 italic",children:V.originalTitle})]}),(0,r.jsxs)("div",{className:"flex items-center px-3 py-2 rounded-2xl shadow-lg",style:{backgroundColor:"#233cfa"},children:[r.jsx("div",{className:"h-7 w-7 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-sm mr-2 shadow-md",children:null!=V.reviewRating&&void 0!==V.reviewRating&&parseFloat(V.reviewRating)>0?10===parseFloat(V.reviewRating)?"10":parseFloat(V.reviewRating).toFixed(1):"NR"}),r.jsx("span",{className:"text-white text-sm font-medium",children:"Rating"})]})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsxs)("div",{className:"relative w-[110px] h-[165px] flex-shrink-0 rounded-2xl overflow-hidden shadow-2xl border-2 border-white/50 backdrop-blur-sm",children:[V&&V.coverImage&&U(V.coverImage,V.title||"Movie Image","object-cover",0,0,!0),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),r.jsx("div",{className:"ml-5 flex flex-col flex-1",children:(0,r.jsxs)("div",{className:"space-y-2",children:[V.runtime&&(0,r.jsxs)("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-xl px-3 py-2 shadow-sm border border-white/50",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-2.5 shadow-sm",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-clock-24.png",alt:"Runtime",className:"w-5 h-5"})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:V.runtime})]}),V.releaseDate&&(0,r.jsxs)("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-xl px-3 py-2 shadow-sm border border-white/50",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-2.5 shadow-sm",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-calendar-94.png",alt:"Release Date",className:"w-5 h-5"})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:eC(V.releaseDate)})]}),V.ageRating&&(0,r.jsxs)("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-xl px-3 py-2 shadow-sm border border-white/50",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-2.5 shadow-sm",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-warning-shield-94.png",alt:"Age Rating",className:"w-5 h-5"})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:"15"===V.ageRating||V.ageRating?.includes("15+")?"15 and over":"12"===V.ageRating||V.ageRating?.includes("12+")?"12 and over":"18"===V.ageRating||V.ageRating?.includes("18+")?"Adults only":"ALL"===V.ageRating?"All ages":"Not Rated"===V.ageRating?"Not Rated":V.ageRating||"Not rated"})]}),V.director&&(0,r.jsxs)("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-xl px-3 py-2 shadow-sm border border-white/50",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-2.5 shadow-sm",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-documentary-94.png",alt:"Director",className:"w-5 h-5"})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:V.director})]}),V.country&&(0,r.jsxs)("div",{className:"flex items-center bg-white/60 backdrop-blur-sm rounded-xl px-3 py-2 shadow-sm border border-white/50",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-2.5 shadow-sm",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-globe-94.png",alt:"Country",className:"w-5 h-5"})}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:V.country||"South Korea"})]})]})})]}),r.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:V&&V.genres&&Array.isArray(V.genres)&&V.genres.length>0?V.genres.map((e,s)=>r.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-semibold shadow-sm transition-colors cursor-pointer",style:{backgroundColor:"#f3f4f6",color:"#1f2937"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},onTouchStart:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onTouchEnd:e=>{setTimeout(()=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},200)},children:e},s)):r.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-600 rounded-full text-xs font-semibold",children:V.category||"Movie"})})]}),V.reviewCount>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 mb-1",children:[(0,r.jsxs)("h3",{className:"text-sm font-bold text-gray-800 mb-2 flex items-center",children:[r.jsx("img",{src:"/images/icons8-star-94.png",alt:"Star",className:"w-4 h-4 mr-1.5"}),"Viewer Ratings"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Acting/Cast"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.castRating||8)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-xs font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.castRating||8})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Story"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.storyRating||8)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-xs font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.storyRating||8})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Music"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.musicRating||7.5)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-xs font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.musicRating||7.5})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Rewatch Value"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.rewatchRating||7)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-xs font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.rewatchRating||7})]})]})]})]})]})]})]}),G&&r.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"relative w-full max-w-5xl bg-black rounded-2xl overflow-hidden shadow-2xl border border-white/10",children:[r.jsx("div",{className:"aspect-video",children:r.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${ed||eo}?autoplay=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute inset-0"})}),r.jsx("button",{onClick:()=>H(!1),className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-colors backdrop-blur-sm",children:r.jsx(b.default,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black to-transparent",children:[r.jsx("h3",{className:"text-white text-lg font-medium",children:V.title}),r.jsx("p",{className:"text-white/70 text-sm",children:ex})]})]})}),eu&&ef&&(0,r.jsxs)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 backdrop-blur-sm",onClick:eS,children:[V?.reviews?.length>1&&r.jsx("button",{onClick:e=>{e.stopPropagation(),eA()},className:"absolute left-4 md:left-8 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/40 backdrop-blur-sm hover:bg-black/60 shadow-lg hover:shadow-xl text-white transition-all z-20","aria-label":"Previous review",children:r.jsx(v.default,{className:"w-6 h-6"})}),V?.reviews?.length>1&&r.jsx("button",{onClick:e=>{e.stopPropagation(),eT()},className:"absolute right-4 md:right-8 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/40 backdrop-blur-sm hover:bg-black/60 shadow-lg hover:shadow-xl text-white transition-all z-20","aria-label":"Next review",children:r.jsx(w.default,{className:"w-6 h-6"})}),r.jsx("div",{className:"relative w-full max-w-3xl bg-white rounded-xl overflow-hidden shadow-2xl mx-4 my-4 sm:my-8",style:{border:"1px solid rgba(35, 60, 250, 0.2)"},onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"p-4 sm:p-5 max-h-[calc(100vh-4rem)] overflow-y-auto",children:[r.jsx("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4",children:r.jsx("button",{onClick:eS,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 p-1.5 sm:p-2 rounded-full transition-colors",children:r.jsx(b.default,{className:"w-4 h-4 sm:w-5 sm:h-5"})})}),(0,r.jsxs)("div",{className:"flex items-start sm:items-center mb-3 sm:mb-4 gap-2.5 sm:gap-3",children:[r.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-full flex items-center justify-center text-white font-bold text-base sm:text-lg",style:{background:"linear-gradient(to bottom right, #233cfa, #009efc)"},children:ef.rating}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"text-gray-900 font-bold text-base sm:text-lg truncate pr-8",children:ef.title}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mt-0.5",children:[r.jsx("span",{className:"text-xs sm:text-sm text-gray-600 font-medium truncate max-w-[120px] sm:max-w-none",children:ef.username||ef.authorName||"Anonymous"}),r.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500",children:ef.reviewDate||new Date(ef.createdAt||Date.now()).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),r.jsx("div",{className:"flex mb-4",children:[1,2,3,4,5].map(e=>r.jsx(j.default,{className:`w-4 h-4 sm:w-5 sm:h-5 ${e<=Math.floor(ef.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},e))}),(0,r.jsxs)("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[r.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Acting/Cast"}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm font-medium",style:{color:"#233cfa"},children:[ef.castRating?ef.castRating:(.9*ef.rating).toFixed(1),"/10"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[r.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Story"}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm font-medium",style:{color:"#233cfa"},children:[ef.storyRating?ef.storyRating:(.95*ef.rating).toFixed(1),"/10"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[r.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Music"}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm font-medium",style:{color:"#233cfa"},children:[ef.musicRating?ef.musicRating:(.9*ef.rating).toFixed(1),"/10"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-4",children:[r.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Rewatch Value"}),(0,r.jsxs)("span",{className:"text-xs sm:text-sm font-medium",style:{color:"#233cfa"},children:[ef.rewatchValue?ef.rewatchValue:(.85*ef.rating).toFixed(1),"/10"]})]})]}),r.jsx("div",{className:"prose prose-sm sm:prose max-w-none mb-3 sm:mb-4",children:r.jsx("div",{className:"text-gray-700 text-sm sm:text-base whitespace-pre-line",children:ef.reviewText?.replace(/^This review may contain spoilers\s+/i,"")||ef.content||"No detailed review provided."})}),ef.tags&&ef.tags.length>0&&r.jsx("div",{className:"mt-3 sm:mt-4 flex flex-wrap gap-1.5 sm:gap-2",children:ef.tags.map((e,s)=>r.jsx("span",{className:"px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium",style:{backgroundColor:"rgba(35, 60, 250, 0.1)",color:"#233cfa"},children:e},s))}),r.jsx("div",{className:"mt-4 sm:mt-6 border-t border-gray-100 pt-3 sm:pt-4 flex flex-wrap justify-between items-center",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[ef.helpfulCount>0&&(0,r.jsxs)("span",{className:"text-[10px] sm:text-xs px-2 py-0.5 sm:py-1 sm:px-2.5 bg-gray-100 text-gray-700 rounded-full",children:[r.jsx(y.default,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 inline mr-1"}),ef.helpfulCount," helpful"]}),ef.watched&&(0,r.jsxs)("span",{className:"text-[10px] sm:text-xs px-2 py-0.5 sm:py-1 sm:px-2.5 bg-green-50 text-green-700 rounded-full",children:[r.jsx(N.default,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 inline mr-1"}),"Watched"]})]})})]})})]}),r.jsx("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-100",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:(0,r.jsxs)("div",{style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},className:"jsx-e517fac92104f808 flex overflow-x-auto",children:[r.jsx(i(),{id:"e517fac92104f808",children:"div.flex.overflow-x-auto.jsx-e517fac92104f808::-webkit-scrollbar{display:none}"}),(0,r.jsxs)("a",{href:"#watch",onClick:e=>{e.preventDefault(),en("watch"),document.getElementById("watch").scrollIntoView({behavior:"smooth"})},style:"watch"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"watch"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"watch"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"watch"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(k.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Where to Watch"})]}),"watch"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]}),(0,r.jsxs)("a",{href:"#synopsis",onClick:e=>{e.preventDefault(),en("synopsis"),document.getElementById("synopsis").scrollIntoView({behavior:"smooth"})},style:"synopsis"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"synopsis"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"synopsis"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"synopsis"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(C.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Synopsis"})]}),"synopsis"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]}),(0,r.jsxs)("a",{href:"#tvfilm-trailers",onClick:e=>{e.preventDefault(),en("trailers"),document.getElementById("tvfilm-trailers").scrollIntoView({behavior:"smooth"})},style:"trailers"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"trailers"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"trailers"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"trailers"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(p.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Trailers"})]}),"trailers"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]}),(0,r.jsxs)("a",{href:"#cast",onClick:e=>{e.preventDefault(),en("cast"),document.getElementById("cast").scrollIntoView({behavior:"smooth"})},style:"cast"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"cast"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"cast"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"cast"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(R.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Cast"})]}),"cast"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]}),(0,r.jsxs)("a",{href:"#reviews",onClick:e=>{e.preventDefault(),en("reviews"),document.getElementById("reviews").scrollIntoView({behavior:"smooth"})},style:"reviews"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"reviews"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"reviews"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"reviews"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(S.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Reviews"})]}),"reviews"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]}),(0,r.jsxs)("a",{href:"#similar",onClick:e=>{e.preventDefault(),en("similar"),document.getElementById("similar").scrollIntoView({behavior:"smooth"})},style:"similar"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 group relative flex items-center px-5 py-4 text-sm transition-all whitespace-nowrap ${"similar"===ei?"font-medium":"text-gray-600 hover:text-gray-900"}`,children:[(0,r.jsxs)("div",{style:"similar"===ei?{color:"#233cfa"}:{},className:`jsx-e517fac92104f808 flex items-center justify-center ${"similar"===ei?"":"text-gray-400 group-hover:text-gray-600"}`,children:[r.jsx(T.default,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"jsx-e517fac92104f808",children:"Similar"})]}),"similar"===ei&&r.jsx("div",{style:{backgroundColor:"#233cfa"},className:"jsx-e517fac92104f808 absolute bottom-0 left-0 w-full h-0.5 rounded-t-full"})]})]})})}),r.jsx("div",{className:"bg-white pt-10",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-10",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-12",children:[(0,r.jsxs)("div",{className:"lg:w-2/3 flex flex-col",children:[(0,r.jsxs)("div",{id:"watch",className:"mb-12 scroll-mt-24 order-1",children:[r.jsx("h2",{className:"text-2xl font-bold mb-5 text-gray-900 py-1",children:"Where to Watch"}),r.jsx("div",{className:"space-y-4",children:eD&&eD.length>0?eD.map((e,s)=>(0,r.jsxs)("div",{className:"rounded-xl overflow-hidden transition-all duration-300 hover:shadow-xl hover:translate-y-[-3px] border border-gray-100 shadow-sm relative group",style:{backgroundColor:"#1d1a27"},children:[r.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(to right, rgba(0, 158, 252, 0.1), rgba(0, 158, 252, 0.05))"}}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 sm:p-5 relative",children:[(0,r.jsxs)("div",{className:"flex items-center w-full sm:w-auto",children:[r.jsx("div",{className:"h-12 w-24 sm:h-14 sm:w-32 flex items-center justify-center rounded-xl overflow-hidden",children:e.logo||e.imageUrl?U(e.imageUrl||e.logo,e.name,"object-contain w-full h-full rounded-xl",0,0,!1,"logo"):r.jsx("span",{className:"text-white font-bold text-base sm:text-lg",children:e.name})}),(0,r.jsxs)("div",{className:"ml-3 sm:ml-4",children:[r.jsx("h3",{className:"text-base font-semibold transition-colors duration-300",style:{color:"white"},onMouseEnter:e=>e.currentTarget.style.color="#009efc",onMouseLeave:e=>e.currentTarget.style.color="white",children:e.name}),r.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:e.quality&&e.quality.map((e,s)=>r.jsx("div",{className:"text-xs px-2.5 py-1 rounded-full font-medium border transition-all duration-300",style:{backgroundColor:"#f9fafb",color:"#4b5563",borderColor:"#f3f4f6"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#e0f2fe",e.currentTarget.style.color="#009efc",e.currentTarget.style.borderColor="#009efc"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f9fafb",e.currentTarget.style.color="#4b5563",e.currentTarget.style.borderColor="#f3f4f6"},children:e},s))})]})]}),r.jsx("div",{className:"hidden sm:flex items-center justify-end w-full sm:w-auto mt-4 sm:mt-0 border-t sm:border-t-0 pt-3 sm:pt-0 mt-3 sm:mt-0",children:(0,r.jsxs)("div",{className:"text-left sm:text-right",children:[r.jsx("div",{className:"text-white font-semibold text-sm sm:text-base",children:e?.type?e.type.charAt(0).toUpperCase()+e.type.slice(1):"Unknown"}),e.price&&r.jsx("div",{className:"text-xs sm:text-sm font-medium",style:{color:"#009efc"},children:e.price})]})})]})]},s)):(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-100",style:{boxShadow:"none"},children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Providers Found"}),r.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"No watch providers available for this content."})]})})]}),(0,r.jsxs)("div",{id:"synopsis",className:"mb-16 scroll-mt-24 order-2",children:[r.jsx("h2",{className:"text-2xl font-bold mb-5 text-gray-900 py-1",children:"Synopsis"}),r.jsx("div",{className:"px-1 py-2",children:r.jsx("div",{className:"prose prose-lg max-w-none",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:V.summary||"Detective Seo Do-cheol and his violent crimes unit combat criminals without family backing or connections. One day, a professor's death is linked to previous murder cases, causing nationwide uproar about a serial killer. As the detectives begin tracking down clues, the serial killer taunts the public by releasing a preview of his next victim online. The violent crimes unit deploys rookie detective Park Sun-woo, who impresses Do-cheol with his sense of justice. As the investigation progresses, the case takes an unexpected turn..."})})})]}),(0,r.jsxs)("div",{id:"reviews",className:"mb-6 scroll-mt-24 order-5",children:[r.jsx("div",{className:"flex items-center mb-6",children:(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 py-1",children:["Reviews",r.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500 align-middle",children:V.reviewCount||"0"})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden",children:[r.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-50",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-4 md:gap-8",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"bg-white p-4 sm:p-5 rounded-full shadow-lg relative",style:{border:"1px solid rgba(35, 60, 250, 0.2)"},children:[r.jsx("div",{className:"text-3xl sm:text-4xl md:text-5xl font-bold",style:{background:"linear-gradient(to right, #233cfa, #009efc)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:V.reviewRating?parseFloat(V.reviewRating).toFixed(1):"0.0"}),r.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full text-xs text-white flex items-center justify-center shadow-sm font-bold",children:"10"})]}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-gray-700 font-medium text-sm uppercase tracking-wider mb-1",children:"Overall Rating"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(e=>r.jsx(j.default,{className:`w-5 h-5 ${e<=Math.round(parseFloat(V.reviewRating||0)/2)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},e))}),(0,r.jsxs)("span",{className:"ml-2 text-sm text-gray-600 font-medium",children:["(",V.reviewCount||0," reviews)"]})]})]})]}),(0,r.jsxs)("div",{className:"flex-1 mt-2 md:mt-0",children:[r.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Rating Distribution"}),r.jsx("div",{className:"hidden md:grid grid-cols-5 gap-2",children:(V.ratingDistribution||[0,0,0,0,0,0,0,0,0,0]).slice(5).reverse().map((e,s)=>{let t=10-s,a=V.reviewCount&&V.reviewCount>0?Math.round(e/V.reviewCount*100):0;return(0,r.jsxs)("div",{className:"flex flex-col items-center group",children:[r.jsx("span",{className:"text-xs font-medium text-gray-600 mb-1",children:t}),r.jsx("div",{className:"h-2.5 w-full bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out shadow-sm",style:{width:`${a}%`,backgroundColor:"#233cfa"}})}),(0,r.jsxs)("span",{className:"text-xs font-medium text-gray-500 mt-1",children:[a,"%"]})]},t)})}),r.jsx("div",{className:"md:hidden space-y-1",children:(V.ratingDistribution||[0,0,0,0,0,0,0,0,0,0]).slice(5).reverse().map((e,s)=>{let t=10-s,a=V.reviewCount&&V.reviewCount>0?Math.round(e/V.reviewCount*100):0;return(0,r.jsxs)("div",{className:"flex items-center group",children:[r.jsx("span",{className:"w-6 text-xs font-medium text-gray-600 text-center",children:t}),r.jsx("div",{className:"flex-grow mx-2 bg-gray-200 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out shadow-sm",style:{width:`${a}%`,backgroundColor:"#233cfa"}})}),(0,r.jsxs)("span",{className:"w-8 text-right text-xs font-medium text-gray-500",children:[a,"%"]})]},t)})})]})]})}),(0,r.jsxs)("div",{className:"p-4 sm:p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:(0,r.jsxs)("h3",{className:"font-bold text-sm sm:text-lg text-gray-800 flex items-center",children:[r.jsx(A.default,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2",style:{color:"#233cfa"}}),"Featured Reviews"]})}),V.reviews&&V.reviews.length>0?(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"overflow-x-auto hide-scrollbar pb-3",ref:ew,children:r.jsx("div",{className:"flex space-x-2 md:space-x-4",style:{minWidth:"min-content",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch"},children:V.reviews.filter(e=>!1!==e.approved).sort((e,s)=>new Date(s.createdAt||0)-new Date(e.createdAt||0)).map((e,s)=>(0,r.jsxs)("div",{className:"w-[calc(100vw-56px)] max-w-[260px] sm:w-[280px] md:w-[320px] flex-shrink-0 bg-white border rounded-xl p-2.5 sm:p-3 hover:shadow-md transition-all duration-300 group relative flex flex-col cursor-pointer",onClick:()=>eR(e),style:{scrollSnapAlign:"start",borderColor:"#e5e7eb"},onMouseEnter:e=>e.currentTarget.style.borderColor="rgba(35, 60, 250, 0.3)",onMouseLeave:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[r.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 rounded-tr-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:"linear-gradient(to bottom left, rgba(35, 60, 250, 0.1), transparent)"}}),(0,r.jsxs)("div",{className:"flex justify-between items-start mb-1.5 sm:mb-2 relative",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm shadow-sm group-hover:shadow-md transition-all duration-300",style:{background:"linear-gradient(to bottom right, #233cfa, #009efc)"},children:e.rating}),(0,r.jsxs)("div",{className:"ml-2",children:[r.jsx("div",{className:"text-xs sm:text-sm font-semibold text-gray-800 transition-colors duration-300 truncate max-w-[120px] sm:max-w-[160px] group-hover:text-[#009efc]",children:e.username||e.authorName||"Anonymous"}),r.jsx("div",{className:"flex mt-0.5",children:[1,2,3,4,5].map(s=>r.jsx(j.default,{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 ${s<=Math.floor(e.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},s))})]})]}),r.jsx("span",{className:"text-[10px] sm:text-xs text-gray-400 group-hover:text-gray-500 transition-colors duration-300",children:(e=>{let s=new Date,t=new Date(e);return`${Math.ceil(Math.abs(s-t)/864e5)} days ago`})(e.createdAt)})]}),r.jsx("h4",{className:"font-bold text-gray-900 text-xs sm:text-sm mb-1 sm:mb-1.5 line-clamp-1 transition-colors duration-300 group-hover:text-[#009efc]",children:e.title||"First Impressions"}),r.jsx("p",{className:"text-gray-600 text-xs sm:text-sm line-clamp-3 group-hover:text-gray-700 transition-colors duration-300 flex-grow",children:e.reviewText?.replace(/\s{2,}/g," ").replace(/^This review may contain spoilers\s+/i,"")||e.content}),(0,r.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[r.jsx("div",{}),(0,r.jsxs)("span",{className:"text-[10px] sm:text-xs font-medium flex items-center group-hover:opacity-100 transition-opacity duration-300",style:{color:"#233cfa"},onMouseEnter:e=>e.currentTarget.style.color="#009efc",onMouseLeave:e=>e.currentTarget.style.color="#233cfa",children:["Read more",r.jsx(w.default,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 ml-0.5"})]})]})]},e._id||e.reviewId||s))})}),e_&&r.jsx("div",{className:"absolute top-1/2 -right-2 sm:-right-4 transform -translate-y-1/2 z-10",children:r.jsx("button",{onClick:()=>eL("right"),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-white shadow-lg border border-gray-200 flex items-center justify-center text-gray-600 hover:text-pink-500 hover:border-pink-200 transition-all group",children:r.jsx(w.default,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:scale-110 transition-transform"})})}),eE&&r.jsx("div",{className:"absolute top-1/2 -left-2 sm:-left-4 transform -translate-y-1/2 z-10",children:r.jsx("button",{onClick:()=>eL("left"),className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-white shadow-lg border border-gray-200 flex items-center justify-center text-gray-600 hover:text-pink-500 hover:border-pink-200 transition-all group",children:r.jsx(w.default,{className:"w-4 h-4 sm:w-5 sm:h-5 rotate-180 group-hover:scale-110 transition-transform"})})})]}):(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-100",style:{boxShadow:"none"},children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Reviews Yet"}),r.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"No reviews available for this title."})]})]})]})]}),(0,r.jsxs)("div",{id:"tvfilm-trailers",className:"mb-12 scroll-mt-24 order-3",children:[r.jsx("h2",{className:"text-2xl font-bold mb-5 text-gray-900 py-1",children:"Videos: Trailers & Teasers"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"overflow-x-auto pb-4 hide-scrollbar",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch",scrollSnapType:"x mandatory",display:"flex",gap:"0.5rem"},ref:eM,children:V.videos&&V.videos.length>0?r.jsx(r.Fragment,{children:V.videos.map((e,s)=>{let t=ek(e.url);return(0,r.jsxs)("div",{className:"w-72 sm:w-80 md:w-96 flex-shrink-0 rounded-xl overflow-hidden group border border-gray-100 shadow-sm hover:shadow-md transition-all",style:{scrollSnapAlign:"center"},children:[(0,r.jsxs)("div",{className:"relative aspect-video bg-gray-100",children:[t?r.jsx(d(),{src:`https://img.youtube.com/vi/${t}/mqdefault.jpg`,alt:e.title,fill:!0,className:"object-cover",unoptimized:!0,onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.jpg"}}):U("/images/placeholder-tvfilm.jpg",e.title),r.jsx("button",{onClick:s=>{s.preventDefault(),em(t),eh(e.title||"Official Trailer"),H(!0)},className:"absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/0 transition-all",children:r.jsx("div",{className:"h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-white/20 backdrop-blur-md group-hover:backdrop-blur-none border border-white/30 flex items-center justify-center transform group-hover:scale-110 transition-all duration-300",style:{transition:"all 0.3s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#233cfa",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",children:r.jsx(p.default,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white ml-0.5"})})})]}),e.title&&r.jsx("div",{className:"p-3",children:r.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2 transition-colors group-hover:text-[#009efc]",children:e.title||"Official Trailer"})})]},s)})}):(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-100 w-full",style:{boxShadow:"none"},children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Videos Available"}),r.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"No trailers or teasers available for this content."})]})}),V.videos&&V.videos.length>1&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:`absolute top-1/2 -right-2 sm:-right-4 transform -translate-y-1/2 ${eF.canScrollRight?"visible":"invisible"}`,children:r.jsx("button",{onClick:()=>eI("right"),className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white shadow-lg border flex items-center justify-center transition-all group",style:{borderColor:"#e5e7eb",color:"#4b5563"},onMouseEnter:e=>{e.currentTarget.style.color="#233cfa",e.currentTarget.style.borderColor="#233cfa"},onMouseLeave:e=>{e.currentTarget.style.color="#4b5563",e.currentTarget.style.borderColor="#e5e7eb"},children:r.jsx(w.default,{className:"w-5 h-5 sm:w-6 sm:h-6 group-hover:scale-110 transition-transform"})})}),r.jsx("div",{className:`absolute top-1/2 -left-2 sm:-left-4 transform -translate-y-1/2 ${eF.canScrollLeft?"visible":"invisible"}`,children:r.jsx("button",{onClick:()=>eI("left"),className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-white shadow-lg border flex items-center justify-center transition-all group",style:{borderColor:"#e5e7eb",color:"#4b5563"},onMouseEnter:e=>{e.currentTarget.style.color="#233cfa",e.currentTarget.style.borderColor="#233cfa"},onMouseLeave:e=>{e.currentTarget.style.color="#4b5563",e.currentTarget.style.borderColor="#e5e7eb"},children:r.jsx(w.default,{className:"w-5 h-5 sm:w-6 sm:h-6 rotate-180 group-hover:scale-110 transition-transform"})})})]})]})]}),r.jsx("div",{className:"order-4",children:r.jsx(q.default,{cast:Y,onActorClick:e=>eW(e.name,null)})})]}),r.jsx("div",{className:"lg:w-1/3 space-y-6 hidden lg:block",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md border border-gray-100 sticky top-24 max-h-[700px] overflow-y-auto",children:[r.jsx("div",{className:"pt-5 px-5 border-b border-gray-100 pb-4",children:r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Movie Information"})}),(0,r.jsxs)("div",{className:"px-5 py-5 flex",children:[r.jsx("div",{className:"relative w-[110px] h-[165px] flex-shrink-0 rounded-xl overflow-hidden shadow-lg border border-gray-200",children:U(V.coverImage,V.title,"object-cover",0,0,!0)}),(0,r.jsxs)("div",{className:"ml-4 flex flex-col py-1 flex-1",children:[r.jsx("h3",{className:"font-bold text-base text-gray-800 mb-2 leading-tight line-clamp-2",children:V.title}),(0,r.jsxs)("div",{className:"flex items-center mb-3 bg-gray-50 rounded-lg px-3 py-2",children:[r.jsx("div",{className:"h-8 w-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-3 shadow-md",style:{backgroundColor:"#1d1a27"},children:null!=V.reviewRating&&void 0!==V.reviewRating&&parseFloat(V.reviewRating)>0?10===parseFloat(V.reviewRating)?"10":parseFloat(V.reviewRating).toFixed(1):"NR"}),r.jsx("span",{className:"text-gray-700 font-medium",children:"Rating"})]}),r.jsx("div",{className:"flex flex-wrap gap-1.5 mt-1",children:V.genres&&V.genres.length>0?V.genres.map((e,s)=>r.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium border transition-all",style:{backgroundColor:"#f3f4f6",color:"#1f2937",borderColor:"#e5e7eb",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white",e.currentTarget.style.borderColor="#009efc"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937",e.currentTarget.style.borderColor="#e5e7eb"},children:e},s)):r.jsx("span",{className:"text-gray-700 text-xs",children:V.category||"Movie"})})]})]}),r.jsx("div",{className:"border-t border-gray-100",children:(0,r.jsxs)("div",{className:"p-5 space-y-3",children:[V.director&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-documentary-94.png",alt:"Director",className:"w-5 h-5"})}),r.jsx("h4",{className:"text-sm text-gray-500 font-medium",children:"Director"})]}),r.jsx("div",{className:"text-right",children:r.jsx("span",{className:"text-gray-900 font-semibold text-sm",children:V.director})})]}),V.runtime&&(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-clock-24.png",alt:"Runtime",className:"w-5 h-5"})}),r.jsx("h4",{className:"text-sm text-gray-500 font-medium",children:"Runtime"})]}),r.jsx("span",{className:"text-gray-900 font-semibold text-sm",children:V.runtime})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-warning-shield-94.png",alt:"Age Rating",className:"w-5 h-5"})}),r.jsx("h4",{className:"text-sm text-gray-500 font-medium",children:"Age Rating"})]}),r.jsx("span",{className:"text-gray-900 font-semibold text-sm whitespace-nowrap",children:"15"===V.ageRating||V.ageRating?.includes("15+")?"15 and over":"12"===V.ageRating||V.ageRating?.includes("12+")?"12 and over":"18"===V.ageRating||V.ageRating?.includes("18+")?"Adults only":"ALL"===V.ageRating?"All ages":"Not Rated"===V.ageRating||"Not Yet Rated"===V.ageRating?"Not Rated":V.ageRating||"Not rated"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-globe-94.png",alt:"Country",className:"w-5 h-5"})}),r.jsx("h4",{className:"text-sm text-gray-500 font-medium",children:"Country"})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-900 font-semibold",children:[r.jsx("span",{className:"mr-1.5 text-sm",children:"\uD83C\uDDF0\uD83C\uDDF7"}),r.jsx("span",{className:"text-sm",children:V.country||"South Korea"})]})]}),V.releaseDate&&(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{backgroundColor:"rgba(35, 60, 250, 0.1)"},children:r.jsx("img",{src:"/images/icons8-calendar-94.png",alt:"Release Date",className:"w-5 h-5"})}),r.jsx("h4",{className:"text-sm text-gray-500 font-medium",children:"Release Date"})]}),r.jsx("span",{className:"text-gray-900 font-semibold text-sm text-right break-words",children:eC(V.releaseDate)})]})]})}),V.reviewCount>0&&r.jsx("div",{className:"border-t border-gray-100",children:(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("h4",{className:"text-sm font-bold text-gray-700 mb-3 flex items-center",children:[r.jsx("img",{src:"/images/icons8-star-94.png",alt:"Star",className:"w-4 h-4 mr-2"}),"Viewer Ratings"]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Acting/Cast"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.castRating||8)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.castRating||8})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Story"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.storyRating||8)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.storyRating||8})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Music"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.musicRating||7.5)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.musicRating||7.5})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Rewatch Value"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full rounded-full",style:{width:`${10*(V.reviewStats?.rewatchRating||7)}%`,backgroundColor:"#233cfa"}})}),r.jsx("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:V.reviewStats?.rewatchRating||7})]})]})]})]})})]})})]})})}),r.jsx("div",{className:"pt-0 pb-10 bg-transparent",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:(0,r.jsxs)("div",{className:"mt-16 mb-20",id:"similar",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-4 flex-shrink-0",children:r.jsx("img",{src:"/images/icons8-link-48.png",alt:"Related News",className:"h-12 w-12 object-contain"})}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-sm font-semibold tracking-wider uppercase mb-1 block",style:{color:"#233CFA"},children:"Related Content"}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Related News"})]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s&&s.length>0?s.map((e,s)=>r.jsx(x(),{href:`/news/${e._id}`,passHref:!0,onClick:()=>{},children:r.jsx("div",{className:"block cursor-pointer",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden transition-all duration-300 group relative",children:[r.jsx("div",{className:"h-64 overflow-hidden relative rounded-md",children:r.jsx("img",{src:e.coverImage||e.thumbnail||"/images/placeholder.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder.jpg"}})}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h3",{className:"font-bold text-gray-800 text-xl md:text-2xl mb-2 line-clamp-2 min-h-[3.5rem] group-hover:text-[#006fff] transition-colors",children:e.title}),r.jsx("p",{className:"text-gray-600 text-xs line-clamp-2 mb-3",children:e.content&&e.content.trim()?e.content.replace(/<[^>]*>/g,"").slice(0,120)+"...":e.summary?e.summary.slice(0,120)+"...":"No content available"}),(0,r.jsxs)("div",{className:"flex justify-between items-end",children:[(0,r.jsxs)("div",{className:"flex items-center text-gray-500 text-xs",children:[r.jsx(f.default,{size:12,className:"mr-1 text-gray-500"}),r.jsx("span",{children:new Date(e.publishedAt||e.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("span",{className:"inline-flex items-center text-xs font-medium hover:underline cursor-pointer group",style:{color:"#233CFA"},children:["Read more ",r.jsx(w.default,{size:14,className:"ml-1 group-hover:animate-pulse",style:{color:"#233CFA"}})]})]})]})]})})},s)):(0,r.jsxs)("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-100 col-span-full",style:{boxShadow:"none"},children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"No Related News"}),r.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"No news related to this movie is currently available."})]})})]})})})]})]})}async function O({params:e,req:s,query:t,resolvedUrl:a}){let{id:r}=e;try{let e=await fetch(`http://43.202.38.79:13001/api/dramas/${r}?view=true`),s=await e.json();if(!e.ok||!s.success)return{notFound:!0};let t=s.data,a=await fetch("http://43.202.38.79:13001/api/news/movie?limit=50"),l=await a.json(),i=[];try{if((i=l.success?l.data.filter(e=>{let s=(t?.title?.toLowerCase()||"").split(/\s+/).filter(e=>e.length>=3).map(e=>e.toLowerCase()),a=s.length>0&&s.some(s=>e?.title?.toLowerCase().includes(s)),l=s.length>0&&e?.summary&&s.some(s=>e.summary.toLowerCase().includes(s)),i=s.length>0&&e?.content&&s.some(s=>e.content.toLowerCase().includes(s)),n=Array.isArray(e?.tags)&&(e.tags.includes(r)||e.tags.includes(t.title)||s.length>0&&s.some(s=>e.tags.some(e=>e?.toLowerCase().includes(s)))),o=Array.isArray(t.cast)&&t.cast.some(s=>{if(!s?.name)return!1;let t=s.name.toLowerCase();return e?.title?.toLowerCase().includes(t)||e?.summary&&e.summary.toLowerCase().includes(t)||e?.content&&e.content.toLowerCase().includes(t)||Array.isArray(e?.tags)&&e.tags.some(e=>e?.toLowerCase().includes(t))}),c=t.genres&&Array.isArray(t.genres)&&e?.content&&t.genres.some(s=>e.content.toLowerCase().includes(s.toLowerCase()))||t.genres&&Array.isArray(t.genres)&&e?.title&&t.genres.some(s=>e.title.toLowerCase().includes(s.toLowerCase()));return a||l||i||n||o||c}):[]).length<3){let e=await fetch("http://43.202.38.79:13001/api/news?limit=30&sort=views&category=movie");e.ok;let s=await e.json();if(s.success&&Array.isArray(s.data)){let e=i.map(e=>e._id),t=s.data.filter(s=>!e.includes(s._id)),a=6-i.length,r=t.slice(0,a);if((i=[...i,...r]).length<3){let e=await fetch("http://43.202.38.79:13001/api/news?limit=20&sort=views");if(e.ok){let s=await e.json();if(s.success&&Array.isArray(s.data)){let e=i.map(e=>e._id),t=s.data.filter(s=>!e.includes(s._id)),a=6-i.length,r=t.slice(0,a);i=[...i,...r]}}}}}i=i.slice(0,6)}catch(e){}return{props:{tvfilm:t,relatedNews:i}}}catch(e){return{notFound:!0}}}a()}catch(e){a(e)}})},87197:e=>{e.exports=require("@fortawesome/react-fontawesome")},45564:e=>{e.exports=require("date-fns/locale")},41649:e=>{e.exports=require("next-auth/react")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},71568:e=>{e.exports=require("zlib")},32765:e=>{e.exports=import("@fortawesome/free-regular-svg-icons")},44563:e=>{e.exports=import("@fortawesome/free-solid-svg-icons")},99648:e=>{e.exports=import("axios")},69915:e=>{e.exports=import("js-cookie")},23135:e=>{e.exports=import("react-markdown")},15941:e=>{e.exports=import("swr")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[3393,1859,6859,8559,6870,8505,8523,5673],()=>t(59978));module.exports=a})();