"use strict";(()=>{var e={};e.id=6966,e.ids=[6966],e.modules={9701:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>j,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>b,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>f});var a=s(87093),l=s(35244),i=s(1323),o=s(65949),n=s(81928),d=s(85139),c=e([d]);d=(c.then?(await c)():c)[0];let m=(0,i.hoist)(d,"default"),u=(0,i.hoist)(d,"getStaticProps"),h=(0,i.hoist)(d,"getStaticPaths"),x=(0,i.hoist)(d,"getServerSideProps"),p=(0,i.hoist)(d,"config"),g=(0,i.hoist)(d,"reportWebVitals"),f=(0,i.hoist)(d,"unstable_getStaticProps"),v=(0,i.hoist)(d,"unstable_getStaticPaths"),b=(0,i.hoist)(d,"unstable_getStaticParams"),y=(0,i.hoist)(d,"unstable_getServerProps"),w=(0,i.hoist)(d,"unstable_getServerSideProps"),j=new a.PagesRouteModule({definition:{kind:l.RouteKind.PAGES,page:"/tvfilm",pathname:"/tvfilm",bundlePath:"",filename:""},components:{App:n.default,Document:o.default},userland:d});r()}catch(e){r(e)}})},88904:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var r=s(20997),a=s(16689),l=s(19086),i=s(44975),o=s(76090),n=s(11163);let d=({children:e})=>{let[t,s]=(0,a.useState)(!1),d=(0,n.useRouter)();return(0,a.useEffect)(()=>{let e=()=>{s((document.body.scrollTop||window.scrollY||window.pageYOffset||document.documentElement.scrollTop)>300)};e(),document.body.addEventListener("scroll",e,{passive:!0}),window.addEventListener("scroll",e,{passive:!0}),document.addEventListener("scroll",e,{passive:!0});let t=setInterval(e,500);return()=>{document.body.removeEventListener("scroll",e),window.removeEventListener("scroll",e),document.removeEventListener("scroll",e),clearInterval(t)}},[d.pathname]),(0,a.useEffect)(()=>{if("undefined"!=typeof document){document.body.classList.forEach(e=>{e.startsWith("page-")&&document.body.classList.remove(e)});let e=d.pathname.split("/")[1]||"home";document.body.classList.add(`page-${e}`)}},[d.pathname]),(0,a.useEffect)(()=>{},[d.pathname]),(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[r.jsx(l.default,{}),r.jsx("main",{className:"flex-grow pt-14",children:e}),r.jsx(i.default,{}),t&&r.jsx("button",{onClick:()=>{document.body.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 right-6 p-3 bg-white rounded-full shadow-lg transition-all hover:scale-110 z-[9999]","aria-label":"맨 위로 이동",style:{border:"2px solid #233CFA"},children:r.jsx(o.default,{size:20,color:"#233CFA"})})]})}},76090:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},51568:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},47553:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},20245:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},54098:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},17218:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},62691:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});let r=(0,s(64370).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},85139:(e,t,s)=>{s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>b,getServerSideProps:()=>y});var a=s(20997),l=s(16689),i=s(11163),o=s(41664),n=s.n(o),d=s(88904),c=s(47553),m=s(51568),u=s(54098),h=s(62691),x=s(17218),p=s(20245),g=s(99648),f=s(55704),v=e([g]);function b({tvfilms:e=[],movieNews:t=[],newsPagination:s}){(0,i.useRouter)();let[r,o]=(0,l.useState)(e),[g,v]=(0,l.useState)(0===e.length),[b,y]=(0,l.useState)(null),[w,j]=(0,l.useState)(1),[N,k]=(0,l.useState)(Math.ceil(e.length/5)||1),[S,C]=(0,l.useState)(!1),[P,R]=(0,l.useState)(0),[A,F]=(0,l.useState)(0),[T,z]=(0,l.useState)({}),[E,q]=(0,l.useState)(!1),[_,L]=(0,l.useState)([]),[M,$]=(0,l.useState)(!1),[I,U]=(0,l.useState)("right"),W=e=>{let t=T[e],s={};r.forEach(e=>{s[e._id]=!0}),t&&(s[e]=!1),z(s)},X=e=>{M||($(!0),U(e>w?"right":"left"),j(e),setTimeout(()=>{$(!1)},150))},D=()=>{w<N&&!M&&($(!0),U("right"),X(w+1))},V=()=>{w>1&&!M&&($(!0),U("left"),X(w-1))};t&&t.length;let O=S?r:r.slice((w-1)*5,5*w);return a.jsx(d.default,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[a.jsx("div",{className:"mb-8 mt-8",children:(0,a.jsxs)("h1",{className:"font-bold text-black",style:{fontSize:"20px"},children:["Most searched ",a.jsx("span",{style:{color:"#233CFA"},children:"movies"})," right now"]})}),b&&a.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:b}),(0,a.jsxs)("div",{className:"relative",children:[w>1&&!S&&a.jsx("button",{onClick:V,disabled:M,className:"flex absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-3 md:-translate-x-6 z-10 w-10 h-10 md:w-12 md:h-12 rounded-full items-center justify-center text-white hover:shadow-md transition-all duration-300 shadow-md",style:{backgroundColor:"#233CFA"},"aria-label":"Previous Page",children:a.jsx(c.default,{size:18})}),a.jsx("div",{className:`grid grid-cols-1 md:grid-cols-5 gap-5 transition-all duration-300
              ${M?"opacity-70 "+("right"===I?"translate-x-4":"-translate-x-4"):"opacity-100 translate-x-0"}`,onTouchStart:S?void 0:e=>{R(e.targetTouches[0].clientX)},onTouchMove:S?void 0:e=>{F(e.targetTouches[0].clientX)},onTouchEnd:S?void 0:()=>{P-A>100&&w<N&&D(),A-P>100&&w>1&&V()},children:g||b?[,,,,,].fill().map((e,t)=>a.jsx("div",{className:"group relative",children:a.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"h-60 md:h-64 lg:h-80 bg-gray-200 animate-pulse"}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-2/3 mb-2"}),(0,a.jsxs)("div",{className:"flex gap-1 mt-2",children:[a.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-6 w-16 bg-gray-200 rounded animate-pulse"})]})]})]})})},t)):O.map((e,t)=>{let s=S&&T[e._id];return(0,a.jsxs)("div",{className:`group relative transition-all duration-300
                      ${M?"opacity-60 scale-98":"opacity-100 scale-100"}`,style:{transitionDelay:M?"0ms":`${40*t}ms`,transform:M?"right"===I?"translateX(10px)":"translateX(-10px)":"translateX(0)"},children:[S&&a.jsx("div",{className:"absolute top-3 right-3 z-30 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md cursor-pointer hover:bg-white transition-all",onClick:t=>{t.preventDefault(),t.stopPropagation(),W(e._id)},children:s?a.jsx(m.default,{size:18,className:"text-gray-700"}):a.jsx(u.default,{size:18,className:"text-gray-700"})}),s?a.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full",children:(0,a.jsxs)("div",{className:"flex items-center p-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg mr-3 flex-shrink-0",style:{backgroundColor:"#233CFA"},children:(w-1)*5+t+1}),a.jsx("div",{className:"flex-grow min-w-0",children:(0,a.jsxs)(n(),{href:`/tvfilm/${e.slug||e._id}`,className:"block",children:[a.jsx("h3",{className:"text-base font-semibold text-gray-800 hover:text-[#009efc] transition-colors line-clamp-1 truncate",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center mt-1.5 overflow-hidden",children:[e.genres&&Array.isArray(e.genres)&&e.genres.length>0?a.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",style:{backgroundColor:"#f3f4f6",color:"#1f2937"},children:"string"==typeof e.genres[0]?e.genres[0].charAt(0).toUpperCase()+e.genres[0].slice(1):e.genres[0]}):"string"==typeof e.genre&&""!==e.genre.trim()?a.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",style:{backgroundColor:"#f3f4f6",color:"#1f2937"},children:e.genre.split(",")[0].trim().charAt(0).toUpperCase()+e.genre.split(",")[0].trim().slice(1)}):a.jsx("span",{className:"text-xs text-gray-500 mr-2 whitespace-nowrap flex-shrink-0",children:"Film"}),(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 whitespace-nowrap",children:[a.jsx(h.default,{size:12,className:"text-amber-500 mr-1",fill:"#f59e0b"}),a.jsx("span",{className:"text-xs font-medium text-gray-700",children:null!=e.reviewRating&&void 0!==e.reviewRating&&parseFloat(e.reviewRating)>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]})]})})]})}):a.jsx(n(),{href:`/tvfilm/${e.slug||e._id}`,className:"block h-full",children:a.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full transform hover:-translate-y-1",style:S?{border:"2px solid #233CFA"}:{},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:`${S?"aspect-[5/4.5]":"h-60 md:h-64 lg:h-80"} bg-gray-100 relative overflow-hidden`,children:[a.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:a.jsx("img",{src:e.coverImage||"/images/dramas/default-poster.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",style:{objectPosition:S?"center 5%":"center center"},onError:e=>{e.target.onerror=null,e.target.src="/images/dramas/default-poster.jpg"}})}),a.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-5xl drop-shadow-lg",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:(w-1)*5+t+1})}),!S&&(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex items-center bg-black/50 backdrop-blur-sm px-2 py-1 rounded-full",children:[a.jsx("div",{className:"h-6 w-6 rounded-full flex items-center justify-center text-white font-bold text-xs mr-1 shadow-lg",style:{backgroundColor:"#233CFA"},children:null!=e.reviewRating&&void 0!==e.reviewRating&&parseFloat(e.reviewRating)>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"}),a.jsx("span",{className:"text-white/90 text-xs",children:"Rating"})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:a.jsx("div",{className:"p-4 w-full",children:a.jsx("p",{className:"text-white font-medium",children:e.title})})})]}),(0,a.jsxs)("div",{className:"p-4 pb-3",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-[#009efc] transition-colors line-clamp-1 flex items-center justify-between",children:[a.jsx("span",{className:"mr-2 truncate",children:e.title}),S&&(0,a.jsxs)("div",{className:"flex-shrink-0 flex items-center bg-gradient-to-r from-amber-50 to-amber-100 px-2 py-1 rounded-full border border-amber-200",children:[a.jsx(h.default,{size:12,className:"text-amber-500 mr-1 flex-shrink-0",fill:"#f59e0b"}),a.jsx("span",{className:"text-xs font-bold text-amber-700",children:null!=e.reviewRating&&void 0!==e.reviewRating&&parseFloat(e.reviewRating)>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]}),a.jsx("div",{className:"flex mt-2",children:a.jsx("div",{className:"w-full overflow-hidden",children:a.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:e.genres&&Array.isArray(e.genres)&&e.genres.length>0?e.genres.map((e,t)=>a.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full mr-1 shadow-sm transition-colors",style:{display:"inline-block",backgroundColor:"#f3f4f6",color:"#1f2937",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},children:e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e},t)):"string"==typeof e.genre&&""!==e.genre.trim()?e.genre.split(",").map((e,t)=>a.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full mr-1 shadow-sm transition-colors",style:{display:"inline-block",backgroundColor:"#f3f4f6",color:"#1f2937",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},children:e.trim().charAt(0).toUpperCase()+e.trim().slice(1)},t)):a.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full mr-1 shadow-sm transition-colors",style:{display:"inline-block",backgroundColor:"#f3f4f6",color:"#1f2937",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},children:e.category?e.category.charAt(0).toUpperCase()+e.category.slice(1):"Film"})})})}),e.runtime&&a.jsx("div",{className:"flex mt-2 mb-2",children:(0,a.jsxs)("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-gray-50 border border-gray-100 text-gray-600 text-xs",children:[a.jsx(x.default,{size:12,className:"mr-1 text-gray-500"}),e.runtime]})}),a.jsx("div",{className:"mt-2 mb-1",children:e.description||e.summary?a.jsx("p",{className:"text-xs text-gray-600 line-clamp-1 overflow-ellipsis",children:e.description||e.summary}):a.jsx("p",{className:"text-xs text-gray-400 line-clamp-1 overflow-ellipsis italic",children:"No synopsis available"})})]})]})})})]},e._id)})},`tvfilm-page-${w}`),w<N&&!S&&a.jsx("button",{onClick:D,disabled:M,className:"flex absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-3 md:translate-x-6 z-10 w-10 h-10 md:w-12 md:h-12 rounded-full items-center justify-center text-white hover:shadow-md transition-all duration-300 shadow-md",style:{backgroundColor:"#233CFA"},"aria-label":"Next Page",children:a.jsx(p.default,{size:18})})]}),S&&a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>{q(!E)},className:"w-full py-3 bg-white text-black font-medium rounded-2xl border-2 border-gray-300 hover:border-gray-400 hover:shadow-md transition-all",children:E?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:["Fold",a.jsx(u.default,{className:"ml-2",size:20})]}):(0,a.jsxs)("span",{className:"flex items-center justify-center",children:["See more",a.jsx(m.default,{className:"ml-2",size:20})]})})}),(0,a.jsxs)("div",{className:"mt-16",children:[a.jsx(f.default,{initialNews:t,category:"movie"}),a.jsx("div",{className:"mb-12"})]})]})})}async function y(e){try{let t=e.req.headers.host,s=e.req.headers["x-forwarded-proto"]||"http",r=`${s}://${t}`,[a,l]=await Promise.all([fetch(`${r}/api/dramas?category=movie&limit=100&includeAllFields=true&sortBy=orderNumber&sortOrder=asc`),fetch(`${r}/api/news/movie?page=1&limit=12&sort=createdAt&order=desc`)]),i=await a.json(),o=await l.json(),n=(Array.isArray(o.data)?o.data:[]).map(e=>(e.coverImage||(e.coverImage="/images/news/default-news.jpg"),e));return{props:{tvfilms:(i.data?i.data.map(e=>(e.coverImage||(e.coverImage="/images/dramas/default-poster.jpg"),e)):[])||[],movieNews:n||[],newsPagination:o.pagination||{total:n.length,page:1,limit:12,totalPages:Math.ceil(n.length/12),hasNextPage:n.length>12,hasPrevPage:!1}}}}catch(e){return{props:{tvfilms:[],movieNews:[],newsPagination:{total:0,page:1,limit:12,totalPages:0,hasNextPage:!1,hasPrevPage:!1}}}}}g=(v.then?(await v)():v)[0],r()}catch(e){r(e)}})},41649:e=>{e.exports=require("next-auth/react")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},71568:e=>{e.exports=require("zlib")},99648:e=>{e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3393,1859,6859,8559,6870,8505,8523,5704],()=>s(9701));module.exports=r})();