"use strict";(()=>{var t={};t.id=4131,t.ids=[4131],t.modules={20145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},99648:t=>{t.exports=import("axios")},56249:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"hoist",{enumerable:!0,get:function(){return function t(e,i){return i in e?e[i]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,i)):"function"==typeof e&&"default"===i?e:void 0}}})},38617:(t,e,i)=>{i.a(t,async(t,s)=>{try{i.r(e),i.d(e,{config:()=>d,default:()=>l,routeModule:()=>c});var n=i(71802),a=i(47153),o=i(56249),u=i(61131),r=t([u]);u=(r.then?(await r)():r)[0];let l=(0,o.hoist)(u,"default"),d=(0,o.hoist)(u,"config"),c=new n.PagesAPIRouteModule({definition:{kind:a.RouteKind.PAGES_API,page:"/api/youtube/video-info",pathname:"/api/youtube/video-info",bundlePath:"",filename:""},userland:u});s()}catch(t){s(t)}})},61131:(t,e,i)=>{i.a(t,async(t,s)=>{try{i.r(e),i.d(e,{default:()=>o});var n=i(99648),a=t([n]);async function o(t,e){let{method:i,query:s}=t;if("GET"!==i)return e.status(405).json({success:!1,message:`Method ${i} Not Allowed`});let{videoId:a}=s;if(!a)return e.status(400).json({success:!1,message:"비디오 ID가 필요합니다."});let o=process.env.YOUTUBE_API_KEY;if(o&&"YOUR_API_KEY_HERE"!==o)try{let t=await n.default.get(`https://www.googleapis.com/youtube/v3/videos?id=${a}&part=snippet,statistics&key=${o}`);if(!t.data.items||0===t.data.items.length)return e.status(404).json({success:!1,message:"동영상을 찾을 수 없습니다."});let i=t.data.items[0],s=i.snippet,u=i.statistics,r=null;try{let t=await n.default.get(`https://www.googleapis.com/youtube/v3/channels?id=${s.channelId}&part=snippet&key=${o}`);t.data.items&&t.data.items.length>0&&(r=t.data.items[0].snippet)}catch(t){}let l=s.title,d="",c=l,h=l.split("-");h.length>1?(d=h[0].trim(),c=h.slice(1).join("-").trim()):r&&(d=r.title);let m={id:a,title:c,originalTitle:l,description:s.description,publishedAt:s.publishedAt,channelId:s.channelId,channelTitle:s.channelTitle,thumbnails:s.thumbnails,tags:s.tags||[],viewCount:u.viewCount,likeCount:u.likeCount,commentCount:u.commentCount,artist:d,channelInfo:r};return e.status(200).json({success:!0,videoInfo:m})}catch(t){if(t.response)return e.status(t.response.status).json({success:!1,message:"유튜브 API 호출 중 오류가 발생했습니다.",error:t.response.data});return e.status(500).json({success:!1,message:"서버 오류가 발생했습니다."})}else{let t=new Date,i=Math.floor(99e4*Math.random()+1e4).toString(),s=Math.floor(Number(i)*(.07*Math.random()+.03)).toString(),n={id:a,title:"더미 음악 제목",originalTitle:"아티스트 - 더미 음악 제목",description:"이것은 더미 설명입니다. YouTube API 키가 설정되지 않아 실제 데이터를 가져올 수 없습니다.",publishedAt:t.toISOString(),channelId:"dummy-channel-id",channelTitle:"더미 채널",thumbnails:{default:{url:`https://i.ytimg.com/vi/${a}/default.jpg`,width:120,height:90},medium:{url:`https://i.ytimg.com/vi/${a}/mqdefault.jpg`,width:320,height:180},high:{url:`https://i.ytimg.com/vi/${a}/hqdefault.jpg`,width:480,height:360},standard:{url:`https://i.ytimg.com/vi/${a}/sddefault.jpg`,width:640,height:480},maxres:{url:`https://i.ytimg.com/vi/${a}/maxresdefault.jpg`,width:1280,height:720}},tags:["더미","테스트","K-POP"],viewCount:i,likeCount:s,commentCount:Math.floor(Number(s)/5).toString(),artist:"아티스트",channelInfo:null};return e.status(200).json({success:!0,videoInfo:n,isDummy:!0,message:"API 키가 설정되지 않아 더미 데이터를 반환합니다."})}}n=(a.then?(await a)():a)[0],s()}catch(t){s(t)}})},47153:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RouteKind",{enumerable:!0,get:function(){return i}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(i||(i={}))},71802:(t,e,i)=>{t.exports=i(20145)}};var e=require("../../../webpack-api-runtime.js");e.C(t);var i=e(e.s=38617);module.exports=i})();