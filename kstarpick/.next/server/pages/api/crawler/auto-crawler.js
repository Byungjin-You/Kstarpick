"use strict";(()=>{var t={};t.id=6013,t.ids=[6013],t.modules={25142:t=>{t.exports=require("dotenv")},38013:t=>{t.exports=require("mongodb")},41649:t=>{t.exports=require("next-auth/react")},20145:t=>{t.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},19828:t=>{t.exports=require("puppeteer-extra")},43199:t=>{t.exports=require("puppeteer-extra-plugin-stealth")},92048:t=>{t.exports=require("fs")},55315:t=>{t.exports=require("path")},99648:t=>{t.exports=import("axios")},20295:t=>{t.exports=import("cheerio")},56249:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"hoist",{enumerable:!0,get:function(){return function t(e,a){return a in e?e[a]:"then"in e&&"function"==typeof e.then?e.then(e=>t(e,a)):"function"==typeof e&&"default"===a?e:void 0}}})},48287:(t,e,a)=>{a.a(t,async(t,i)=>{try{a.r(e),a.d(e,{config:()=>c,default:()=>m,routeModule:()=>d});var r=a(71802),l=a(47153),s=a(56249),n=a(88175),o=t([n]);n=(o.then?(await o)():o)[0];let m=(0,s.hoist)(n,"default"),c=(0,s.hoist)(n,"config"),d=new r.PagesAPIRouteModule({definition:{kind:l.RouteKind.PAGES_API,page:"/api/crawler/auto-crawler",pathname:"/api/crawler/auto-crawler",bundlePath:"",filename:""},userland:n});i()}catch(t){i(t)}})},88175:(t,e,a)=>{a.a(t,async(t,i)=>{try{a.r(e),a.d(e,{default:()=>d});var r=a(99648),l=a(20295);a(41649),a(35968);var s=a(19828),n=a.n(s),o=a(43199),m=a.n(o),c=t([r,l]);[r,l]=c.then?(await c)():c,n().use(m()());let A=()=>{let t=Math.floor(1500*Math.random())+500;return new Promise(e=>setTimeout(e,t))};async function d(t,e){if("POST"!==t.method&&"GET"!==t.method)return e.status(405).json({success:!1,message:"허용되지 않는 메소드입니다."});try{let a;if("GET"===t.method)return e.status(200).json({success:!0,message:"Auto Crawler API is working"});let{url:i,mode:r="list",htmlContent:l,usePuppeteer:s=!1}=t.body;if(l){let t;if("list"===r)t=await p(l,i);else{if("detail"!==r)return e.status(400).json({success:!1,message:"유효하지 않은 파싱 모드입니다."});t=await f(l,i)}return e.status(200).json({success:!0,data:t})}if(!i)return e.status(400).json({success:!1,message:"URL 또는 HTML 내용이 필요합니다."});if("list"===r)a=s?await g(i):await h(i);else{if("detail"!==r)return e.status(400).json({success:!1,message:"유효하지 않은 크롤링 모드입니다."});a=s?await x(i):await u(i)}return"list"===r&&a.dramas.length,e.status(200).json({success:!0,data:a})}catch(t){return t.response,e.status(500).json({success:!1,message:"크롤링/파싱 중 오류가 발생했습니다.",error:t.message})}}async function h(t){try{let e=(await r.default.get(t,{headers:{"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","Accept-Language":"ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7","Cache-Control":"no-cache",Pragma:"no-cache","Sec-Ch-Ua":'"Google Chrome";v="128", "Chromium";v="128", "Not=A?Brand";v="99"',"Sec-Ch-Ua-Mobile":"?0","Sec-Ch-Ua-Platform":'"macOS"',"Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"none","Sec-Fetch-User":"?1","Upgrade-Insecure-Requests":"1",Referer:"https://mydramalist.com/",Cookie:"mdl_remember_user=1;"},timeout:15e3,maxRedirects:5})).data;if("string"!=typeof e||!e.includes("<!DOCTYPE html>"))throw Error("유효한 HTML 응답을 받지 못했습니다.");let a=l.load(e),i=[],s=a('div[id^="mdl-"]');0===s.length&&[".box",".mdl-style",".text-primary","h6",".img-responsive"].forEach(t=>{}),a('div[id^="mdl-"]').each((t,e)=>{let r=a(e).attr("id").replace("mdl-",""),l=a(e).find("h6.text-primary.title a");if(!l.length)return;let s=l.text().trim(),n="https://mydramalist.com"+l.attr("href"),o=a(e).find("span.text-muted"),m=(o.length?o.text().trim():"").split(" - "),c=m[0]?.includes("Drama")?"drama":m[0]?.includes("Movie")?"movie":"other",d=null,h=null;if(m[1]){let t=m[1].match(/(\d{4})/);t&&(d=parseInt(t[1]));let e=m[1].match(/(\d+) episodes/);e&&(h=parseInt(e[1]))}let u=a(e).find("img.img-responsive.cover"),p=u.length?u.attr("src")||u.attr("data-src"):null,f=a(e).find("span.p-l-xs.score"),g=f.length?parseFloat(f.text()):0,x="";a(e).find("p").each((t,e)=>{!a(e).find("span").length&&a(e).text().trim()&&!a(e).hasClass("rating")&&(x=a(e).text().trim())}),i.push({id:r,url:n,title:s,category:c,year:d,episodes:h,imageUrl:p,rating:g,summary:x})});let n=a(".pagination .page-item.next a"),o=n.length?"https://mydramalist.com"+n.attr("href"):null;return{dramas:i,nextPage:o}}catch(t){throw t}}async function u(t){try{let e=t.split("/"),a=e[e.length-2],i=e[e.length-1],s=(await r.default.get(t,{headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5",Referer:"https://mydramalist.com/"}})).data,n=l.load(s),o=n("h1.film-title").text().trim()||"",m="";n(".show-detailsxss .list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Native Title:"===a&&(m=n(e).find("a").text().trim())});let c="",d=n(".show-synopsis p span");d.length&&(c=d.text().trim().replace(/\s+/g," ").replace(/Edit Translation/g,"").replace(/\(Source:.+?\)/,"").trim());let h="";n(".show-detailsxss .list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Director:"===a&&(h=n(e).find("a").text().trim())});let u=[];n(".show-genres a").each((t,e)=>{u.push(n(e).text().trim())});let p=[];n(".show-tags a").each((t,e)=>{let a=n(e).text().trim();a&&!a.includes("Vote or add tags")&&p.push(a)});let f="South Korea";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Country:"===a&&(f=n(e).text().replace("Country:","").trim())});let g="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Type:"===a&&(g=n(e).text().replace("Type:","").trim())});let x=null;n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();if("Episodes:"===a){let t=n(e).text().replace("Episodes:","").trim();t&&!isNaN(parseInt(t))&&(x=parseInt(t))}});let b="",v="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();if("Airs:"===a&&!n(e).text().includes("Airs On")){let t=n(e).text().replace("Airs:","").trim().match(/([A-Za-z]+\s+\d+,\s+\d{4})\s*-\s*([A-Za-z]+\s+\d+,\s+\d{4})/);t&&(b=t[1],v=t[2])}});let C="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Airs On:"===a&&(C=n(e).text().replace("Airs On:","").trim())});let A="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Original Network:"===a&&(A=n(e).find("a").text().trim())});let S="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Content Rating:"===a&&(S=n(e).text().replace("Content Rating:","").trim())});let M=n(".film-cover img.img-responsive").attr("src")||"",T=(n(".film-rating-vote").text().trim()||"").match(/(\d+(?:\.\d+)?)/),P=T?parseFloat(T[1]):0,k=[];n(".box-body ul.list li.cast-item").each((t,e)=>{let a=n(e).find(".text-primary.text-ellipsis a").text().trim()||"",i=n(e).find(".text-muted").text().trim()||"",r=n(e).find("img").attr("src")||"";a&&k.push({name:a,role:i,image:r})});let R="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Status:"===a&&(R=n(e).text().replace("Status:","").trim().toLowerCase())});let U="";n(".list-item").each((t,e)=>{let a=n(e).find("b").text().trim();"Duration:"===a&&(U=n(e).text().replace("Duration:","").trim())});let D=g.toLowerCase().includes("movie")?"movie":"drama";return{mdlId:a,mdlUrl:t,mdlSlug:i,title:o,originalTitle:m,coverImage:M,bannerImage:M,summary:c,description:c,reviewRating:P,genres:u,director:h,cast:k,tags:p,status:R,type:g,releaseDate:b,endDate:v,airsOn:C,network:A,country:f,episodes:x,runtime:U,contentRating:S,category:D,whereToWatch:w(n),credits:await y(n,t),createdAt:new Date,updatedAt:new Date}}catch(t){throw t}}async function p(t,e=""){try{let e=l.load(t),a=[],i=e('div[id^="mdl-"]');0===i.length&&(e(".mdl-card").length>0&&e(".mdl-card").each((t,i)=>{let r=(e(i).attr("id")||"").replace("mdl-","")||`unknown-${t}`,l=e(i).find(".title a");if(!l.length)return;let s=l.text().trim(),n=l.attr("href")||"",o=n.startsWith("http")?n:"https://mydramalist.com"+n;a.push({id:r,url:o,title:s,category:"drama",imageUrl:e(i).find("img").attr("src")||null,summary:e(i).find(".content").text().trim()||""})}),[".box",".mdl-style",".text-primary","h6",".img-responsive"].forEach(t=>{}),e("h6.text-primary").each((t,e)=>{})),e('div[id^="mdl-"]').each((t,i)=>{let r=e(i).attr("id").replace("mdl-",""),l=e(i).find("h6.text-primary.title a");if(!l.length)return;let s=l.text().trim(),n="https://mydramalist.com"+l.attr("href"),o=e(i).find("span.text-muted"),m=(o.length?o.text().trim():"").split(" - "),c=m[0]?.includes("Drama")?"drama":m[0]?.includes("Movie")?"movie":"other",d=null,h=null;if(m[1]){let t=m[1].match(/(\d{4})/);t&&(d=parseInt(t[1]));let e=m[1].match(/(\d+) episodes/);e&&(h=parseInt(e[1]))}let u=e(i).find("img.img-responsive.cover"),p=u.length?u.attr("src")||u.attr("data-src"):null,f=e(i).find("span.p-l-xs.score"),g=f.length?parseFloat(f.text()):0,x="";e(i).find("p").each((t,a)=>{!e(a).find("span").length&&e(a).text().trim()&&!e(a).hasClass("rating")&&(x=e(a).text().trim())}),a.push({id:r,url:n,title:s,category:c,year:d,episodes:h,imageUrl:p,rating:g,summary:x})});let r=e(".pagination .page-item.next a"),s=r.length?"https://mydramalist.com"+r.attr("href"):null;return{dramas:a,nextPage:s}}catch(t){throw t}}async function f(t,e){try{let a=e.split("/"),i=a[a.length-2],r=a[a.length-1],s=l.load(t),n=s("h1.film-title").text().trim()||"";n||(s("h1").each((t,e)=>{}),s(".film-title, .title, .page-title, .header-title").first().length);let o="";s(".show-detailsxss .list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Native Title:"===a&&(o=s(e).find("a").text().trim()||s(e).clone().children().remove().end().text().trim())});let m=s(".film-cover img.img-responsive").attr("src")||s(".film-cover img").attr("src")||s(".film-poster img").attr("src")||"";m||s(".film-cover img, .film-poster img").each((t,e)=>{});let c="",d=s(".show-synopsis p span");d.length&&(c=d.text().trim().replace(/\s+/g," ").replace(/Edit Translation/g,"").replace(/\(Source:.+?\)/,"").trim());let h="";s(".show-detailsxss .list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Director:"===a&&(h=s(e).find("a").text().trim())});let u=[];s(".show-genres a").each((t,e)=>{u.push(s(e).text().trim())});let p=[];s(".show-tags a").each((t,e)=>{let a=s(e).text().trim();a&&!a.includes("Vote or add tags")&&p.push(a)});let f="South Korea";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Country:"===a&&(f=s(e).text().replace("Country:","").trim())});let g="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Type:"===a&&(g=s(e).text().replace("Type:","").trim())});let x=null;s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();if("Episodes:"===a){let t=s(e).text().replace("Episodes:","").trim();t&&!isNaN(parseInt(t))&&(x=parseInt(t))}});let b="",v="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();if("Airs:"===a&&!s(e).text().includes("Airs On")){let t=s(e).text().replace("Airs:","").trim().match(/([A-Za-z]+\s+\d+,\s+\d{4})\s*-\s*([A-Za-z]+\s+\d+,\s+\d{4})/);t&&(b=t[1],v=t[2])}});let C="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Airs On:"===a&&(C=s(e).text().replace("Airs On:","").trim())});let A="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Original Network:"===a&&(A=s(e).find("a").text().trim())});let M="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Content Rating:"===a&&(M=s(e).text().replace("Content Rating:","").trim())});let T=(s(".film-rating-vote").text().trim()||"").match(/(\d+(?:\.\d+)?)/),P=T?parseFloat(T[1]):0,k=[];s(".box-body ul.list li.cast-item").each((t,e)=>{let a=s(e).find(".text-primary.text-ellipsis a").text().trim()||"",i=s(e).find(".text-muted").text().trim()||"",r=s(e).find("img").attr("src")||"";a&&k.push({name:a,role:i,image:r})});let R="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Status:"===a&&(R=s(e).text().replace("Status:","").trim().toLowerCase())});let U="";s(".list-item").each((t,e)=>{let a=s(e).find("b").text().trim();"Duration:"===a&&(U=s(e).text().replace("Duration:","").trim())});let D=g.toLowerCase().includes("movie")?"movie":"drama",E={mdlId:i,mdlUrl:e,mdlSlug:r,title:n||s("title").text().trim(),originalTitle:o,coverImage:m,bannerImage:m,summary:c,description:c,reviewRating:P,genres:u,director:h,cast:k,tags:p,status:R,type:g,releaseDate:b,endDate:v,airsOn:C,network:A,country:f,episodes:x,runtime:U,contentRating:M,category:D,whereToWatch:w(s),credits:await y(s,e),createdAt:new Date,updatedAt:new Date};try{if(!E.videos||0===E.videos.length){let t=await S(E.title,E.originalTitle||E.nativeTitle);t&&t.length>0&&(E.videos=t,!E.trailerUrl&&t[0]&&(E.trailerUrl=t[0].url))}}catch(t){}return E}catch(t){throw t}}async function g(t){let e;try{let{browser:a,page:i}=await C();e=a,await i.goto(t,{waitUntil:"networkidle2",timeout:6e4}),await A(),await b(i),await v(i);let r=await i.content();if(!r||r.length<1e3)throw Error("HTML이 비어있거나 너무 짧습니다. 크롤링에 실패했습니다.");return l.load(r),{dramas:dramaLinks,nextPage:nextPageUrl}}catch(t){throw t}finally{e&&await e.close()}}async function x(t){let e;try{let a=t.split("/");a[a.length-2],a[a.length-1];let{browser:i,page:r}=await C();e=i,await r.goto(t,{waitUntil:"networkidle2",timeout:6e4}),await A(),await b(r),await v(r);let s=await r.content(),n=await f(s,t),o=l.load(s),m=[];o('.box-header:contains("Where to Watch")').closest(".box").find(".box-body.wts .row .col-xs-12 .row.no-gutter").each((t,e)=>{let a=o(e).find("a.text-primary b").text().trim(),i=o(e).find("a.text-primary").attr("href")||"",r=o(e).find("img.img-responsive").attr("src")||"",l=o(e).find(".p-l div:nth-child(2)").text().trim();a&&m.push({name:a,link:i.startsWith("/redirect")?decodeURIComponent(i.match(/\/redirect\?q=([^&]+)/)?.[1]||""):i,imageUrl:r,type:l})}),n.whereToWatch=m;let c={directors:[],writers:[],mainCast:[],supportCast:[],guestCast:[],others:[]};return o(".box-body ul.list li.cast-item").each((t,e)=>{let a=o(e).find(".text-primary").text().trim(),i=o(e).find(".text-muted").text().trim(),r=o(e).find("small[title]").text().trim()||"",l=o(e).find("img").attr("src")||"",s=o(e).find(".text-primary").attr("href")||"";if(a){let t={name:a,role:i,character:r,image:l,link:s.startsWith("http")?s:`https://mydramalist.com${s}`};i.includes("Main Role")?c.mainCast.push(t):i.includes("Support Role")?c.supportCast.push(t):i.includes("Guest Role")?c.guestCast.push(t):c.others.push(t)}}),n.credits=c,n.cast=c.mainCast.concat(c.supportCast),n}catch(t){throw t}finally{e&&await e.close()}}function w(t){try{let e=[],a=t('.box-header:contains("Where to Watch")').closest(".box");if(0===a.length)return e;return a.each((a,i)=>{t(i).find(".box-header").text().trim(),t(i).find(".box-body.wts .row .col-xs-12, .box-body.wts .row .col-xs-12.col-lg-4").each((a,i)=>{t(i).find(".row.no-gutter").each((a,i)=>{try{let a=t(i).find("img.img-responsive"),r=t(i).find("a.text-primary b"),l=t(i).find("a.text-primary"),s=t(i).find(".p-l div:nth-child(2)");if(r.length){let t=r.text().trim(),i=l.attr("href")||"",n=i.match(/\/redirect\?q=([^&]+)/);n&&n[1]&&(i=decodeURIComponent(n[1]));let o=a.attr("src")||"",m=s.text().trim()||"";e.push({name:t,link:i,imageUrl:o,type:m})}}catch(t){}})})}),e}catch(t){return[]}}async function y(t,e){try{let a={directors:[],writers:[],mainCast:[],supportCast:[],guestCast:[],others:[]};return t(".box-body ul.list li.cast-item").each((e,i)=>{let r=t(i).find(".text-primary").text().trim(),l=t(i).find(".text-muted").text().trim(),s=t(i).find("small[title]").text().trim()||"",n=t(i).find("img").attr("src")||"",o=t(i).find(".text-primary").attr("href")||"";l.includes("Main Role")?a.mainCast.push({name:r,role:"Main Role",character:s,image:n,link:o.startsWith("http")?o:`https://mydramalist.com${o}`}):l.includes("Support Role")?a.supportCast.push({name:r,role:"Support Role",character:s,image:n,link:o.startsWith("http")?o:`https://mydramalist.com${o}`}):l.includes("Guest Role")&&a.guestCast.push({name:r,role:"Guest Role",character:s,image:n,link:o.startsWith("http")?o:`https://mydramalist.com${o}`,episodes:s.match(/\(Ep\.\s*([\d,-\s]+)\)/)?s.match(/\(Ep\.\s*([\d,-\s]+)\)/)[1]:""})}),e.split("/").slice(0,-1).join("/"),a}catch(t){return{directors:[],writers:[],mainCast:[],supportCast:[],guestCast:[],others:[]}}}async function b(t){await t.evaluate(async()=>{let t=document.body.scrollHeight,e=window.innerHeight,a=0;for(;a<t;){let t=Math.floor(400*Math.random())+100;a+=t,.1>Math.random()&&a>e&&(window.scrollTo(0,a-Math.floor(100*Math.random())),await new Promise(t=>setTimeout(t,400*Math.random()+100))),window.scrollTo(0,a),await new Promise(t=>setTimeout(t,800*Math.random()+300)),.2>Math.random()&&await new Promise(t=>setTimeout(t,2e3*Math.random()+500))}window.scrollTo(0,0)})}async function v(t){let e=await t.title();if(e.includes("Just a moment")||e.includes("Cloudflare")){await t.waitForTimeout(1e4);let e=await t.title();if(e.includes("Just a moment")||e.includes("Cloudflare"))throw Error("Cloudflare 보호를 우회하지 못했습니다.")}return e}async function C(){let t=await n().launch({headless:"new",args:["--no-sandbox","--disable-setuid-sandbox","--disable-web-security","--disable-features=IsolateOrigins,site-per-process","--disable-blink-features=AutomationControlled","--window-size=1920,1080","--disable-extensions"],ignoreHTTPSErrors:!0,slowMo:20}),e=await t.newPage();return await e.setViewport({width:1920+Math.floor(100*Math.random()),height:1080+Math.floor(100*Math.random()),deviceScaleFactor:.5>Math.random()?1:2,isMobile:!1,hasTouch:!1,isLandscape:!0}),await e.evaluateOnNewDocument(()=>{Object.defineProperty(navigator,"webdriver",{get:()=>!1}),window.navigator.chrome={runtime:{}},Object.defineProperty(navigator,"plugins",{get:()=>[{name:"Chrome PDF Plugin",filename:"internal-pdf-viewer"},{name:"Chrome PDF Viewer",filename:"mhjfbmdgcfjbbpaeojofohoefgiehjai"},{name:"Native Client",filename:"internal-nacl-plugin"}]})}),await e.evaluateOnNewDocument(()=>{localStorage.setItem("random_item",Math.random().toString(36))}),await e.setUserAgent("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"),await e.setExtraHTTPHeaders({"Accept-Language":"en-US,en;q=0.9,ko-KR;q=0.8,ko;q=0.7",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8",Referer:"https://mydramalist.com/","sec-ch-ua":'"Google Chrome";v="119", "Chromium";v="119", "Not?A_Brand";v="24"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"macOS"'}),{browser:t,page:e}}let S=async(t,e)=>{try{if(!process.env.YOUTUBE_API_KEY)return[];let a=await r.default.get("http://43.202.38.79:13001/api/youtube/search-videos",{params:{title:e||t,maxResults:5}});if(!a.data.success||!a.data.data)return[];return a.data.data.map((t,e)=>({title:t.title,type:"trailer",url:t.url,thumbnailUrl:t.thumbnailUrl,viewCount:t.viewCount,likeCount:t.likeCount,publishedAt:t.publishedAt,order:e}))}catch(t){return[]}};try{if(!dramaData.videos||0===dramaData.videos.length){let t=await S(dramaData.title,dramaData.originalTitle||dramaData.nativeTitle);t&&t.length>0&&(dramaData.videos=t,!dramaData.trailerUrl&&t[0]&&(dramaData.trailerUrl=t[0].url))}}catch(t){}i()}catch(t){i(t)}},1)},35968:(t,e,a)=>{let i;a.r(e),a.d(e,{connectToDatabase:()=>m,dbConnect:()=>c,default:()=>d});var r=a(38013),l=a(92048),s=a.n(l),n=a(55315),o=a.n(n);{let t=a(25142),e=o().resolve(process.cwd(),".env.production");s().existsSync(e)&&t.config({path:e}).error}async function m(){try{let t=await i,e=t.db("kstarpick");return{client:t,db:e}}catch(t){throw t}}i=new r.MongoClient("mongodb://kstarpick:zpdltmxkvlr0%212@kstarpick-mongodb-production.cluster-cjquemysifmm.ap-northeast-2.docdb.amazonaws.com:27017/kstarpick?retryWrites=false&authSource=admin&authMechanism=SCRAM-SHA-1",{tls:!1,tlsAllowInvalidCertificates:!0,tlsAllowInvalidHostnames:!0,retryWrites:!1,maxPoolSize:50,serverSelectionTimeoutMS:5e3,socketTimeoutMS:45e3,connectTimeoutMS:1e4,heartbeatFrequencyMS:1e4,maxIdleTimeMS:3e4}).connect();let c=m,d=i},47153:(t,e)=>{var a;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RouteKind",{enumerable:!0,get:function(){return a}}),function(t){t.PAGES="PAGES",t.PAGES_API="PAGES_API",t.APP_PAGE="APP_PAGE",t.APP_ROUTE="APP_ROUTE"}(a||(a={}))},71802:(t,e,a)=>{t.exports=a(20145)}};var e=require("../../../webpack-api-runtime.js");e.C(t);var a=e(e.s=48287);module.exports=a})();