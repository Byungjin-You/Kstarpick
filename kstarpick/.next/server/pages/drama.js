"use strict";(()=>{var e={};e.id=4589,e.ids=[4589],e.modules={84828:(e,t,a)=>{a.r(t),a.d(t,{config:()=>_,default:()=>S,getServerSideProps:()=>R,getStaticPaths:()=>C,getStaticProps:()=>P,reportWebVitals:()=>q,routeModule:()=>$,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>K,unstable_getStaticParams:()=>D,unstable_getStaticPaths:()=>z,unstable_getStaticProps:()=>F});var s={};a.r(s),a.d(s,{default:()=>y,getServerSideProps:()=>k});var r=a(87093),i=a(35244),l=a(1323),n=a(65949),o=a(81928),d=a(20997),c=a(16689);a(40968);var m=a(11163);a(19086),a(44975);var p=a(50570),x=a(62691),h=a(47553),u=a(51568),g=a(54098),f=a(20245),b=a(41664),v=a.n(b);a(73208),a(53946);var w=a(88904),j=a(55704),N=a(1335);function y({dramas:e,dramaNews:t,newsPagination:a}){(0,m.useRouter)();let[s,r]=(0,c.useState)(!0),[i,l]=(0,c.useState)(1),[n,o]=(0,c.useState)(!1),[b,y]=(0,c.useState)(5),[k,S]=(0,c.useState)(0),[P,C]=(0,c.useState)("views"),[R,_]=(0,c.useState)(!1),[q,F]=(0,c.useState)([]),[z,D]=(0,c.useState)(0),[A,K]=(0,c.useState)(!1),[$,I]=(0,c.useState)([]),[E,L]=(0,c.useState)({});(0,c.useRef)(null),(0,c.useRef)(!1);let[U,W]=(0,c.useState)(!1),[M,T]=(0,c.useState)("right"),[X,G]=(0,c.useState)(0),[B,O]=(0,c.useState)(0),[Q,V]=(0,c.useState)(!1);(0,c.useCallback)((e,t,a)=>{if(a&&0!==a.length){if(e)F(t?[...a]:a.slice(0,5));else{let e=(i-1)*b;F(a.slice(e,e+b))}}},[i,b]);let Y=e=>{try{let t={...E};if(R){let a=t[e];Object.keys(t).forEach(e=>{t[e]=!0}),a&&(t[e]=!1)}else t[e]=!t[e];L(t)}catch(e){}},J=e=>{if(U)return;W(!0),T(e>i?"right":"left"),l(e);let t=(e-1)*b;D(t);let a=[...$].sort((e,t)=>"year"===P&&e.year&&t.year?t.year-e.year:"title"===P?e.title.localeCompare(t.title):"rating"===P&&e.rating&&t.rating?t.rating-e.rating:"episodes"===P&&e.episodes&&t.episodes?t.episodes-e.episodes:(t.viewCount||0)-(e.viewCount||0));setTimeout(()=>{if(R||F(a.slice(t,t+b)),R){let e=a.slice(t,t+b),s={};e.forEach((e,t)=>{e&&e._id&&(s[e._id]=0!==t)}),L(e=>({...e,...s}))}setTimeout(()=>{W(!1)},50)},250)};return(0,d.jsxs)(w.default,{children:[d.jsx(p.default,{title:"Korean Dramas | K-Drama Rankings & Reviews",description:"Explore popular Korean dramas including Queen of Tears, Crash Landing on You, Squid Game, and latest K-Dramas. Find ratings, cast info, and plot summaries.",url:"/drama",type:"website",keywords:"Korean drama,K-Drama,Crash Landing on You,Squid Game,Queen of Tears,Korean series,drama reviews,K-Drama ratings,Korean entertainment",jsonLd:(0,N.generateWebsiteJsonLd)()}),(0,d.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,d.jsxs)("div",{className:"mb-8 relative",children:[d.jsx("div",{className:"absolute -top-10 -left-6 w-32 h-32 bg-gradient-to-br from-pink-200 to-purple-200 rounded-full blur-3xl opacity-60"}),d.jsx("div",{className:"absolute top-12 right-20 w-40 h-40 bg-gradient-to-br from-blue-200 to-indigo-200 rounded-full blur-3xl opacity-40"}),(0,d.jsxs)("div",{className:"relative z-10",children:[(0,d.jsxs)("div",{className:"flex items-center mb-1",children:[d.jsx("div",{className:"h-1.5 w-16 bg-gradient-to-r from-[#ff3e8e] to-[#ff8360] rounded-full mr-3"}),d.jsx(x.default,{size:20,className:"text-[#ff3e8e] animate-pulse"}),d.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-[#ff3e8e] via-[#ff8360] to-[#ff61ab] text-transparent bg-clip-text ml-2",children:"Korean Dramas"})]}),d.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Discover the best Korean dramas and stay updated with the latest releases"})]})]}),(0,d.jsxs)("div",{className:"relative",children:[i>1&&d.jsx("button",{onClick:()=>{i>1&&!U&&(W(!0),T("left"),J(i-1))},className:"hidden lg:flex absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-6 z-10 w-12 h-12 rounded-full items-center justify-center text-white bg-gradient-to-r from-[#ff3e8e] to-[#ff8360] hover:shadow-md transition-all duration-300 shadow-md","aria-label":"Previous Page",children:d.jsx(h.default,{size:18})}),d.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5 transition-all duration-300
              ${U?"opacity-70 "+("right"===M?"translate-x-4":"-translate-x-4"):"opacity-100 translate-x-0"}`,children:q.map((e,t)=>{let a=R&&E[e._id];return(0,d.jsxs)("div",{className:`group relative transition-all duration-300
                    ${U?"opacity-60 scale-98":"opacity-100 scale-100"}`,style:{transitionDelay:U?"0ms":`${40*t}ms`,transform:U?"right"===M?"translateX(10px)":"translateX(-10px)":"translateX(0)"},children:[R&&d.jsx("div",{className:"absolute top-3 right-3 z-30 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md cursor-pointer hover:bg-white transition-all",onClick:t=>{t.preventDefault(),t.stopPropagation(),Y(e._id)},children:a?d.jsx(u.default,{size:18,className:"text-gray-700"}):d.jsx(g.default,{size:18,className:"text-gray-700"})}),a?d.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full",children:(0,d.jsxs)("div",{className:"flex items-center p-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center text-white font-bold text-lg shadow-lg mr-3 flex-shrink-0",children:(i-1)*b+t+1}),d.jsx("div",{className:"flex-grow min-w-0",children:(0,d.jsxs)(v(),{href:`/drama/${e._id}`,className:"block",children:[d.jsx("h3",{className:"text-base font-semibold text-gray-800 hover:text-[#ff3e8e] transition-colors line-clamp-1 truncate",children:e.title}),(0,d.jsxs)("div",{className:"flex items-center mt-1.5 overflow-hidden",children:[e.genres&&Array.isArray(e.genres)&&e.genres.length>0?d.jsx("span",{className:"inline-block text-xs font-medium text-pink-700 px-2 py-0.5 bg-pink-50 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",children:"string"==typeof e.genres[0]?e.genres[0].charAt(0).toUpperCase()+e.genres[0].slice(1):e.genres[0]}):"string"==typeof e.genre&&""!==e.genre.trim()?d.jsx("span",{className:"inline-block text-xs font-medium text-pink-700 px-2 py-0.5 bg-pink-50 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",children:e.genre.split(",")[0].trim().charAt(0).toUpperCase()+e.genre.split(",")[0].trim().slice(1)}):d.jsx("span",{className:"text-xs text-gray-500 mr-2 whitespace-nowrap flex-shrink-0",children:"No genre"}),(0,d.jsxs)("div",{className:"flex items-center flex-shrink-0 whitespace-nowrap",children:[d.jsx(x.default,{size:12,className:"text-amber-500 mr-1",fill:"#f59e0b"}),d.jsx("span",{className:"text-xs font-medium text-gray-700",children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]})]})})]})}):d.jsx(v(),{href:`/drama/${e._id}`,className:"block h-full",children:d.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full transform hover:-translate-y-1",style:{...R&&!E[e._id]?{border:"2px solid transparent",backgroundImage:"linear-gradient(white, white), linear-gradient(to right, #ff3e8e, #9333ea, #3b82f6)",backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box"}:{}},children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:`${R?"aspect-[5/4.5]":"h-60 md:h-64 lg:h-80"} bg-gray-100 relative overflow-hidden`,children:[d.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:d.jsx("img",{src:e.coverImage&&""!==e.coverImage.trim()?e.coverImage:"/images/dramas/default-poster.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",style:{objectPosition:R?"center 5%":"center center"},onError:e=>{e.target.onerror=null,e.target.src="/images/dramas/default-poster.jpg"}},`drama-img-${e._id}`)}),d.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-5xl drop-shadow-lg",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:(i-1)*b+t+1})}),!R&&(0,d.jsxs)("div",{className:"absolute top-2 right-2 flex items-center bg-black/50 backdrop-blur-sm px-2 py-1 rounded-full",children:[d.jsx("div",{className:"h-6 w-6 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center text-white font-bold text-xs mr-1 shadow-lg",children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"}),d.jsx("span",{className:"text-white/90 text-xs",children:"Rating"})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:d.jsx("div",{className:"p-4 w-full",children:d.jsx("p",{className:"text-white font-medium line-clamp-1",children:e.title})})})]}),(0,d.jsxs)("div",{className:"p-4 pb-3",children:[(0,d.jsxs)("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-[#ff3e8e] transition-colors line-clamp-1 flex items-center justify-between",children:[d.jsx("span",{className:"mr-2",children:e.title}),R&&(0,d.jsxs)("div",{className:"flex-shrink-0 flex items-center bg-gradient-to-r from-amber-50 to-amber-100 px-2 py-1 rounded-full border border-amber-200",children:[d.jsx(x.default,{size:12,className:"text-amber-500 mr-1 flex-shrink-0",fill:"#f59e0b"}),d.jsx("span",{className:"text-xs font-bold text-amber-700",children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]}),d.jsx("div",{className:"flex mt-2",children:d.jsx("div",{className:"w-full overflow-hidden",children:d.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:e.genres&&Array.isArray(e.genres)&&e.genres.length>0?e.genres.map((e,t)=>d.jsx("span",{className:"inline-block text-xs font-medium text-pink-700 px-2 py-0.5 bg-pink-50 rounded-full mr-1 shadow-sm hover:bg-pink-100 transition-colors",style:{display:"inline-block",backgroundColor:"#FDF2F8",color:"#BE185D",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500"},children:e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e},t)):"string"==typeof e.genre&&""!==e.genre.trim()?e.genre.split(",").map((e,t)=>d.jsx("span",{className:"inline-block text-xs font-medium text-pink-700 px-2 py-0.5 bg-pink-50 rounded-full mr-1 shadow-sm hover:bg-pink-100 transition-colors",style:{display:"inline-block",backgroundColor:"#FDF2F8",color:"#BE185D",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500"},children:e.trim().charAt(0).toUpperCase()+e.trim().slice(1)},t)):null})})}),e.watchProviders&&e.watchProviders.length>0&&d.jsx("div",{className:"flex mt-2 mb-2",children:d.jsx("div",{className:"w-full overflow-hidden",children:(0,d.jsxs)("div",{className:"flex flex-nowrap overflow-x-hidden",children:[e.watchProviders.slice(0,3).map((e,t)=>d.jsx("span",{className:"inline-flex items-center text-xs font-medium text-blue-700 px-2.5 py-0.5 bg-blue-50 rounded-full mr-1.5 whitespace-nowrap shadow-sm hover:bg-blue-100 transition-colors",children:e.name},t)),e.watchProviders.length>3&&(0,d.jsxs)("span",{className:"text-xs font-medium text-blue-600 whitespace-nowrap",children:["+",e.watchProviders.length-3]})]})})}),d.jsx("div",{className:"mt-2 mb-1",children:e.description||e.summary?d.jsx("p",{className:"text-xs text-gray-600 line-clamp-1 overflow-ellipsis",children:e.description||e.summary}):d.jsx("p",{className:"text-xs text-gray-400 line-clamp-1 overflow-ellipsis italic",children:"No synopsis available"})})]})]})})})]},e._id)})},`drama-page-${i}`),R&&d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>{let e=!A;K(e),R&&$.length>0&&(e?F([...$]):F($.slice(0,5)))},className:"px-6 py-2 bg-gradient-to-r from-[#ff3e8e] to-[#ff8360] text-white rounded-full hover:shadow-lg transition-all transform hover:-translate-y-1",children:A?"Show Less ↑":"Show More ↓"})}),i<k&&d.jsx("button",{onClick:()=>{i<k&&!U&&(W(!0),T("right"),J(i+1))},className:"hidden lg:flex absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-6 z-10 w-12 h-12 rounded-full items-center justify-center text-white bg-gradient-to-r from-[#ff3e8e] to-[#ff8360] hover:shadow-md transition-all duration-300 shadow-md","aria-label":"Next Page",children:d.jsx(f.default,{size:18})})]}),(0,d.jsxs)("div",{className:"mt-16",children:[d.jsx(j.default,{initialNews:t,category:"drama"}),d.jsx("div",{className:"mb-12"})]})]})]})}async function k(e){try{let t=e.req.headers["x-forwarded-proto"]||"http",a=`${t}://${e.req.headers.host}`,[s,r]=await Promise.all([fetch(`${a}/api/dramas?category=drama&limit=50`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(`${a}/api/news/drama?page=1&limit=6&sort=createdAt&order=desc`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})]),i=await s.json(),l=await r.json(),n=Array.isArray(l.data)?l.data:l.data?.news||[],o=(i.data||[]).map(e=>(e.coverImage||(e.coverImage="/images/dramas/default-poster.jpg"),e)),d=n.map(e=>(e.coverImage||(e.coverImage="/images/news/default-news.jpg"),e));return{props:{dramas:o||[],dramaNews:d||[],newsPagination:l.data?.pagination||{total:d.length,page:1,limit:6,totalPages:Math.ceil(d.length/6),hasNextPage:d.length>6,hasPrevPage:!1}}}}catch(e){return{props:{dramas:[],dramaNews:[],newsPagination:{total:0,page:1,limit:6,totalPages:0,hasNextPage:!1,hasPrevPage:!1}}}}}let S=(0,l.hoist)(s,"default"),P=(0,l.hoist)(s,"getStaticProps"),C=(0,l.hoist)(s,"getStaticPaths"),R=(0,l.hoist)(s,"getServerSideProps"),_=(0,l.hoist)(s,"config"),q=(0,l.hoist)(s,"reportWebVitals"),F=(0,l.hoist)(s,"unstable_getStaticProps"),z=(0,l.hoist)(s,"unstable_getStaticPaths"),D=(0,l.hoist)(s,"unstable_getStaticParams"),A=(0,l.hoist)(s,"unstable_getServerProps"),K=(0,l.hoist)(s,"unstable_getServerSideProps"),$=new r.PagesRouteModule({definition:{kind:i.RouteKind.PAGES,page:"/drama",pathname:"/drama",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:s})},53946:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(20997);a(16689);let r=()=>(0,s.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,s.jsxs)("div",{className:"relative w-20 h-20",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 animate-pulse opacity-70"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-pink-500 border-r-purple-500 animate-spin-slow"}),s.jsx("div",{className:"absolute inset-2 rounded-full border-[3px] border-transparent border-b-pink-400 border-l-purple-400 animate-reverse-spin"}),s.jsx("div",{className:"absolute inset-4 rounded-full bg-white flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 animate-bounce"})}),s.jsx("div",{className:"absolute top-1 right-2 w-1.5 h-1.5 rounded-full bg-pink-300 animate-float-1"}),s.jsx("div",{className:"absolute bottom-3 left-1 w-1 h-1 rounded-full bg-purple-300 animate-float-2"}),s.jsx("div",{className:"absolute top-4 left-2 w-1 h-1 rounded-full bg-pink-400 animate-float-3"})]}),(0,s.jsxs)("div",{className:"relative ml-3 overflow-hidden",children:[(0,s.jsxs)("div",{className:"animate-text-reveal",children:[s.jsx("span",{className:"inline-block font-medium text-lg bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Loading"}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-1",children:"."}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-2",children:"."}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-3",children:"."})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-[2px] w-full bg-gradient-to-r from-pink-500 to-purple-500 opacity-70 animate-expand-line"})]})]})},51568:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},54098:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},41649:e=>{e.exports=require("next-auth/react")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},71568:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[3393,1859,6859,8559,6870,8505,8523,1473,5704,131],()=>a(84828));module.exports=s})();