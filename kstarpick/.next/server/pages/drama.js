"use strict";(()=>{var e={};e.id=4589,e.ids=[4589],e.modules={84828:(e,t,a)=>{a.r(t),a.d(t,{config:()=>A,default:()=>S,getServerSideProps:()=>R,getStaticPaths:()=>C,getStaticProps:()=>P,reportWebVitals:()=>_,routeModule:()=>K,unstable_getServerProps:()=>T,unstable_getServerSideProps:()=>$,unstable_getStaticParams:()=>z,unstable_getStaticPaths:()=>F,unstable_getStaticProps:()=>q});var s={};a.r(s),a.d(s,{default:()=>N,getServerSideProps:()=>k});var r=a(87093),l=a(35244),i=a(1323),n=a(65949),o=a(81928),d=a(20997),c=a(16689);a(40968);var m=a(11163);a(19086),a(44975);var u=a(50570),p=a(47553),h=a(51568),x=a(54098),g=a(62691),f=a(20245),b=a(41664),v=a.n(b);a(73208),a(53946);var w=a(88904),j=a(55704),y=a(1335);function N({dramas:e,dramaNews:t,newsPagination:a}){(0,m.useRouter)();let[s,r]=(0,c.useState)(!0),[l,i]=(0,c.useState)(1),[n,o]=(0,c.useState)(!1),[b,N]=(0,c.useState)(5),[k,S]=(0,c.useState)(0),[P,C]=(0,c.useState)("views"),[R,A]=(0,c.useState)(!1),[_,q]=(0,c.useState)([]),[F,z]=(0,c.useState)(0),[T,$]=(0,c.useState)(!1),[K,D]=(0,c.useState)([]),[L,M]=(0,c.useState)({});(0,c.useRef)(null),(0,c.useRef)(!1);let[E,I]=(0,c.useState)(!1),[U,W]=(0,c.useState)("right"),[X,G]=(0,c.useState)(0),[O,Q]=(0,c.useState)(0),[V,Y]=(0,c.useState)(!1);(0,c.useCallback)((e,t,a)=>{if(a&&0!==a.length){if(e)q(t?[...a]:a.slice(0,5));else{let e=(l-1)*b;q(a.slice(e,e+b))}}},[l,b]);let B=e=>{try{let t={...L};if(R){let a=t[e];Object.keys(t).forEach(e=>{t[e]=!0}),a&&(t[e]=!1)}else t[e]=!t[e];M(t)}catch(e){}},J=e=>{if(E)return;I(!0),W(e>l?"right":"left"),i(e);let t=(e-1)*b;z(t);let a=[...K].sort((e,t)=>"year"===P&&e.year&&t.year?t.year-e.year:"title"===P?e.title.localeCompare(t.title):"rating"===P&&e.rating&&t.rating?t.rating-e.rating:"episodes"===P&&e.episodes&&t.episodes?t.episodes-e.episodes:(t.viewCount||0)-(e.viewCount||0));setTimeout(()=>{if(R||q(a.slice(t,t+b)),R){let e=a.slice(t,t+b),s={};e.forEach((e,t)=>{e&&e._id&&(s[e._id]=0!==t)}),M(e=>({...e,...s}))}setTimeout(()=>{I(!1)},50)},250)};return(0,d.jsxs)(w.default,{children:[d.jsx(u.default,{title:"Korean Dramas | K-Drama Rankings & Reviews",description:"Explore popular Korean dramas including Queen of Tears, Crash Landing on You, Squid Game, and latest K-Dramas. Find ratings, cast info, and plot summaries.",url:"/drama",type:"website",keywords:"Korean drama,K-Drama,Crash Landing on You,Squid Game,Queen of Tears,Korean series,drama reviews,K-Drama ratings,Korean entertainment",jsonLd:(0,y.generateWebsiteJsonLd)()}),(0,d.jsxs)("div",{className:"container mx-auto px-4 pt-0 pb-12",children:[d.jsx("div",{className:"mb-8 mt-8",children:(0,d.jsxs)("h1",{className:"font-bold text-black",style:{fontSize:"20px"},children:["Most searched ",d.jsx("span",{style:{color:"#233CFA"},children:"dramas"})," right now"]})}),(0,d.jsxs)("div",{className:"relative",children:[l>1&&d.jsx("button",{onClick:()=>{l>1&&!E&&(I(!0),W("left"),J(l-1))},className:"hidden lg:flex absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-6 z-10 w-12 h-12 rounded-full items-center justify-center text-white hover:shadow-md transition-all duration-300 shadow-md",style:{backgroundColor:"#233CFA"},"aria-label":"Previous Page",children:d.jsx(p.default,{size:18})}),d.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-5 transition-all duration-300
              ${E?"opacity-70 "+("right"===U?"translate-x-4":"-translate-x-4"):"opacity-100 translate-x-0"}`,children:_.map((e,t)=>{let a=R&&L[e._id];return(0,d.jsxs)("div",{className:`group relative transition-all duration-300
                    ${E?"opacity-60 scale-98":"opacity-100 scale-100"}`,style:{transitionDelay:E?"0ms":`${40*t}ms`,transform:E?"right"===U?"translateX(10px)":"translateX(-10px)":"translateX(0)"},children:[R&&d.jsx("div",{className:"absolute top-3 right-3 z-30 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md cursor-pointer hover:bg-white transition-all",onClick:t=>{t.preventDefault(),t.stopPropagation(),B(e._id)},children:a?d.jsx(h.default,{size:18,className:"text-gray-700"}):d.jsx(x.default,{size:18,className:"text-gray-700"})}),a?d.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full",children:(0,d.jsxs)("div",{className:"flex items-center p-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg mr-3 flex-shrink-0",style:{backgroundColor:"#233CFA"},children:(l-1)*b+t+1}),d.jsx("div",{className:"flex-grow min-w-0",children:(0,d.jsxs)(v(),{href:`/drama/${e.slug||e._id}`,className:"block",children:[d.jsx("h3",{className:"text-base font-semibold text-gray-800 hover:text-[#009efc] transition-colors line-clamp-1 truncate",children:e.title}),(0,d.jsxs)("div",{className:"flex items-center mt-1.5 overflow-hidden",children:[e.genres&&Array.isArray(e.genres)&&e.genres.length>0?d.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",style:{backgroundColor:"#f3f4f6",color:"#1f2937"},children:"string"==typeof e.genres[0]?e.genres[0].charAt(0).toUpperCase()+e.genres[0].slice(1):e.genres[0]}):"string"==typeof e.genre&&""!==e.genre.trim()?d.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full shadow-sm mr-2 whitespace-nowrap flex-shrink-0",style:{backgroundColor:"#f3f4f6",color:"#1f2937"},children:e.genre.split(",")[0].trim().charAt(0).toUpperCase()+e.genre.split(",")[0].trim().slice(1)}):d.jsx("span",{className:"text-xs text-gray-500 mr-2 whitespace-nowrap flex-shrink-0",children:"No genre"}),(0,d.jsxs)("div",{className:"flex items-center flex-shrink-0 whitespace-nowrap",children:[d.jsx(g.default,{size:12,className:"text-amber-500 mr-1",fill:"#f59e0b"}),d.jsx("span",{className:"text-xs font-medium text-gray-700",children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]})]})})]})}):d.jsx(v(),{href:`/drama/${e.slug||e._id}`,className:"block h-full",children:d.jsx("div",{className:"bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 h-full transform hover:-translate-y-1",style:R?{border:"2px solid #233CFA"}:{},children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("div",{className:`${R?"aspect-[5/4.5]":"h-60 md:h-64 lg:h-80"} bg-gray-100 relative overflow-hidden`,children:[d.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:d.jsx("img",{src:e.coverImage&&""!==e.coverImage.trim()?e.coverImage:"/images/dramas/default-poster.jpg",alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",style:{objectPosition:R?"center 5%":"center center"},onError:e=>{e.target.onerror=null,e.target.src="/images/dramas/default-poster.jpg"}},`drama-img-${e._id}`)}),d.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-5xl drop-shadow-lg",style:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:(l-1)*b+t+1})}),!R&&(0,d.jsxs)("div",{className:"absolute top-2 right-2 flex items-center bg-black/50 backdrop-blur-sm px-2 py-1 rounded-full",children:[d.jsx("div",{className:"h-6 w-6 rounded-full flex items-center justify-center text-white font-bold text-xs mr-1 shadow-lg",style:{backgroundColor:"#233CFA"},children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"}),d.jsx("span",{className:"text-white/90 text-xs",children:"Rating"})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end",children:d.jsx("div",{className:"p-4 w-full",children:d.jsx("p",{className:"text-white font-medium line-clamp-1",children:e.title})})})]}),(0,d.jsxs)("div",{className:"p-4 pb-3",children:[(0,d.jsxs)("h3",{className:"text-base font-semibold text-gray-800 group-hover:text-[#009efc] transition-colors line-clamp-1 flex items-center justify-between",children:[d.jsx("span",{className:"mr-2",children:e.title}),R&&(0,d.jsxs)("div",{className:"flex-shrink-0 flex items-center bg-gradient-to-r from-amber-50 to-amber-100 px-2 py-1 rounded-full border border-amber-200",children:[d.jsx(g.default,{size:12,className:"text-amber-500 mr-1 flex-shrink-0",fill:"#f59e0b"}),d.jsx("span",{className:"text-xs font-bold text-amber-700",children:e.reviewRating&&e.reviewRating>0?10===parseFloat(e.reviewRating)?"10":parseFloat(e.reviewRating).toFixed(1):"-"})]})]}),d.jsx("div",{className:"flex mt-2",children:d.jsx("div",{className:"w-full overflow-hidden",children:d.jsx("div",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:e.genres&&Array.isArray(e.genres)&&e.genres.length>0?e.genres.map((e,t)=>d.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full mr-1 shadow-sm transition-colors",style:{display:"inline-block",backgroundColor:"#f3f4f6",color:"#1f2937",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},children:e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e},t)):"string"==typeof e.genre&&""!==e.genre.trim()?e.genre.split(",").map((e,t)=>d.jsx("span",{className:"inline-block text-xs font-medium px-2 py-0.5 rounded-full mr-1 shadow-sm transition-colors",style:{display:"inline-block",backgroundColor:"#f3f4f6",color:"#1f2937",borderRadius:"9999px",padding:"0.25rem 0.5rem",marginRight:"0.25rem",fontSize:"0.75rem",fontWeight:"500",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#009efc",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#1f2937"},children:e.trim().charAt(0).toUpperCase()+e.trim().slice(1)},t)):null})})}),e.watchProviders&&e.watchProviders.length>0&&d.jsx("div",{className:"flex mt-2 mb-2",children:d.jsx("div",{className:"w-full overflow-hidden",children:(0,d.jsxs)("div",{className:"flex flex-nowrap overflow-x-hidden",children:[e.watchProviders.slice(0,3).map((e,t)=>d.jsx("span",{className:"inline-flex items-center text-xs font-medium text-blue-700 px-2.5 py-0.5 bg-blue-50 rounded-full mr-1.5 whitespace-nowrap shadow-sm hover:bg-blue-100 transition-colors",children:e.name},t)),e.watchProviders.length>3&&(0,d.jsxs)("span",{className:"text-xs font-medium text-blue-600 whitespace-nowrap",children:["+",e.watchProviders.length-3]})]})})}),d.jsx("div",{className:"mt-2 mb-1",children:e.description||e.summary?d.jsx("p",{className:"text-xs text-gray-600 line-clamp-1 overflow-ellipsis",children:e.description||e.summary}):d.jsx("p",{className:"text-xs text-gray-400 line-clamp-1 overflow-ellipsis italic",children:"No synopsis available"})})]})]})})})]},e._id)})},`drama-page-${l}`),R&&d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:()=>{let e=!T;$(e),R&&K.length>0&&(e?q([...K]):q(K.slice(0,5)))},className:"w-full py-3 bg-white text-black font-medium rounded-2xl border-2 border-gray-300 hover:border-gray-400 hover:shadow-md transition-all",children:T?(0,d.jsxs)("span",{className:"flex items-center justify-center",children:["Fold",d.jsx(x.default,{className:"ml-2",size:20})]}):(0,d.jsxs)("span",{className:"flex items-center justify-center",children:["See more",d.jsx(h.default,{className:"ml-2",size:20})]})})}),l<k&&d.jsx("button",{onClick:()=>{l<k&&!E&&(I(!0),W("right"),J(l+1))},className:"hidden lg:flex absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-6 z-10 w-12 h-12 rounded-full items-center justify-center text-white hover:shadow-md transition-all duration-300 shadow-md",style:{backgroundColor:"#233CFA"},"aria-label":"Next Page",children:d.jsx(f.default,{size:18})})]}),(0,d.jsxs)("div",{className:"mt-16",children:[d.jsx(j.default,{initialNews:t,category:"drama"}),d.jsx("div",{className:"mb-12"})]})]})]})}async function k(e){try{let t=e.req.headers["x-forwarded-proto"]||"http",a=`${t}://${e.req.headers.host}`,[s,r]=await Promise.all([fetch(`${a}/api/dramas?category=drama&limit=50&sortBy=orderNumber&sortOrder=asc`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),fetch(`${a}/api/news/drama?page=1&limit=6&sort=createdAt&order=desc`,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}})]),l=await s.json(),i=await r.json(),n=Array.isArray(i.data)?i.data:i.data?.news||[],o=(l.data||[]).map(e=>(e.coverImage||(e.coverImage="/images/dramas/default-poster.jpg"),e)),d=n.map(e=>(e.coverImage||(e.coverImage="/images/news/default-news.jpg"),e));return{props:{dramas:o||[],dramaNews:d||[],newsPagination:i.data?.pagination||{total:d.length,page:1,limit:6,totalPages:Math.ceil(d.length/6),hasNextPage:d.length>6,hasPrevPage:!1}}}}catch(e){return{props:{dramas:[],dramaNews:[],newsPagination:{total:0,page:1,limit:6,totalPages:0,hasNextPage:!1,hasPrevPage:!1}}}}}let S=(0,i.hoist)(s,"default"),P=(0,i.hoist)(s,"getStaticProps"),C=(0,i.hoist)(s,"getStaticPaths"),R=(0,i.hoist)(s,"getServerSideProps"),A=(0,i.hoist)(s,"config"),_=(0,i.hoist)(s,"reportWebVitals"),q=(0,i.hoist)(s,"unstable_getStaticProps"),F=(0,i.hoist)(s,"unstable_getStaticPaths"),z=(0,i.hoist)(s,"unstable_getStaticParams"),T=(0,i.hoist)(s,"unstable_getServerProps"),$=(0,i.hoist)(s,"unstable_getServerSideProps"),K=new r.PagesRouteModule({definition:{kind:l.RouteKind.PAGES,page:"/drama",pathname:"/drama",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:s})},53946:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(20997);a(16689);let r=()=>(0,s.jsxs)("div",{className:"flex justify-center items-center py-10",children:[(0,s.jsxs)("div",{className:"relative w-20 h-20",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500 animate-pulse opacity-70"}),s.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-pink-500 border-r-purple-500 animate-spin-slow"}),s.jsx("div",{className:"absolute inset-2 rounded-full border-[3px] border-transparent border-b-pink-400 border-l-purple-400 animate-reverse-spin"}),s.jsx("div",{className:"absolute inset-4 rounded-full bg-white flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 animate-bounce"})}),s.jsx("div",{className:"absolute top-1 right-2 w-1.5 h-1.5 rounded-full bg-pink-300 animate-float-1"}),s.jsx("div",{className:"absolute bottom-3 left-1 w-1 h-1 rounded-full bg-purple-300 animate-float-2"}),s.jsx("div",{className:"absolute top-4 left-2 w-1 h-1 rounded-full bg-pink-400 animate-float-3"})]}),(0,s.jsxs)("div",{className:"relative ml-3 overflow-hidden",children:[(0,s.jsxs)("div",{className:"animate-text-reveal",children:[s.jsx("span",{className:"inline-block font-medium text-lg bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-transparent",children:"Loading"}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-1",children:"."}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-2",children:"."}),s.jsx("span",{className:"inline-block mx-[1px] animate-dot-3",children:"."})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-[2px] w-full bg-gradient-to-r from-pink-500 to-purple-500 opacity-70 animate-expand-line"})]})]})},51568:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},47553:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},54098:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},62691:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});let s=(0,a(64370).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},41649:e=>{e.exports=require("next-auth/react")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},40968:e=>{e.exports=require("next/head")},16689:e=>{e.exports=require("react")},66405:e=>{e.exports=require("react-dom")},20997:e=>{e.exports=require("react/jsx-runtime")},99816:e=>{e.exports=require("styled-jsx/style")},92048:e=>{e.exports=require("fs")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},71568:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[3393,1859,6859,8559,6870,8505,8523,6327,5704,3362],()=>a(84828));module.exports=s})();