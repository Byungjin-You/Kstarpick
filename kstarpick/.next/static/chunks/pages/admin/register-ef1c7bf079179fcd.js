(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3689],{54327:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/register",function(){return r(73039)}])},63759:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n},toKebabCase:function(){return l}});var s=r(67294),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{color:i="currentColor",size:d=24,strokeWidth:o=2,absoluteStrokeWidth:c,children:u,...m}=r;return(0,s.createElement)("svg",{ref:n,...a,width:d,height:d,stroke:i,strokeWidth:c?24*Number(o)/Number(d):o,className:"lucide lucide-".concat(l(e)),...m},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...(Array.isArray(u)?u:[u])||[]])});return r.displayName="".concat(e),r}},43765:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let s=(0,r(63759).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},78865:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let s=(0,r(63759).default)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},82126:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let s=(0,r(63759).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},86691:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let s=(0,r(63759).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8267:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});let s=(0,r(63759).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},73039:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(85893),a=r(67294),l=r(11163),n=r(41664),i=r.n(n),d=r(9008),o=r.n(d),c=r(43765),u=r(78865),m=r(8267),x=r(86691),h=r(82126);function f(){let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[d,f]=(0,a.useState)(""),[g,p]=(0,a.useState)(""),[y,b]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),[k,C]=(0,a.useState)(!1),P=(0,l.useRouter)(),A=async s=>{if(s.preventDefault(),w(""),N(""),!e||!r||!d||!g||!y){w("Please fill out all fields.");return}if(d!==g){w("Passwords do not match.");return}if(d.length<8){w("Password must be at least 8 characters long.");return}try{C(!0);let s=await fetch("/api/auth/register-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:r,password:d,adminKey:y})}),a=await s.json();if(!s.ok)throw Error(a.message||"Failed to register admin account");N("Admin account created successfully. You can now log in."),t(""),n(""),f(""),p(""),b(""),setTimeout(()=>{P.push("/admin/login")},3e3)}catch(e){w(e.message||"An error occurred during registration.")}finally{C(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[(0,s.jsx)("title",{children:"Admin Registration | K-POP News Portal"}),(0,s.jsx)("meta",{name:"description",content:"Admin registration page for K-POP News Portal"})]}),(0,s.jsx)("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gray-100 px-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Registration"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Create your admin account"})]}),j&&(0,s.jsxs)("div",{className:"mb-6 flex items-center p-4 border-l-4 border-red-500 bg-red-50 text-red-700 rounded",children:[(0,s.jsx)(c.default,{className:"mr-2 h-5 w-5"}),(0,s.jsx)("p",{children:j})]}),v&&(0,s.jsxs)("div",{className:"mb-6 flex items-center p-4 border-l-4 border-green-500 bg-green-50 text-green-700 rounded",children:[(0,s.jsx)(u.default,{className:"mr-2 h-5 w-5"}),(0,s.jsx)("p",{children:v})]}),(0,s.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(m.default,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"John Doe",value:e,onChange:e=>t(e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(x.default,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"admin@example.com",value:r,onChange:e=>n(e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(h.default,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"••••••••",value:d,onChange:e=>f(e.target.value),minLength:8})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(h.default,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"••••••••",value:g,onChange:e=>p(e.target.value)})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"adminKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Registration Key"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,s.jsx)(h.default,{className:"h-5 w-5 text-gray-400"})}),(0,s.jsx)("input",{id:"adminKey",name:"adminKey",type:"password",required:!0,className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-black",placeholder:"Enter admin registration key",value:y,onChange:e=>b(e.target.value)})]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Contact system administrator for this key"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:k,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm font-medium ".concat(k?"opacity-70 cursor-not-allowed":""),children:k?"Creating Account...":"Create Admin Account"})})]})]}),(0,s.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,s.jsxs)("p",{className:"text-sm text-center text-gray-600",children:["Already have an account? ",(0,s.jsx)(i(),{href:"/admin/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]}),(0,s.jsx)("div",{className:"text-center mt-6",children:(0,s.jsx)(i(),{href:"/",className:"text-sm text-gray-600 hover:text-gray-900",children:"← Back to homepage"})})]})})]})}}},function(e){e.O(0,[1664,2888,9774,179],function(){return e(e.s=54327)}),_N_E=e.O()}]);