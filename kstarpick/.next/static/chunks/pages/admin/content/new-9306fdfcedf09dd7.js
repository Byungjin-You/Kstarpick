(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5026],{76594:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/content/new",function(){return t(41582)}])},2575:function(e,s,t){"use strict";t.r(s);var a=t(85893),l=t(67294),r=t(41664),i=t.n(r),n=t(11163),c=t(33299),d=t(43765),o=t(38361),m=t(2553),x=t(63594),u=t(2287),h=t(89176),g=t(55264),b=t(70095),p=t(77362),f=t(94086),y=t(70088),v=t(70775);s.default=e=>{let{children:s}=e,t=(0,n.useRouter)(),{data:r,status:j}=(0,c.useSession)(),[N,w]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{("unauthenticated"===j||r&&"admin"!==r.user.role)&&t.push("/admin/login")},[r,j,t]),"loading"===j)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-t-[#ff3e8e] rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-xl font-medium",children:"Loading admin panel..."})]})})}):"unauthenticated"===j||r&&"admin"!==r.user.role?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md max-w-md",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[(0,a.jsx)(d.default,{size:48,className:"text-red-500"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Unauthorized Access"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin area."}),(0,a.jsx)(i(),{href:"/",className:"px-4 py-2 mt-4 text-white bg-[#ff3e8e] rounded-md hover:bg-[#e02e7c]",children:"Go to Homepage"})]})})}):(o.default,m.default,x.default,u.default,h.default,g.default,(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"w-64 min-h-screen bg-white shadow-md",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"관리자 패널"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center px-4 py-2 rounded-lg ".concat("/admin"===t.pathname?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(o.default,{className:"mr-3 h-5 w-5"}),"대시보드"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/content",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/content")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(b.default,{className:"mr-3 h-5 w-5"}),"콘텐츠 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/news",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/news")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(p.default,{className:"mr-3 h-5 w-5"}),"뉴스 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/drama",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/drama")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(f.default,{className:"mr-3 h-5 w-5"}),"드라마 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/music",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/music")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(u.default,{className:"mr-3 h-5 w-5"}),"음악 차트 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/celeb",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/celeb")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(y.default,{className:"mr-3 h-5 w-5"}),"셀럽 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/users",className:"flex items-center px-4 py-2 rounded-lg ".concat(t.pathname.startsWith("/admin/users")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(h.default,{className:"mr-3 h-5 w-5"}),"사용자 관리"]})})]}),(0,a.jsx)("div",{className:"border-t mt-4 pt-4",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),sessionStorage.removeItem("adminToken"),(0,c.signOut)({callbackUrl:"/"})},className:"flex items-center w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,a.jsx)(v.default,{className:"mr-3 h-5 w-5"}),"로그아웃"]})})]})]}),(0,a.jsx)("div",{className:"flex-1",children:s})]})}))}},41582:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return y},default:function(){return v}});var a=t(85893),l=t(67294),r=t(2575),i=t(11163),n=t(5152),c=t.n(n);t(25675),t(41664);var d=t(92761),o=t(69819),m=t(78865),x=t(9475),u=t(4270),h=t(45062),g=t(70088);t(60493),t(43765),t(74598),t(62190),t(31304),t(70162);var b=t(9289);t(86501),c()(()=>Promise.all([t.e(9414),t.e(4966)]).then(t.bind(t,14966)),{loadableGenerated:{webpack:()=>[14966]},ssr:!1});let p=[{value:"drama",label:"드라마"},{value:"movie",label:"영화"},{value:"variety",label:"예능"},{value:"documentary",label:"다큐멘터리"},{value:"animation",label:"애니메이션"},{value:"web_series",label:"웹 시리즈"},{value:"other",label:"기타"}],f=[{value:"romance",label:"Romance"},{value:"comedy",label:"Comedy"},{value:"action",label:"Action"},{value:"drama",label:"Drama"},{value:"thriller",label:"Thriller"},{value:"fantasy",label:"Fantasy"},{value:"historical",label:"Historical"},{value:"crime",label:"Crime"},{value:"mystery",label:"Mystery"},{value:"horror",label:"Horror"},{value:"sports",label:"Sports"},{value:"music",label:"Music"},{value:"family",label:"Family"},{value:"youth",label:"Youth"},{value:"medical",label:"Medical"},{value:"legal",label:"Legal"},{value:"military",label:"Military"},{value:"sci-fi",label:"Sci-Fi"},{value:"documentary",label:"Documentary"},{value:"reality",label:"Reality"}];var y=!0;function v(){let e=(0,i.useRouter)(),{id:s}=e.query,t=!!s,[n,c]=(0,l.useState)({title:"",originalTitle:"",description:"",summary:"",status:"ongoing",country:"KOREA",releaseDate:(0,b.default)(new Date,"yyyy-MM-dd"),runtime:"",ageRating:"",director:"",genres:[],category:"drama",coverImage:null,bannerImage:null,trailerUrl:"",cast:[],watchProviders:[],streamingLinks:{netflix:"",apple:"",disney:""},tags:[],rating:0,views:0,likesCount:0,dislikesCount:0,metaDescription:"",metaKeywords:"",videos:[],reviews:[]}),[y,v]=(0,l.useState)(t),[j,N]=(0,l.useState)(null),[w,k]=(0,l.useState)({visible:!1,message:"",type:""}),[S,C]=(0,l.useState)(!1),[R,L]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1),[T,F]=(0,l.useState)(!1),[_,z]=(0,l.useState)(""),[U,P]=(0,l.useState)(""),[E,q]=(0,l.useState)("basic"),[A,O]=(0,l.useState)({visible:!1,message:"",type:""}),[W,H]=(0,l.useState)([]),[M,K]=(0,l.useState)(!1),[Y,B]=(0,l.useState)(""),[V,G]=(0,l.useState)("trailer"),[X,J]=(0,l.useState)(""),[$,Q]=(0,l.useState)(""),[Z,ee]=(0,l.useState)(""),[es,et]=(0,l.useState)(5),[ea,el]=(0,l.useState)(""),[er,ei]=(0,l.useState)(""),[en,ec]=(0,l.useState)(""),[ed,eo]=(0,l.useState)(""),[em,ex]=(0,l.useState)(null),[eu,eh]=(0,l.useState)(""),[eg,eb]=(0,l.useState)(null),[ep,ef]=(0,l.useState)(""),[ey,ev]=(0,l.useState)({}),[ej,eN]=(0,l.useState)(null),[ew,ek]=(0,l.useState)(null),[eS,eC]=(0,l.useState)(""),[eR,eL]=(0,l.useState)(""),[eD,eI]=(0,l.useState)(""),[eT,eF]=(0,l.useState)(""),[e_,ez]=(0,l.useState)(""),[eU,eP]=(0,l.useState)(""),eE=(0,l.useRef)(null),eq=(0,l.useRef)(null);(0,l.useRef)(null);let[eA,eO]=(0,l.useState)([]),[eW,eH]=(0,l.useState)([]),[eM,eK]=(0,l.useState)({netflix:!1,apple:!1,disney:!1}),[eY,eB]=(0,l.useState)({basic:!1,videos:!1,reviews:!1}),eV=e=>{switch(e){case"basic":return n.title&&n.description&&n.coverImage;case"videos":return n.videos.length>0;case"reviews":return n.reviews.length>0;default:return!1}};(0,l.useEffect)(()=>{eB(e=>({...e,[E]:eV(E)}))},[E,n]);let eG=e=>{let{name:s,value:t,type:a,checked:l}=e.target;c(e=>({...e,[s]:"checkbox"===a?l:t})),ey[s]&&ev(e=>({...e,[s]:null}))},eX=e=>{if(!e)return null;let s=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return s&&11===s[2].length?s[2]:null},eJ=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";O({visible:!0,message:e,type:s}),setTimeout(()=>O({visible:!1,message:"",type:""}),3e3)},e$=(e,s,t)=>{let a=[...n.cast];a[e]={...a[e],[s]:t},c({...n,cast:a})},eQ=e=>{let s=[...n.cast];s.splice(e,1),c({...n,cast:s});let t=[...eA];t.splice(e,1),eO(t);let a=[...eW];a.splice(e,1),eH(a)},eZ=e=>{if(eK(s=>({...s,[e]:!s[e]})),eM[e])c(s=>({...s,watchProviders:s.watchProviders.filter(s=>s.name.toLowerCase()!==e)}));else{let s={};switch(e){case"netflix":s={name:"Netflix",logo:"https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png",type:"subscription",price:"13,500원/월",quality:["HD","4K","HDR"],url:n.streamingLinks.netflix};break;case"apple":s={name:"Apple TV+",logo:"https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg",type:"subscription",price:"8,900원/월",quality:["HD","4K"],url:n.streamingLinks.apple};break;case"disney":s={name:"Disney+",logo:"https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg",type:"subscription",price:"9,900원/월",quality:["HD","4K"],url:n.streamingLinks.disney}}c(e=>({...e,watchProviders:[...e.watchProviders,s]}))}},e0=(e,s)=>{c(t=>({...t,streamingLinks:{...t.streamingLinks,[e]:s},watchProviders:t.watchProviders.map(t=>t.name.toLowerCase().includes(e)?{...t,url:s}:t)}))},e1=async a=>{a.preventDefault(),I(!0),N(null);let l={};if(n.title||(l.title="제목을 입력해주세요."),n.description||(l.description="줄거리를 입력해주세요."),n.status||(l.status="상태를 선택해주세요."),n.releaseDate||(l.releaseDate="방영일을 선택해주세요."),0===n.genres.length&&(l.genres="최소 하나의 장르를 선택해주세요."),n.category||(l.category="카테고리를 선택해주세요."),Object.keys(l).length>0){ev(l),I(!1);return}try{let a=localStorage.getItem("token")||localStorage.getItem("adminToken"),l=await fetch(t?"/api/dramas/".concat(s):"/api/dramas",{method:t?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:a?"Bearer ".concat(a):""},body:JSON.stringify(n)}),r=await l.json();if(!l.ok)throw Error(r.message||"콘텐츠 저장 중 오류가 발생했습니다.");eJ("콘텐츠가 성공적으로 ".concat(t?"수정":"등록","되었습니다."),"success"),setTimeout(()=>e.push("/admin/content"),1500)}catch(e){eJ(e.message,"error")}finally{I(!1)}},e2=e=>{c(s=>({...s,reviews:s.reviews.map((s,t)=>({...s,isFeatured:t===e}))}))};return(0,a.jsx)(r.default,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"mr-4 text-gray-600 hover:text-gray-800",children:(0,a.jsx)(d.default,{size:24})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t?"콘텐츠 수정":"새 콘텐츠 등록"})]}),(0,a.jsxs)("button",{onClick:e1,disabled:D,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md flex items-center ".concat(D?"opacity-70 cursor-not-allowed":""),children:[(0,a.jsx)(o.default,{size:18,className:"mr-1"}),t?"저장":"등록"]})]}),(0,a.jsx)("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(eY.basic?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(eY.basic?"bg-green-100":"bg-gray-100"),children:eY.basic?(0,a.jsx)(m.default,{size:20}):(0,a.jsx)("span",{children:"1"})}),(0,a.jsx)("span",{className:"ml-2",children:"기본 정보"})]}),(0,a.jsx)("div",{className:"h-1 w-8 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center ".concat(eY.videos?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(eY.videos?"bg-green-100":"bg-gray-100"),children:eY.videos?(0,a.jsx)(m.default,{size:20}):(0,a.jsx)("span",{children:"2"})}),(0,a.jsx)("span",{className:"ml-2",children:"비디오"})]}),(0,a.jsx)("div",{className:"h-1 w-8 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center ".concat(eY.reviews?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(eY.reviews?"bg-green-100":"bg-gray-100"),children:eY.reviews?(0,a.jsx)(m.default,{size:20}):(0,a.jsx)("span",{children:"3"})}),(0,a.jsx)("span",{className:"ml-2",children:"리뷰"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[Object.values(eY).filter(Boolean).length,"/3 단계 완료"]})]})}),(0,a.jsx)("div",{className:"mb-6 border-b border-gray-200 sticky top-0 bg-gray-50 z-10 shadow-sm",children:(0,a.jsxs)("nav",{className:"flex flex-nowrap overflow-x-auto px-2 py-1 hide-scrollbar",children:[(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("basic"===E?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>q("basic"),children:[(0,a.jsx)("span",{className:"mr-2",children:"기본 정보"}),eY.basic&&(0,a.jsx)(m.default,{size:16,className:"text-green-500"})]}),(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("videos"===E?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>q("videos"),children:[(0,a.jsx)("span",{className:"mr-2",children:"비디오"}),eY.videos&&(0,a.jsx)(m.default,{size:16,className:"text-green-500"})]}),(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("reviews"===E?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>q("reviews"),children:[(0,a.jsx)("span",{className:"mr-2",children:"리뷰"}),eY.reviews&&(0,a.jsx)(m.default,{size:16,className:"text-green-500"})]})]})}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:["basic"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:["카테고리 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"category",name:"category",value:n.category,onChange:e=>{eG(e),"drama"!==e.target.value&&c(e=>({...e,network:"",status:""}))},className:"w-full px-3 py-2 border rounded-md ".concat(ey.category?"border-red-500":"border-gray-300"),required:!0,children:[(0,a.jsx)("option",{value:"",children:"카테고리를 선택하세요"}),p.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),ey.category&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.category})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:["제목 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:n.title,onChange:eG,className:"w-full px-3 py-2 border rounded-md ".concat(ey.title?"border-red-500":"border-gray-300"),placeholder:"제목을 입력하세요",required:!0}),ey.title&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.title})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"originalTitle",children:"원제"}),(0,a.jsx)("input",{type:"text",id:"originalTitle",name:"originalTitle",value:n.originalTitle,onChange:eG,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"원제를 입력하세요"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:["줄거리 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{id:"description",name:"description",value:n.description,onChange:eG,className:"w-full px-3 py-2 border rounded-md ".concat(ey.description?"border-red-500":"border-gray-300"),placeholder:"줄거리를 입력하세요",rows:4,required:!0}),ey.description&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.description})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"releaseDate",children:["방영일 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"date",id:"releaseDate",name:"releaseDate",value:n.releaseDate,onChange:eG,className:"w-full px-3 py-2 border rounded-md ".concat(ey.releaseDate?"border-red-500":"border-gray-300"),required:!0}),ey.releaseDate&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.releaseDate})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"runtime",children:["런타임 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"runtime",name:"runtime",value:n.runtime,onChange:eG,className:"w-full px-3 py-2 border rounded-md ".concat(ey.runtime?"border-red-500":"border-gray-300"),placeholder:"예: 1시간 30분",required:!0}),ey.runtime&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.runtime})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"country",children:["국가 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"country",name:"country",value:n.country,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"ageRating",children:["연령 등급 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"ageRating",name:"ageRating",value:n.ageRating,onChange:eG,className:"w-full px-3 py-2 border rounded-md ".concat(ey.ageRating?"border-red-500":"border-gray-300"),required:!0,children:[(0,a.jsx)("option",{value:"",children:"연령 등급을 선택하세요"}),(0,a.jsx)("option",{value:"ALL",children:"전체 관람가"}),(0,a.jsx)("option",{value:"12",children:"12세 이상"}),(0,a.jsx)("option",{value:"15",children:"15세 이상"}),(0,a.jsx)("option",{value:"18",children:"18세 이상"})]}),ey.ageRating&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.ageRating})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"director",children:"감독"}),(0,a.jsx)("input",{type:"text",id:"director",name:"director",value:n.director,onChange:eG,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"감독을 입력하세요"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"출연진"}),n.cast&&n.cast.length>0&&(0,a.jsx)("div",{className:"space-y-2 mb-2",children:n.cast.map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 bg-gray-50 p-2 rounded",children:[e.profileImage?(0,a.jsx)("img",{src:e.profileImage,alt:e.name||"cast-".concat(s),className:"w-12 h-12 object-cover rounded-full border border-gray-300 bg-white",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-profile.png"}}):(0,a.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-gray-200 bg-gray-100 text-gray-400 text-xs",children:"No Image"}),(0,a.jsx)("input",{type:"text",placeholder:"이름",value:e.name||"",onChange:e=>e$(s,"name",e.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("input",{type:"text",placeholder:"역할 (예: 주연, 조연, 특별출연 등)",value:e.role||"",onChange:e=>e$(s,"role",e.target.value),className:"w-40 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("input",{type:"text",placeholder:"프로필 이미지 URL",value:e.profileImage||"",onChange:e=>e$(s,"profileImage",e.target.value),className:"w-64 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("button",{type:"button",className:"text-red-500 hover:text-red-700 ml-2",onClick:()=>eQ(s),children:(0,a.jsx)(x.default,{size:18})})]},s))}),(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm",onClick:()=>{c({...n,cast:[...n.cast,{name:"",role:"",profileImage:""}]}),eO([...eA,""]),eH([...eW,""])},children:[(0,a.jsx)(u.default,{size:16,className:"mr-1"})," 출연진 추가"]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:["장르 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:f.map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"genre-".concat(e.value),checked:n.genres.includes(e.value),onChange:()=>{c(s=>({...s,genres:s.genres.includes(e.value)?s.genres.filter(s=>s!==e.value):[...s.genres,e.value]}))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"genre-".concat(e.value),className:"ml-2 text-sm text-gray-700",children:e.label})]},e.value))}),ey.genres&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ey.genres})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Where to Watch"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"netflix",checked:eM.netflix,onChange:()=>eZ("netflix"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"netflix",className:"ml-2 text-sm text-gray-700",children:"Netflix"})]}),eM.netflix&&(0,a.jsx)("input",{type:"text",value:n.streamingLinks.netflix,onChange:e=>e0("netflix",e.target.value),placeholder:"https://www.netflix.com/title/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"apple",checked:eM.apple,onChange:()=>eZ("apple"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"apple",className:"ml-2 text-sm text-gray-700",children:"Apple TV+"})]}),eM.apple&&(0,a.jsx)("input",{type:"text",value:n.streamingLinks.apple,onChange:e=>e0("apple",e.target.value),placeholder:"https://tv.apple.com/show/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"disney",checked:eM.disney,onChange:()=>eZ("disney"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"disney",className:"ml-2 text-sm text-gray-700",children:"Disney+"})]}),eM.disney&&(0,a.jsx)("input",{type:"text",value:n.streamingLinks.disney,onChange:e=>e0("disney",e.target.value),placeholder:"https://www.disneyplus.com/series/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"썸네일 이미지"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"w-24 h-32 bg-gray-100 border border-gray-300 rounded flex items-center justify-center overflow-hidden",children:ej||n.coverImage?(0,a.jsx)("img",{src:ej||n.coverImage,alt:"썸네일 미리보기",className:"object-cover w-full h-full",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No Image"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files[0];if(s){if(s.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{eN(e.target.result),c({...n,coverImage:e.target.result}),eI("")},e.readAsDataURL(s)}else eI("이미지 파일만 업로드 가능합니다.")}},ref:eE,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("input",{type:"text",placeholder:"이미지 URL 입력",value:eS,onChange:e=>{let s=e.target.value;if(eC(s),ez(""),s)try{new URL(s),eN(s),c({...n,coverImage:s})}catch(e){ez("유효한 이미지 URL을 입력해주세요."),eN(null)}else eN(null)},className:"w-full px-2 py-1 border border-gray-300 rounded"}),eD&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eD}),e_&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:e_})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"배경 이미지"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"w-40 h-24 bg-gray-100 border border-gray-300 rounded flex items-center justify-center overflow-hidden",children:ew||n.bannerImage?(0,a.jsx)("img",{src:ew||n.bannerImage,alt:"배경 미리보기",className:"object-cover w-full h-full",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No Image"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files[0];if(s){if(s.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{ek(e.target.result),c({...n,bannerImage:e.target.result}),eF("")},e.readAsDataURL(s)}else eF("이미지 파일만 업로드 가능합니다.")}},ref:eq,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("input",{type:"text",placeholder:"이미지 URL 입력",value:eR,onChange:e=>{let s=e.target.value;if(eL(s),eP(""),s)try{new URL(s),ek(s),c({...n,bannerImage:s})}catch(e){eP("유효한 이미지 URL을 입력해주세요."),ek(null)}else ek(null)},className:"w-full px-2 py-1 border border-gray-300 rounded"}),eT&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eT}),eU&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eU})]})]})]})]}),"videos"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"비디오 정보"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"트레일러, 티저, 하이라이트 등 다양한 종류의 비디오를 추가할 수 있습니다."})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:(0,a.jsxs)("div",{className:"space-y-5",children:[n.videos&&n.videos.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.videos.map((e,s)=>{let t=eX(e.url);return(0,a.jsxs)("div",{className:"relative group border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all",children:[(0,a.jsx)("div",{className:"aspect-video bg-gray-100",children:t?(0,a.jsx)("img",{src:"https://img.youtube.com/vi/".concat(t,"/mqdefault.jpg"),alt:e.title,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)(h.default,{className:"w-12 h-12 text-gray-400"})})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsx)("button",{onClick:()=>{let e=[...n.videos];e.splice(s,1),c(s=>({...s,videos:e}))},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(x.default,{size:20})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"trailer"===e.type?"트레일러":"teaser"===e.type?"티저":"highlight"===e.type?"하이라이트":"interview"===e.type?"인터뷰":"기타"})]})]},s)})}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(h.default,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"추가된 비디오가 없습니다."})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비디오 제목"}),(0,a.jsx)("input",{type:"text",value:Y,onChange:e=>B(e.target.value),placeholder:"비디오 제목을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비디오 유형"}),(0,a.jsxs)("select",{value:V,onChange:e=>G(e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"trailer",children:"트레일러"}),(0,a.jsx)("option",{value:"teaser",children:"티저"}),(0,a.jsx)("option",{value:"highlight",children:"하이라이트"}),(0,a.jsx)("option",{value:"interview",children:"인터뷰"}),(0,a.jsx)("option",{value:"other",children:"기타"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"YouTube URL"}),(0,a.jsx)("input",{type:"text",value:X,onChange:e=>J(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{if(Y.trim()&&X.trim()){if(!/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(X)){w.error("유효한 YouTube URL을 입력해주세요.");return}c(e=>({...e,videos:[...e.videos||[],{title:Y.trim(),type:V,url:X.trim()}]})),B(""),J("")}else Y.trim()?X.trim()||w.error("YouTube URL을 입력해주세요."):w.error("비디오 제목을 입력해주세요.")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,a.jsx)(u.default,{className:"w-4 h-4 mr-1"}),"비디오 추가"]})})]})]})})]}),"reviews"===E&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"리뷰 정보"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"리뷰는 콘텐츠에 대한 사용자의 개인적인 의견을 나타내는 섹션입니다."})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:(0,a.jsxs)("div",{className:"space-y-5",children:[n.reviews&&n.reviews.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.reviews.map((e,s)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-300 hover:border-pink-200 group relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-pink-100 to-transparent rounded-tr-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2 relative",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:shadow-md transition-all duration-300",children:e.rating}),(0,a.jsxs)("div",{className:"ml-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-300",children:e.authorName}),(0,a.jsx)("div",{className:"flex mt-0.5",children:[1,2,3,4,5].map(s=>(0,a.jsx)(g.default,{className:"w-3 h-3 ".concat(s<=Math.floor(e.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-300")},s))})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=[...n.reviews];e.splice(s,1),c(s=>({...s,reviews:e}))},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(x.default,{size:20})})]}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 whitespace-pre-wrap mb-3",children:e.content}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags&&e.tags.length>0?e.tags.map((e,s)=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full group-hover:bg-pink-50 group-hover:text-pink-600 transition-colors duration-300",children:e},s)):(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 bg-pink-50 text-pink-600 rounded-full",children:"Review"})}),(0,a.jsx)("button",{onClick:()=>e2(s),className:"px-3 py-1 rounded-md text-sm ".concat(e.isFeatured?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.isFeatured?"대표 리뷰로 설정됨":"대표 리뷰로 설정"})]})]},s))}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(g.default,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"추가된 리뷰가 없습니다."})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-5",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"리뷰 제목"}),(0,a.jsx)("input",{type:"text",value:$,onChange:e=>Q(e.target.value),placeholder:"리뷰 제목을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"작성자"}),(0,a.jsx)("input",{type:"text",value:Z,onChange:e=>ee(e.target.value),placeholder:"작성자 이름을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평점 (1-10)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:es,onChange:e=>et(parseInt(e.target.value)),className:"flex-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 w-8 text-center",children:es})]}),(0,a.jsx)("div",{className:"flex mt-1",children:[...Array(10)].map((e,s)=>(0,a.jsx)("span",{className:"text-xl ".concat(s<es?"text-yellow-400":"text-gray-300"),children:"★"},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"리뷰 내용"}),(0,a.jsx)("textarea",{value:ea,onChange:e=>el(e.target.value),placeholder:"리뷰 내용을 입력하세요",rows:4,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"태그 (쉼표로 구분)"}),(0,a.jsx)("input",{type:"text",value:er,onChange:e=>ei(e.target.value),placeholder:"예: 연기, 스토리, OST",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{$.trim()&&Z.trim()&&ea.trim()?(c(e=>({...e,reviews:[...e.reviews||[],{title:$.trim(),authorName:Z.trim(),rating:es,content:ea.trim(),tags:er.split(",").map(e=>e.trim()).filter(Boolean),isFeatured:0===e.reviews.length,approved:!0}]})),Q(""),ee(""),et(5),el(""),ei("")):$.trim()?Z.trim()?ea.trim()||w.error("리뷰 내용을 입력해주세요."):w.error("작성자 이름을 입력해주세요."):w.error("리뷰 제목을 입력해주세요.")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,a.jsx)(u.default,{className:"w-4 h-4 mr-1"}),"리뷰 추가"]})})]})]})})]})]})]})})}}},function(e){e.O(0,[1664,5089,6841,6079,8660,2888,9774,179],function(){return e(e.s=76594)}),_N_E=e.O()}]);