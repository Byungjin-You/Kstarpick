(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{25775:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/content/edit/[id]",function(){return s(50948)}])},2575:function(e,t,s){"use strict";s.r(t);var a=s(85893),r=s(67294),l=s(41664),i=s.n(l),n=s(11163),d=s(33299),c=s(43765),o=s(38361),m=s(2553),x=s(63594),u=s(2287),h=s(89176),g=s(55264),p=s(70095),b=s(77362),y=s(94086),f=s(70088),v=s(70775);t.default=e=>{let{children:t}=e,s=(0,n.useRouter)(),{data:l,status:j}=(0,d.useSession)(),[N,w]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{("unauthenticated"===j||l&&"admin"!==l.user.role)&&s.push("/admin/login")},[l,j,s]),"loading"===j)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-t-[#ff3e8e] rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-xl font-medium",children:"Loading admin panel..."})]})})}):"unauthenticated"===j||l&&"admin"!==l.user.role?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md max-w-md",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[(0,a.jsx)(c.default,{size:48,className:"text-red-500"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Unauthorized Access"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin area."}),(0,a.jsx)(i(),{href:"/",className:"px-4 py-2 mt-4 text-white bg-[#ff3e8e] rounded-md hover:bg-[#e02e7c]",children:"Go to Homepage"})]})})}):(o.default,m.default,x.default,u.default,h.default,g.default,(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"w-64 min-h-screen bg-white shadow-md",children:[(0,a.jsx)("div",{className:"p-4 border-b",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"관리자 패널"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin",className:"flex items-center px-4 py-2 rounded-lg ".concat("/admin"===s.pathname?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(o.default,{className:"mr-3 h-5 w-5"}),"대시보드"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/content",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/content")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(p.default,{className:"mr-3 h-5 w-5"}),"콘텐츠 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/news",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/news")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(b.default,{className:"mr-3 h-5 w-5"}),"뉴스 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/drama",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/drama")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(y.default,{className:"mr-3 h-5 w-5"}),"드라마 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/music",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/music")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(u.default,{className:"mr-3 h-5 w-5"}),"음악 차트 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/celeb",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/celeb")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(f.default,{className:"mr-3 h-5 w-5"}),"셀럽 관리"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(i(),{href:"/admin/users",className:"flex items-center px-4 py-2 rounded-lg ".concat(s.pathname.startsWith("/admin/users")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,a.jsx)(h.default,{className:"mr-3 h-5 w-5"}),"사용자 관리"]})})]}),(0,a.jsx)("div",{className:"border-t mt-4 pt-4",children:(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),sessionStorage.removeItem("adminToken"),(0,d.signOut)({callbackUrl:"/"})},className:"flex items-center w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,a.jsx)(v.default,{className:"mr-3 h-5 w-5"}),"로그아웃"]})})]})]}),(0,a.jsx)("div",{className:"flex-1",children:t})]})}))}},43765:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},92761:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},78865:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},2553:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},94086:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]])},38361:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},70095:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]])},70775:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},2287:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},77362:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]])},45062:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},4270:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69819:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},55264:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},70088:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},89176:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},63594:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},9475:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});let a=(0,s(63759).default)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},50948:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return g},default:function(){return p}});var a=s(85893),r=s(67294),l=s(11163),i=s(2575),n=s(92761),d=s(69819),c=s(78865),o=s(9475),m=s(4270),x=s(45062),u=s(70088);if(s(25675),"undefined"!=typeof document){let e=document.createElement("style");e.textContent=Object.entries({"@keyframes progress":{"0%":{width:"0%"},"100%":{width:"100%"}},".animate-progress":{animation:"progress 3s ease-in-out infinite"},"@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.5}},".animate-pulse":{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},"@keyframes ping":{"75%, 100%":{transform:"scale(2)",opacity:0}},".animate-ping":{animation:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},"@keyframes sparkle":{"0%":{opacity:0,transform:"scale(0.8)"},"50%":{opacity:1,transform:"scale(1.2)"},"100%":{opacity:0,transform:"scale(0.8)"}},".animate-star":{animation:"sparkle 1.5s ease-in-out"}}).map(e=>{let[t,s]=e;return t.startsWith("@keyframes"),"".concat(t," ").concat(JSON.stringify(s))}).join("\n").replace(/"/g,"").replace(/,/g,";"),document.head.appendChild(e)}let h=e=>{if(!e)return null;let t=e.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=)|youtu\.be\/)([^#&?]*).*/);return t&&t[1]&&11===t[1].length?t[1]:null};var g=!0;function p(){var e,t,s,g,p,f,v;let j=(0,l.useRouter)(),{id:N}=j.query,[w,k]=(0,r.useState)({title:"",originalTitle:"",englishTitle:"",description:"",summary:"",status:"ongoing",country:"KOREA",releaseDate:"",runtime:"",ageRating:"",director:"",genres:[],category:"drama",coverImage:null,bannerImage:null,trailerUrl:"",cast:[],watchProviders:[],streamingLinks:{netflix:"",apple:"",disney:"",viki:"",wavve:""},whereToWatch:[],tags:[],rating:0,views:0,likesCount:0,dislikesCount:0,metaDescription:"",metaKeywords:"",videos:[],reviews:[],episodeList:[]}),[C,S]=(0,r.useState)(!0),[L,D]=(0,r.useState)(null),[R,T]=(0,r.useState)({visible:!1,message:"",type:""}),[z,U]=(0,r.useState)(!1),[M,A]=(0,r.useState)(!1),[I,F]=(0,r.useState)(!1),[E,q]=(0,r.useState)(!1),[P,H]=(0,r.useState)(""),[W,_]=(0,r.useState)(""),[K,O]=(0,r.useState)("basic"),[V,Y]=(0,r.useState)({visible:!1,message:"",type:""}),[B,J]=(0,r.useState)([]),[Z,X]=(0,r.useState)(!1),[G,Q]=(0,r.useState)([]),[$,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)(null),[ea,er]=(0,r.useState)(""),[el,ei]=(0,r.useState)(!1),[en,ed]=(0,r.useState)(null),[ec,eo]=(0,r.useState)(null),[em,ex]=(0,r.useState)(""),[eu,eh]=(0,r.useState)(!0),[eg,ep]=(0,r.useState)(""),[eb,ey]=(0,r.useState)("trailer"),[ef,ev]=(0,r.useState)(""),[ej,eN]=(0,r.useState)(""),[ew,ek]=(0,r.useState)(""),[eC,eS]=(0,r.useState)(5),[eL,eD]=(0,r.useState)(""),[eR,eT]=(0,r.useState)(""),[ez,eU]=(0,r.useState)(""),[eM,eA]=(0,r.useState)(""),[eI,eF]=(0,r.useState)(null),[eE,eq]=(0,r.useState)(""),[eP,eH]=(0,r.useState)(null),[eW,e_]=(0,r.useState)(""),[eK,eO]=(0,r.useState)({}),[eV,eY]=(0,r.useState)(null),[eB,eJ]=(0,r.useState)(null),[eZ,eX]=(0,r.useState)(""),[eG,eQ]=(0,r.useState)(""),[e$,e0]=(0,r.useState)(""),[e2,e1]=(0,r.useState)(""),[e5,e4]=(0,r.useState)(""),[e3,e7]=(0,r.useState)(""),e6=(0,r.useRef)(null),e8=(0,r.useRef)(null);(0,r.useRef)(null);let[e9,te]=(0,r.useState)([]),[tt,ts]=(0,r.useState)([]),[ta,tr]=(0,r.useState)({netflix:!1,apple:!1,disney:!1,viki:!1,wavve:!1}),[tl,ti]=(0,r.useState)({basic:!1,videos:!1,reviews:!1,episodes:!1}),tn=e=>{switch(e){case"basic":return w.title&&w.description&&w.coverImage;case"videos":return w.videos.length>0;case"reviews":return w.reviews.length>0;case"episodes":return w.episodeList&&w.episodeList.length>0;default:return!1}};(0,r.useEffect)(()=>{ti(e=>({...e,[K]:tn(K)}))},[K,w]),(0,r.useEffect)(()=>{var e;if((null===(e=w.watchProviders)||void 0===e?void 0:e.length)>0){let e=w.watchProviders.some(e=>"Netflix"===e.name),t=w.watchProviders.some(e=>"Disney+"===e.name);tr({netflix:e,disney:t,apple:w.watchProviders.some(e=>"Apple TV+"===e.name),viki:w.watchProviders.some(e=>"Viki"===e.name),wavve:w.watchProviders.some(e=>"Wavve"===e.name)})}},[w.watchProviders]),(0,r.useEffect)(()=>{N&&(async()=>{try{let e=localStorage.getItem("token")||localStorage.getItem("adminToken"),t=await fetch("/api/dramas/".concat(N),{headers:{Authorization:e?"Bearer ".concat(e):""}}),s=await t.json();if(!t.ok)throw Error(s.message||"콘텐츠를 불러오는 중 오류가 발생했습니다.");let a=s.data.releaseDate||"",r={...s.data,releaseDate:a,genres:s.data.genres||[],description:s.data.description||s.data.summary||"",summary:s.data.summary||s.data.description||"",englishTitle:s.data.englishTitle||(y(s.data.title)?s.data.title:y(s.data.originalTitle)?s.data.originalTitle:""),cast:b(s.data.cast),videos:s.data.videos||[],reviews:s.data.reviews||[],watchProviders:s.data.watchProviders||[],streamingLinks:s.data.streamingLinks||{netflix:"",apple:"",disney:"",viki:"",wavve:""},whereToWatch:s.data.whereToWatch||[],episodeList:s.data.episodeList||[]};k(r),t_()}catch(e){D(e.message),to(e.message,"error")}finally{S(!1)}})()},[N]);let td=e=>{let{name:t,value:s}=e.target;k(e=>({...e,[t]:s}))},tc=async e=>{e.preventDefault(),F(!0);try{let e=localStorage.getItem("token")||localStorage.getItem("adminToken"),t=await fetch("/api/dramas/".concat(N),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""},body:JSON.stringify(w)}),s=await t.json();if(!t.ok)throw Error(s.message||"콘텐츠 수정 중 오류가 발생했습니다.");to("콘텐츠가 성공적으로 수정되었습니다.","success"),setTimeout(()=>j.push("/admin/content"),1500)}catch(e){to(e.message,"error")}finally{F(!1)}},to=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";T({visible:!0,message:e,type:t}),setTimeout(()=>T({visible:!1,message:"",type:""}),3e3)},tm=e=>{let t=[...w.cast];t.splice(e,1),k(e=>({...e,cast:t}))},tx=e=>{if(tr(t=>({...t,[e]:!t[e]})),ta[e])k(t=>({...t,watchProviders:(t.watchProviders||[]).filter(t=>t.name.toLowerCase()!==("apple"===e?"apple tv+":e))}));else{var t,s,a,r,l;let i={};switch(e){case"netflix":i={name:"Netflix",logo:"https://upload.wikimedia.org/wikipedia/commons/7/7a/Logonetflix.png",type:"subscription",price:"13,500원/월",quality:["HD","4K","HDR"],url:(null===(t=w.streamingLinks)||void 0===t?void 0:t.netflix)||""};break;case"apple":i={name:"Apple TV+",logo:"https://upload.wikimedia.org/wikipedia/commons/3/39/Apple_TV.svg",type:"subscription",price:"8,900원/월",quality:["HD","4K"],url:(null===(s=w.streamingLinks)||void 0===s?void 0:s.apple)||""};break;case"disney":i={name:"Disney+",logo:"https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg",type:"subscription",price:"9,900원/월",quality:["HD","4K"],url:(null===(a=w.streamingLinks)||void 0===a?void 0:a.disney)||""};break;case"viki":i={name:"Viki",logo:"https://upload.wikimedia.org/wikipedia/en/5/55/Viki_Logo.png",type:"subscription",price:"5,900원/월",quality:["HD"],url:(null===(r=w.streamingLinks)||void 0===r?void 0:r.viki)||""};break;case"wavve":i={name:"Wavve",logo:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Wavve_logo.svg",type:"subscription",price:"10,900원/월",quality:["HD","4K"],url:(null===(l=w.streamingLinks)||void 0===l?void 0:l.wavve)||""}}k(e=>({...e,watchProviders:[...e.watchProviders||[],i]}))}},tu=(e,t)=>{k(s=>({...s,streamingLinks:{...s.streamingLinks||{},[e]:t},watchProviders:(s.watchProviders||[]).map(s=>s.name.toLowerCase().includes(e.toLowerCase())?{...s,url:t}:s)}))},th=e=>{let t=w.reviews.map(e=>({...e,featured:!1}));t[e]={...t[e],featured:!0},k(e=>({...e,reviews:t})),to("대표 리뷰가 설정되었습니다.","success")},[tg,tp]=(0,r.useState)(""),[tb,ty]=(0,r.useState)(""),[tf,tv]=(0,r.useState)(""),[tj,tN]=(0,r.useState)(""),[tw,tk]=(0,r.useState)(""),[tC,tS]=(0,r.useState)(""),[tL,tD]=(0,r.useState)(""),[tR,tT]=(0,r.useState)(""),[tz,tU]=(0,r.useState)(""),[tM,tA]=(0,r.useState)(!1),tI=e=>{let t=w.episodeList[e];tp(t.number.toString()),ty(t.title||""),tv(t.airDate?new Date(t.airDate).toISOString().split("T")[0]:""),tN(t.summary||""),tk(t.runtime?t.runtime.toString():""),tS(t.rating?t.rating.toString():""),tD(t.viewerRating?t.viewerRating.toString():""),tT(t.image||""),tU(t.mdlUrl||""),k(t=>({...t,_editingEpisodeIndex:e})),tA(!0)},tF=e=>{k(t=>({...t,episodeList:t.episodeList.filter((t,s)=>s!==e)})),to("에피소드가 삭제되었습니다.","info")},tE=()=>{tp(""),ty(""),tv(""),tN(""),tk(""),tS(""),tD(""),tT(""),tU(""),k(e=>{let{_editingEpisodeIndex:t,...s}=e;return s})},tq=async()=>{if(!w.mdlUrl){to("MyDramaList URL이 필요합니다.","error");return}try{F(!0),to("에피소드 정보를 크롤링 중입니다...","info");let e="".concat(w.mdlUrl,"/episodes"),t=await fetch("/api/crawler/stealth-crawler",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,mode:"episodes"})}),s=await t.json();if(!t.ok)throw Error(s.message||"에피소드 크롤링 중 오류가 발생했습니다.");s.data&&s.data.episodes&&s.data.episodes.length>0?(k(e=>({...e,episodeList:s.data.episodes})),to("".concat(s.data.episodes.length,"개의 에피소드를 가져왔습니다."),"success")):to("에피소드 정보를 찾을 수 없습니다.","warning")}catch(e){to(e.message,"error")}finally{F(!1)}},tP=async()=>{if(!w.mdlUrl){to("MyDramaList URL이 필요합니다.","error");return}try{F(!0),to("스트리밍 서비스 정보를 크롤링 중입니다...","info");let e=w.mdlUrl,t=await fetch("/api/crawler/stealth-crawler",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,mode:"streaming"})}),s=await t.json();if(!t.ok)throw Error(s.message||"스트리밍 서비스 크롤링 중 오류가 발생했습니다.");if(s.data&&s.data.streamingServices&&s.data.streamingServices.length>0){let e=s.data.streamingServices,t={...w.streamingLinks},a={...ta},r=[],l=s.data.whereToWatch||[];e.forEach(e=>{e.providerKey&&(a[e.providerKey]=!0,t[e.providerKey]=e.url,r.push({name:e.name,logo:e.logo,type:e.type,url:e.url,price:"netflix"===e.providerKey?"13,500원/월":"apple"===e.providerKey?"8,900원/월":"disney"===e.providerKey?"9,900원/월":"viki"===e.providerKey?"5,900원/월":"wavve"===e.providerKey?"10,900원/월":"구독",quality:"netflix"===e.providerKey?["HD","4K","HDR"]:"apple"===e.providerKey?["HD","4K"]:"disney"===e.providerKey?["HD","4K"]:"viki"===e.providerKey?["HD"]:"wavve"===e.providerKey?["HD","4K"]:["HD"]}))}),k(e=>({...e,watchProviders:r,streamingLinks:t,whereToWatch:l})),tr(a),to("".concat(e.length,"개의 스트리밍 서비스 정보를 가져왔습니다."),"success")}else to("스트리밍 서비스 정보를 찾을 수 없습니다.","warning")}catch(e){to(e.message,"error")}finally{F(!1)}},tH=async()=>{if(!ea){to("리뷰 URL을 입력해주세요.","error");return}let e=ea;if(!e.includes("mydramalist.com")){to("올바른 MyDramalist URL을 입력해주세요.","error");return}e.endsWith("/reviews")||(e.endsWith("/")&&(e=e.slice(0,-1)),er(e="".concat(e,"/reviews")));try{ei(!0),eo(null),ed(null),ex("리뷰 크롤링 준비 중..."),to("리뷰 크롤링을 시작합니다...","info");let s=await fetch(eu?"/api/crawler/reviews-stealth-crawler":"/api/crawler/reviews-crawler",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e,dramaId:N})});ex("서버에서 응답 처리 중...");let a=await s.json();if(a.success){var t;let e=(null===(t=a.data.reviews)||void 0===t?void 0:t.length)||0;to("".concat(e,"개의 리뷰를 성공적으로 가져왔습니다."),"success"),ed(a.data),ex("".concat(e,"개 리뷰 수집 완료")),tW()}else eo("크롤링 실패: ".concat(a.message)),to("크롤링 실패: ".concat(a.message),"error"),ex("크롤링 실패")}catch(e){eo("오류 발생: ".concat(e.message)),to("오류 발생: ".concat(e.message),"error"),ex("")}finally{ei(!1)}},tW=async()=>{try{ex("드라마 정보 업데이트 중...");let e=localStorage.getItem("token")||localStorage.getItem("adminToken"),t=await fetch("/api/dramas/".concat(N),{headers:{Authorization:e?"Bearer ".concat(e):""}}),s=await t.json();t.ok?(k(e=>({...e,reviewCount:s.data.reviewCount||0,reviewRating:s.data.reviewRating||0,ratingDistribution:s.data.ratingDistribution||[]})),ex("드라마 정보 업데이트 완료"),t_()):ex("드라마 정보 업데이트 실패")}catch(e){ex("드라마 정보 업데이트 실패")}},t_=async()=>{if(N)try{ee(!0),es(null);let e=await fetch("/api/reviews/by-drama/".concat(N)),t=await e.json();e.ok&&t.success?Q(t.data||[]):es(t.message||"리뷰를 불러오는데 실패했습니다.")}catch(e){es(e.message||"리뷰를 불러오는 중 오류가 발생했습니다.")}finally{ee(!1)}};return C?(0,a.jsx)(i.default,{children:(0,a.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-200px)]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):L?(0,a.jsx)(i.default,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:L}),(0,a.jsxs)("button",{onClick:()=>j.back(),className:"flex items-center text-blue-600 hover:text-blue-800",children:[(0,a.jsx)(n.default,{size:20,className:"mr-1"}),"뒤로 가기"]})]})}):(0,a.jsxs)(i.default,{children:[(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("button",{onClick:()=>j.back(),className:"mr-4 text-gray-600 hover:text-gray-800",children:(0,a.jsx)(n.default,{size:24})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"콘텐츠 수정"})]}),(0,a.jsxs)("button",{onClick:tc,disabled:I,className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md flex items-center ".concat(I?"opacity-70 cursor-not-allowed":""),children:[(0,a.jsx)(d.default,{size:18,className:"mr-1"}),I?"저장 중...":"저장"]})]}),(0,a.jsx)("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(tl.basic?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(tl.basic?"bg-green-100":"bg-gray-100"),children:tl.basic?(0,a.jsx)(c.default,{size:20}):(0,a.jsx)("span",{children:"1"})}),(0,a.jsx)("span",{className:"ml-2",children:"기본 정보"})]}),(0,a.jsx)("div",{className:"h-1 w-8 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center ".concat(tl.videos?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(tl.videos?"bg-green-100":"bg-gray-100"),children:tl.videos?(0,a.jsx)(c.default,{size:20}):(0,a.jsx)("span",{children:"2"})}),(0,a.jsx)("span",{className:"ml-2",children:"비디오"})]}),(0,a.jsx)("div",{className:"h-1 w-8 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center ".concat(tl.reviews?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(tl.reviews?"bg-green-100":"bg-gray-100"),children:tl.reviews?(0,a.jsx)(c.default,{size:20}):(0,a.jsx)("span",{children:"3"})}),(0,a.jsx)("span",{className:"ml-2",children:"리뷰"})]}),(0,a.jsx)("div",{className:"h-1 w-8 bg-gray-200"}),(0,a.jsxs)("div",{className:"flex items-center ".concat(tl.episodes?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(tl.episodes?"bg-green-100":"bg-gray-100"),children:tl.episodes?(0,a.jsx)(c.default,{size:20}):(0,a.jsx)("span",{children:"4"})}),(0,a.jsx)("span",{className:"ml-2",children:"에피소드"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[Object.values(tl).filter(Boolean).length,"/4 단계 완료"]})]})}),(0,a.jsx)("div",{className:"mb-6 border-b border-gray-200 sticky top-0 bg-gray-50 z-10 shadow-sm",children:(0,a.jsxs)("nav",{className:"flex flex-nowrap overflow-x-auto px-2 py-1 hide-scrollbar",children:[(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("basic"===K?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>O("basic"),children:[(0,a.jsx)("span",{className:"mr-2",children:"기본 정보"}),tl.basic&&(0,a.jsx)(c.default,{size:16,className:"text-green-500"})]}),(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("videos"===K?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>O("videos"),children:[(0,a.jsx)("span",{className:"mr-2",children:"비디오"}),tl.videos&&(0,a.jsx)(c.default,{size:16,className:"text-green-500"})]}),(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("reviews"===K?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>O("reviews"),children:[(0,a.jsx)("span",{className:"mr-2",children:"리뷰"}),tl.reviews&&(0,a.jsx)(c.default,{size:16,className:"text-green-500"})]}),(0,a.jsxs)("button",{className:"py-3 px-4 font-medium text-sm whitespace-nowrap flex items-center ".concat("episodes"===K?"bg-white text-blue-600 border-b-2 border-blue-500 rounded-t-lg shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg"),onClick:()=>O("episodes"),children:[(0,a.jsx)("span",{className:"mr-2",children:"에피소드"}),tl.episodes&&(0,a.jsx)(c.default,{size:16,className:"text-green-500"})]})]})}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:["basic"===K&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:["카테고리 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{id:"category",name:"category",value:w.category,onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.category?"border-red-500":"border-gray-300"),required:!0,children:[(0,a.jsx)("option",{value:"",children:"카테고리를 선택하세요"}),(0,a.jsx)("option",{value:"drama",children:"드라마"}),(0,a.jsx)("option",{value:"movie",children:"영화"}),(0,a.jsx)("option",{value:"variety",children:"예능"}),(0,a.jsx)("option",{value:"documentary",children:"다큐멘터리"}),(0,a.jsx)("option",{value:"animation",children:"애니메이션"}),(0,a.jsx)("option",{value:"web_series",children:"웹 시리즈"}),(0,a.jsx)("option",{value:"other",children:"기타"})]}),eK.category&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.category})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:["제목 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"title",name:"title",value:w.title,onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.title?"border-red-500":"border-gray-300"),placeholder:"제목을 입력하세요",required:!0}),eK.title&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.title})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"originalTitle",children:"원제"}),(0,a.jsx)("input",{type:"text",id:"originalTitle",name:"originalTitle",value:w.originalTitle,onChange:td,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"원제를 입력하세요"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"englishTitle",children:"영어 제목 (영상 자동 검색에 사용)"}),(0,a.jsx)("input",{type:"text",id:"englishTitle",name:"englishTitle",value:w.englishTitle,onChange:td,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"영어 제목을 입력하세요 (예: Parasite)"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:["줄거리 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{id:"description",name:"description",value:w.description||w.summary||"",onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.description?"border-red-500":"border-gray-300"),placeholder:"줄거리를 입력하세요",rows:4,required:!0}),eK.description&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.description})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"releaseDate",children:["방영일 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"releaseDate",name:"releaseDate",value:w.releaseDate,onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.releaseDate?"border-red-500":"border-gray-300"),placeholder:"예: 2023-05-15 또는 May 15, 2023",required:!0}),eK.releaseDate&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.releaseDate}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"원하는 형식으로 방영일을 입력하세요. (예: YYYY-MM-DD, Month DD, YYYY 등)"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"runtime",children:["런타임 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"runtime",name:"runtime",value:w.runtime,onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.runtime?"border-red-500":"border-gray-300"),placeholder:"예: 1시간 30분",required:!0}),eK.runtime&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.runtime})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"country",children:["국가 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"country",name:"country",value:w.country,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"ageRating",children:["연령 등급 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"ageRating",name:"ageRating",value:w.ageRating,onChange:td,className:"w-full px-3 py-2 border rounded-md ".concat(eK.ageRating?"border-red-500":"border-gray-300"),placeholder:"예: 전체 관람가, 12세 이상, 15세 이상, 18세 이상",required:!0}),eK.ageRating&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.ageRating}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"크롤링된 등급 정보를 그대로 입력하거나 수정할 수 있습니다."})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"director",children:"감독"}),(0,a.jsx)("input",{type:"text",id:"director",name:"director",value:w.director,onChange:td,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"감독을 입력하세요"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"출연진"}),w.cast&&w.cast.length>0&&(0,a.jsx)("div",{className:"space-y-2 mb-2",children:w.cast.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 bg-gray-50 p-2 rounded",children:[e.image?(0,a.jsx)("img",{src:e.image,alt:e.name||"cast-".concat(t),className:"w-12 h-12 object-cover rounded-full border border-gray-300 bg-white",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-profile.png"}}):(0,a.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-full border border-gray-200 bg-gray-100 text-gray-400 text-xs",children:"No Image"}),(0,a.jsx)("input",{type:"text",placeholder:"이름",value:e.name||"",onChange:e=>{let s=[...w.cast];s[t]={...s[t],name:e.target.value},k(e=>({...e,cast:s}))},className:"w-32 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("input",{type:"text",placeholder:"역할 (예: 주연, 조연, 특별출연 등)",value:e.role||"",onChange:e=>{let s=[...w.cast];s[t]={...s[t],role:e.target.value},k(e=>({...e,cast:s}))},className:"w-40 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("input",{type:"text",placeholder:"프로필 이미지 URL",value:e.image||"",onChange:e=>{let s=[...w.cast];s[t]={...s[t],image:e.target.value},k(e=>({...e,cast:s}))},className:"w-64 px-2 py-1 border border-gray-300 rounded"}),(0,a.jsx)("button",{type:"button",className:"text-red-500 hover:text-red-700 ml-2",onClick:()=>tm(t),children:(0,a.jsx)(o.default,{size:18})})]},t))}),(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm",onClick:()=>{k(e=>({...e,cast:[...e.cast||[],{name:"",role:"",image:""}]}))},children:[(0,a.jsx)(m.default,{size:16,className:"mr-1"})," 출연진 추가"]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:["장르 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"genresText",name:"genresText",value:Array.isArray(w.genres)?w.genres.join(", "):w.genres,onChange:e=>{let t=e.target.value,s=t.split(",").map(e=>e.trim()).filter(e=>e);k(e=>({...e,genres:s,genresText:t}))},className:"w-full px-3 py-2 border rounded-md ".concat(eK.genres?"border-red-500":"border-gray-300"),placeholder:"예: 로맨스, 코미디, 드라마 (쉼표로 구분)",required:!0}),eK.genres&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:eK.genres}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"크롤링된 장르 정보를 쉼표(,)로 구분하여 입력하세요."})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"시청 플랫폼"}),(0,a.jsxs)("div",{className:"bg-white border border-gray-300 rounded-md p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"font-medium",children:"Where to Watch"}),(0,a.jsx)("button",{type:"button",onClick:tP,disabled:I||!w.mdlUrl,className:"text-sm bg-blue-500 text-white py-1 px-3 rounded-md flex items-center ".concat(I||!w.mdlUrl?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"),children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"크롤링 중..."]}):"MyDramalist에서 가져오기"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:w.mdlUrl?(0,a.jsx)(a.Fragment,{children:"MyDramalist에서 제공자 정보를 자동으로 가져올 수 있습니다."}):(0,a.jsx)(a.Fragment,{children:"MyDramalist URL을 설정하면 제공자 정보를 자동으로 가져올 수 있습니다."})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"netflix",checked:ta.netflix,onChange:()=>tx("netflix"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"netflix",className:"ml-2 text-sm text-gray-700",children:"Netflix"})]}),ta.netflix&&(0,a.jsx)("input",{type:"text",value:(null===(e=w.streamingLinks)||void 0===e?void 0:e.netflix)||"",onChange:e=>tu("netflix",e.target.value),placeholder:"https://www.netflix.com/title/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"apple",checked:ta.apple,onChange:()=>tx("apple"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"apple",className:"ml-2 text-sm text-gray-700",children:"Apple TV+"})]}),ta.apple&&(0,a.jsx)("input",{type:"text",value:(null===(t=w.streamingLinks)||void 0===t?void 0:t.apple)||"",onChange:e=>tu("apple",e.target.value),placeholder:"https://tv.apple.com/show/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"disney",checked:ta.disney,onChange:()=>tx("disney"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"disney",className:"ml-2 text-sm text-gray-700",children:"Disney+"})]}),ta.disney&&(0,a.jsx)("input",{type:"text",value:(null===(s=w.streamingLinks)||void 0===s?void 0:s.disney)||"",onChange:e=>tu("disney",e.target.value),placeholder:"https://www.disneyplus.com/series/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"viki",checked:ta.viki,onChange:()=>tx("viki"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"viki",className:"ml-2 text-sm text-gray-700",children:"Viki"})]}),ta.viki&&(0,a.jsx)("input",{type:"text",value:(null===(g=w.streamingLinks)||void 0===g?void 0:g.viki)||"",onChange:e=>tu("viki",e.target.value),placeholder:"https://www.viki.com/tv/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"wavve",checked:ta.wavve,onChange:()=>tx("wavve"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"wavve",className:"ml-2 text-sm text-gray-700",children:"Wavve"})]}),ta.wavve&&(0,a.jsx)("input",{type:"text",value:(null===(p=w.streamingLinks)||void 0===p?void 0:p.wavve)||"",onChange:e=>tu("wavve",e.target.value),placeholder:"https://www.wavve.com/player/...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"썸네일 이미지"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"w-24 h-32 bg-gray-100 border border-gray-300 rounded flex items-center justify-center overflow-hidden",children:eV||w.coverImage?(0,a.jsx)("img",{src:eV||w.coverImage,alt:"썸네일 미리보기",className:"object-cover w-full h-full",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No Image"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];if(t&&t.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{eY(e.target.result),k(t=>({...t,coverImage:e.target.result}))},e.readAsDataURL(t)}},ref:e6,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("input",{type:"text",placeholder:"이미지 URL 입력",value:eZ,onChange:e=>{let t=e.target.value;if(eX(t),e4(""),t)try{new URL(t),eY(t),k(e=>({...e,coverImage:t}))}catch(e){e4("유효한 이미지 URL을 입력해주세요."),eY(null)}else eY(null)},className:"w-full px-2 py-1 border border-gray-300 rounded"}),e$&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:e$}),e5&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:e5})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"배경 이미지"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"w-40 h-24 bg-gray-100 border border-gray-300 rounded flex items-center justify-center overflow-hidden",children:eB||w.bannerImage?(0,a.jsx)("img",{src:eB||w.bannerImage,alt:"배경 미리보기",className:"object-cover w-full h-full",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.svg"}}):(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"No Image"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];if(t&&t.type.startsWith("image/")){let e=new FileReader;e.onload=e=>{eJ(e.target.result),k(t=>({...t,bannerImage:e.target.result}))},e.readAsDataURL(t)}},ref:e8,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,a.jsx)("input",{type:"text",placeholder:"이미지 URL 입력",value:eG,onChange:e=>{let t=e.target.value;if(eQ(t),e7(""),t)try{new URL(t),eJ(t),k(e=>({...e,bannerImage:t}))}catch(e){e7("유효한 이미지 URL을 입력해주세요."),eJ(null)}else eJ(null)},className:"w-full px-2 py-1 border border-gray-300 rounded"}),e2&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:e2}),e3&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:e3})]})]})]})]}),"videos"===K&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"비디오 정보"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"트레일러, 티저, 하이라이트 등 다양한 종류의 비디오를 추가할 수 있습니다."})]}),(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-blue-700",children:"영상 자동 검색"}),(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsxs)("button",{type:"button",onClick:async()=>{try{let e="";if(!(e=w.originalTitle?"".concat(w.originalTitle," 영화"):w.englishTitle?w.englishTitle:"".concat(w.title," 영화"))){to("검색할 제목이 필요합니다.","error");return}to('"'.concat(e,'" 관련 영상 검색 중...'),"info");let t=await fetch("/api/youtube/search-videos?title=".concat(encodeURIComponent(e),"&maxResults=5")),s=await t.json();if(!t.ok)throw Error(s.message||"영상 검색 중 오류가 발생했습니다.");if(s.success&&s.data.length>0){let e=s.data.map(e=>({title:e.title,type:e.title.toLowerCase().includes("trailer")?"trailer":e.title.toLowerCase().includes("teaser")?"teaser":"other",url:e.url,viewCount:e.viewCount,publishedAt:e.publishedAt}));k(t=>({...t,videos:[...Array.isArray(t.videos)?t.videos:[],...e]})),to("".concat(e.length,"개의 영상을 성공적으로 가져왔습니다. 저장 버튼을 눌러 변경사항을 저장하세요."),"success")}else to("검색 결과가 없습니다.","warning")}catch(e){to("오류 발생: ".concat(e.message),"error")}},className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"영상 자동 검색"]})})]}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mb-2",children:"원제(한글) + '영화' 키워드로 YouTube에서 조회수가 높은 상위 5개 영상을 검색하여 추가합니다."}),(0,a.jsxs)("div",{className:"bg-yellow-50 p-2 rounded text-sm text-yellow-700",children:[(0,a.jsx)("strong",{children:"주의:"})," 영상을 추가한 후 반드시 하단의 ",(0,a.jsx)("strong",{children:"저장"})," 버튼을 클릭하여 변경사항을 저장해야 합니다."]})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:(0,a.jsxs)("div",{className:"space-y-5",children:[w.videos&&w.videos.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.videos.map((e,t)=>{let s=h(e.url);return(0,a.jsxs)("div",{className:"relative group border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"aspect-video bg-gray-100",children:[s?(0,a.jsx)("img",{src:"https://img.youtube.com/vi/".concat(s,"/mqdefault.jpg"),alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/placeholder-tvfilm.jpg"}}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,a.jsx)(x.default,{className:"w-12 h-12 text-gray-400"})}),e.viewCount&&(0,a.jsxs)("div",{className:"absolute bottom-0 right-0 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded-tl-md",children:["조회수: ",e.viewCount.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,a.jsx)("button",{onClick:()=>{let e=[...w.videos];e.splice(t,1),k(t=>({...t,videos:e}))},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(o.default,{size:20})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"trailer"===e.type?"트레일러":"teaser"===e.type?"티저":"highlight"===e.type?"하이라이트":"interview"===e.type?"인터뷰":"기타"}),e.publishedAt&&(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.publishedAt).toLocaleDateString()})]})]},t)})}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(x.default,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"추가된 비디오가 없습니다."})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비디오 제목"}),(0,a.jsx)("input",{type:"text",value:eg,onChange:e=>ep(e.target.value),placeholder:"비디오 제목을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"비디오 유형"}),(0,a.jsxs)("select",{value:eb,onChange:e=>ey(e.target.value),className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"trailer",children:"트레일러"}),(0,a.jsx)("option",{value:"teaser",children:"티저"}),(0,a.jsx)("option",{value:"highlight",children:"하이라이트"}),(0,a.jsx)("option",{value:"interview",children:"인터뷰"}),(0,a.jsx)("option",{value:"other",children:"기타"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"YouTube URL"}),(0,a.jsx)("input",{type:"text",value:ef,onChange:e=>ev(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsxs)("button",{onClick:()=>{if(eg.trim()&&ef.trim()){if(!h(ef)){to("유효한 YouTube URL을 입력해주세요.","error");return}k(e=>({...e,videos:[...Array.isArray(e.videos)?e.videos:[],{title:eg.trim(),type:eb,url:ef.trim()}]})),ep(""),ev("")}else eg.trim()?ef.trim()||to("YouTube URL을 입력해주세요.","error"):to("비디오 제목을 입력해주세요.","error")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,a.jsx)(m.default,{className:"w-4 h-4 mr-1"}),"비디오 추가"]})})]})]})})]}),"reviews"===K&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"리뷰 정보"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"리뷰는 콘텐츠에 대한 사용자의 개인적인 의견을 나타내는 섹션입니다."})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:[(0,a.jsx)("h3",{className:"text-md font-semibold text-gray-900 mb-3",children:"리뷰 크롤링"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,a.jsx)("input",{type:"text",className:"form-input flex-1 rounded-md border-gray-300",placeholder:"MyDramalist 리뷰 URL (예: https://mydramalist.com/123-drama-title/reviews)",value:ea,onChange:e=>er(e.target.value)}),(0,a.jsx)("button",{onClick:tH,disabled:el||!ea,className:"px-4 py-2 rounded-md flex items-center justify-center ".concat(el||!ea?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-white rounded-full"}),"크롤링 중..."]}):(0,a.jsx)(a.Fragment,{children:"크롤링 시작"})})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:eu,onChange:()=>eh(!eu)}),(0,a.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}),(0,a.jsxs)("span",{className:"ms-3 text-sm font-medium text-gray-900",children:["스텔스 모드 사용 ",eu?"(활성화)":"(비활성화)"]})]}),(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:eu?"(Cloudflare 보호 우회)":""})]}),em&&(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-600",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-t-transparent border-blue-500 rounded-full"}),(0,a.jsx)("span",{children:em})]})}),ec&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-red-600 p-2 bg-red-50 rounded",children:[(0,a.jsx)("p",{className:"font-medium",children:"오류 발생:"}),(0,a.jsx)("p",{children:ec})]}),en&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-green-600 p-2 bg-green-50 rounded",children:[(0,a.jsx)("p",{className:"font-medium",children:"크롤링 완료:"}),(0,a.jsxs)("p",{children:["총 ",(null===(f=en.reviews)||void 0===f?void 0:f.length)||0,"개의 리뷰를 가져왔습니다."]}),(0,a.jsxs)("p",{children:["평균 평점: ",(null===(v=en.averageRating)||void 0===v?void 0:v.toFixed(1))||"N/A"]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{onClick:t_,className:"text-blue-600 hover:text-blue-800 text-sm flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"리뷰 다시 불러오기"]})})]})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"크롤링된 리뷰 목록"}),(0,a.jsxs)("span",{className:"text-sm bg-blue-100 text-blue-800 py-1 px-3 rounded-full",children:[G.length,"개 리뷰"]})]}),$?(0,a.jsxs)("div",{className:"py-10 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"리뷰를 불러오는 중..."})]}):et?(0,a.jsxs)("div",{className:"p-4 bg-red-50 text-red-700 rounded-md",children:[(0,a.jsx)("p",{className:"font-medium",children:"리뷰를 불러오는데 실패했습니다:"}),(0,a.jsx)("p",{children:et})]}):0===G.length?(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(u.default,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"저장된 리뷰가 없습니다."}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"위 크롤링 도구를 사용해 리뷰를 가져오세요."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-300 hover:border-pink-200 group relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-pink-100 to-transparent rounded-tr-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2 relative",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:shadow-md transition-all duration-300",children:e.rating||"N/A"}),(0,a.jsxs)("div",{className:"ml-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-300",children:e.username||"익명"}),(0,a.jsx)("div",{className:"flex mt-0.5",children:[1,2,3,4,5].map(t=>(0,a.jsx)(u.default,{className:"w-3 h-3 ".concat(t<=Math.floor((e.rating||0)/2)?"text-yellow-400 fill-yellow-400":"text-gray-300")},t))})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 mr-2",children:e.reviewDate||new Date(e.createdAt).toLocaleDateString()}),(0,a.jsx)("button",{onClick:()=>{confirm('"'.concat(e.title,'" 리뷰를 삭제하시겠습니까?'))&&fetch("/api/reviews/".concat(e.reviewId),{method:"DELETE"}).then(e=>e.json()).then(e=>{e.success?(to("리뷰가 삭제되었습니다.","success"),t_(),tW()):to("삭제 실패: ".concat(e.message),"error")}).catch(e=>{to("오류 발생: ".concat(e.message),"error")})},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(o.default,{size:20})})]})]}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-600 whitespace-pre-wrap mb-3 max-h-28 overflow-y-auto",children:e.reviewText})]},t))})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-5 bg-white mb-6",children:(0,a.jsxs)("div",{className:"space-y-5",children:[w.reviews&&w.reviews.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.reviews.map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-300 hover:border-pink-200 group relative",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-pink-100 to-transparent rounded-tr-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2 relative",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center text-white font-bold text-sm shadow-sm group-hover:shadow-md transition-all duration-300",children:e.rating}),(0,a.jsxs)("div",{className:"ml-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-800 group-hover:text-pink-600 transition-colors duration-300",children:e.authorName}),(0,a.jsx)("div",{className:"flex mt-0.5",children:[1,2,3,4,5].map(t=>(0,a.jsx)(u.default,{className:"w-3 h-3 ".concat(t<=Math.floor(e.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-300")},t))})]})]}),(0,a.jsx)("button",{onClick:()=>{let e=[...w.reviews];e.splice(t,1),k(t=>({...t,reviews:e}))},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,a.jsx)(o.default,{size:20})})]}),(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 whitespace-pre-wrap mb-3",children:e.content}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags&&e.tags.length>0?e.tags.map((e,t)=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full group-hover:bg-pink-50 group-hover:text-pink-600 transition-colors duration-300",children:e},t)):(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 bg-pink-50 text-pink-600 rounded-full",children:"Review"})}),(0,a.jsx)("button",{onClick:()=>th(t),className:"px-3 py-1 rounded-md text-sm ".concat(e.featured?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:e.featured?"대표 리뷰로 설정됨":"대표 리뷰로 설정"})]})]},t))}):(0,a.jsxs)("div",{className:"text-center py-10",children:[(0,a.jsx)(u.default,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"추가된 리뷰가 없습니다."})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-5",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"리뷰 제목"}),(0,a.jsx)("input",{type:"text",value:ej,onChange:e=>eN(e.target.value),placeholder:"리뷰 제목을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"작성자"}),(0,a.jsx)("input",{type:"text",value:ew,onChange:e=>ek(e.target.value),placeholder:"작성자 이름을 입력하세요",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평점 (1-10)"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"10",value:eC,onChange:e=>eS(parseInt(e.target.value)),className:"flex-1"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 w-8 text-center",children:eC})]}),(0,a.jsx)("div",{className:"flex mt-1",children:[...Array(10)].map((e,t)=>(0,a.jsx)("span",{className:"text-xl ".concat(t<eC?"text-yellow-400":"text-gray-300"),children:"★"},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"리뷰 내용"}),(0,a.jsx)("textarea",{value:eL,onChange:e=>eD(e.target.value),placeholder:"리뷰 내용을 입력하세요",rows:4,className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"태그 (쉼표로 구분)"}),(0,a.jsx)("input",{type:"text",value:eR,onChange:e=>eT(e.target.value),placeholder:"예: 연기, 스토리, OST",className:"w-full rounded-md border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsx)("div",{className:"mt-4 flex justify-end",children:(0,a.jsxs)("button",{type:"button",onClick:()=>{ej.trim()&&ew.trim()&&eL.trim()?(k(e=>({...e,reviews:[...e.reviews||[],{title:ej.trim(),authorName:ew.trim(),rating:eC,content:eL.trim(),tags:eR.split(",").map(e=>e.trim()).filter(Boolean),featured:0===e.reviews.length,approved:!0}]})),eN(""),ek(""),eS(5),eD(""),eT("")):ej.trim()?ew.trim()?eL.trim()||to("리뷰 내용을 입력해주세요.","error"):to("작성자 이름을 입력해주세요.","error"):to("리뷰 제목을 입력해주세요.","error")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center",children:[(0,a.jsx)(m.default,{className:"w-4 h-4 mr-1"}),"리뷰 추가"]})})]})]})})]}),"episodes"===K&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"에피소드 관리"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>tq(),disabled:I,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,a.jsx)(x.default,{size:18,className:"mr-1"}),"에피소드 크롤링"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{tE(),tA(!0)},className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[(0,a.jsx)(m.default,{size:18,className:"mr-1"}),"에피소드 추가"]})]})]}),tM&&(0,a.jsxs)("div",{className:"bg-gray-50 p-4 mb-4 border rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-medium mb-3",children:void 0!==w._editingEpisodeIndex?"에피소드 수정":"새 에피소드 추가"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"에피소드 번호*"}),(0,a.jsx)("input",{type:"number",value:tg,onChange:e=>tp(e.target.value),className:"w-full px-3 py-2 border rounded-lg",min:"1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"제목"}),(0,a.jsx)("input",{type:"text",value:tb,onChange:e=>ty(e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"에피소드 제목"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"방영일"}),(0,a.jsx)("input",{type:"date",value:tf,onChange:e=>tv(e.target.value),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"런타임 (분)"}),(0,a.jsx)("input",{type:"number",value:tw,onChange:e=>tk(e.target.value),className:"w-full px-3 py-2 border rounded-lg",min:"1",placeholder:"60"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평점 (0-10)"}),(0,a.jsx)("input",{type:"number",value:tC,onChange:e=>tS(e.target.value),className:"w-full px-3 py-2 border rounded-lg",min:"0",max:"10",step:"0.1",placeholder:"0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"시청률 (%)"}),(0,a.jsx)("input",{type:"number",value:tL,onChange:e=>tD(e.target.value),className:"w-full px-3 py-2 border rounded-lg",min:"0",max:"100",step:"0.1",placeholder:"0.0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이미지 URL"}),(0,a.jsx)("input",{type:"text",value:tR,onChange:e=>tT(e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://example.com/image.jpg"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"MDL URL"}),(0,a.jsx)("input",{type:"text",value:tz,onChange:e=>tU(e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"https://mydramalist.com/..."})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"줄거리"}),(0,a.jsx)("textarea",{value:tj,onChange:e=>tN(e.target.value),className:"w-full px-3 py-2 border rounded-lg",rows:"3",placeholder:"에피소드 줄거리..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{tE(),tA(!1)},className:"px-4 py-2 border rounded-lg hover:bg-gray-100",children:"취소"}),(0,a.jsx)("button",{type:"button",onClick:()=>{if(!tg){to("에피소드 번호를 입력해주세요.","error");return}let e={number:parseInt(tg),title:tb,airDate:tf?new Date(tf):null,summary:tj,runtime:tw?parseInt(tw):null,rating:tC?parseFloat(tC):null,viewerRating:tL?parseFloat(tL):null,image:tR,mdlUrl:tz};k(t=>{if(!t.episodeList)return{...t,episodeList:[e]};if(void 0!==t._editingEpisodeIndex){let s=[...t.episodeList];s[t._editingEpisodeIndex]=e;let{_editingEpisodeIndex:a,...r}=t;return{...r,episodeList:s}}return{...t,episodeList:[...t.episodeList,e]}}),tE(),tA(!1),to("에피소드가 저장되었습니다.","success")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"저장"})]})]}),w.episodeList&&w.episodeList.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"번호"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"제목"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"방영일"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"평점"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시청률"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"액션"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.episodeList.sort((e,t)=>e.number-t.number).map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.number}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title||"에피소드 ".concat(e.number)}),e.summary&&(0,a.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.summary})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.airDate?new Date(e.airDate).toLocaleDateString():"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.rating?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.default,{size:16,className:"text-yellow-400 mr-1"}),(0,a.jsx)("span",{children:e.rating.toFixed(1)})]}):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.viewerRating?"".concat(e.viewerRating.toFixed(1),"%"):"-"}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{type:"button",onClick:()=>tI(t),className:"text-blue-600 hover:text-blue-900 mr-3",children:"수정"}),(0,a.jsx)("button",{type:"button",onClick:()=>tF(t),className:"text-red-600 hover:text-red-900",children:"삭제"})]})]},t))})]})}):(0,a.jsxs)("div",{className:"bg-gray-50 p-8 text-center rounded-lg border",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"등록된 에피소드가 없습니다."}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"오른쪽 상단의 버튼을 클릭하여 에피소드를 추가하거나 크롤링할 수 있습니다."})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"기타 정보"}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"리뷰 크롤링"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"MyDramalist에서 리뷰를 자동으로 수집합니다. 드라마 URL을 입력하면 /reviews가 없는 경우 자동으로 추가됩니다."}),(0,a.jsxs)("div",{className:"flex items-end space-x-2 mb-2",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"MyDramalist URL"}),(0,a.jsx)("input",{type:"text",value:ea,onChange:e=>er(e.target.value),placeholder:"https://mydramalist.com/드라마ID-드라마제목",className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:el}),w.mdlUrl&&!ea&&(0,a.jsx)("button",{type:"button",onClick:()=>er(w.mdlUrl),className:"mt-1 text-sm text-blue-600 hover:text-blue-800",children:"기존 MDL URL 사용하기"})]}),(0,a.jsx)("button",{onClick:tH,disabled:el||!ea,className:"px-4 py-2 rounded-md ".concat(el?"bg-gray-400 cursor-not-allowed":ea?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"," text-white font-medium transition-colors"),children:el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"inline-block animate-spin mr-1",children:"⟳"})," 크롤링 중..."]}):"리뷰 크롤링"})]}),(el||em)&&(0,a.jsxs)("div",{className:"mt-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 ".concat(el?"bg-blue-500 animate-pulse":"bg-green-500")}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:el?"크롤링 진행 중...":em})]}),el&&(0,a.jsx)("div",{className:"mt-2 w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-600 rounded-full animate-progress"})})]}),ec&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-md text-red-800 text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:"크롤링 오류 발생:"}),(0,a.jsx)("p",{children:ec}),(0,a.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"URL이 올바른지 확인하고 다시 시도해보세요. Cloudflare 보호가 활성화되어 있을 수 있습니다."})]}),en&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,a.jsxs)("p",{className:"text-green-800 font-medium",children:[en.reviews.length,"개의 리뷰를 성공적으로 수집했습니다."]}),(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[en.reviews.slice(0,5).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center text-pink-600 font-bold mr-2",children:e.rating}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.username}),(0,a.jsxs)("div",{className:"flex",children:[[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,a.jsx)("span",{className:"text-sm ".concat(s<Math.round(e.rating/2)?"text-yellow-400":"text-gray-300"),children:"★"},s)),(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",new Date(e.createdAt).toLocaleDateString(),")"]})]})]})]},t)),en.reviews.length>5&&(0,a.jsxs)("div",{className:"pt-2 mt-2 border-t border-green-100 text-gray-500 text-sm",children:["...외 ",en.reviews.length-5,"개"]})]}),en.reviews.length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-3 border-t border-green-200",children:[(0,a.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"리뷰 요약"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-pink-400 to-rose-500 flex items-center justify-center text-white font-bold text-xl shadow-sm mr-4",children:(en.reviews.reduce((e,t)=>e+t.rating,0)/en.reviews.length).toFixed(1)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-green-700",children:"평균 평점 (Overall)"}),(0,a.jsx)("div",{className:"flex mt-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)(u.default,{className:"w-5 h-5 ".concat(e<=Math.round(en.reviews.reduce((e,t)=>e+t.rating,0)/en.reviews.length/2)?"text-yellow-400 fill-yellow-400":"text-gray-300")},e))}),(0,a.jsxs)("div",{className:"text-xs text-green-700 mt-1",children:[en.reviews.length,"개 리뷰 기준"]})]})]})]})]})]})]})]}),R.visible&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 max-w-md",children:(0,a.jsx)("div",{className:"flex items-center p-4 rounded-lg shadow-lg ".concat("success"===R.type?"bg-green-100 text-green-800":"error"===R.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:R.message})})]})}let b=e=>{if(!e)return[];if(Array.isArray(e))return e.map(e=>({name:e.name||"",role:e.role||"",image:e.image||e.profileImage||""}));if(e.mainRoles||e.supportRoles){let t=[];return Array.isArray(e.mainRoles)&&e.mainRoles.forEach(e=>{t.push({name:e.name||"",role:(e.role||"")+" (주연)",image:e.image||""})}),Array.isArray(e.supportRoles)&&e.supportRoles.forEach(e=>{t.push({name:e.name||"",role:(e.role||"")+" (조연)",image:e.image||""})}),t}return[]},y=e=>{if(!e)return!1;let t=/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(e),s=/[a-zA-Z]/.test(e);return!t&&s}}},function(e){e.O(0,[1664,5089,2888,9774,179],function(){return e(e.s=25775)}),_N_E=e.O()}]);