(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4451],{22194:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/reviews",function(){return a(95007)}])},2575:function(e,t,a){"use strict";a.r(t);var s=a(85893),r=a(67294),n=a(41664),l=a.n(n),d=a(11163),i=a(33299),c=a(43765),o=a(38361),m=a(2553),u=a(63594),x=a(2287),h=a(89176),p=a(55264),g=a(70095),f=a(77362),b=a(94086),y=a(70088),w=a(70775);t.default=e=>{let{children:t}=e,a=(0,d.useRouter)(),{data:n,status:j}=(0,i.useSession)(),[v,N]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{("unauthenticated"===j||n&&"admin"!==n.user.role)&&a.push("/admin/login")},[n,j,a]),"loading"===j)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-t-[#ff3e8e] rounded-full animate-spin"}),(0,s.jsx)("p",{className:"text-xl font-medium",children:"Loading admin panel..."})]})})}):"unauthenticated"===j||n&&"admin"!==n.user.role?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,s.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md max-w-md",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[(0,s.jsx)(c.default,{size:48,className:"text-red-500"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Unauthorized Access"}),(0,s.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access the admin area."}),(0,s.jsx)(l(),{href:"/",className:"px-4 py-2 mt-4 text-white bg-[#ff3e8e] rounded-md hover:bg-[#e02e7c]",children:"Go to Homepage"})]})})}):(o.default,m.default,u.default,x.default,h.default,p.default,(0,s.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"w-64 min-h-screen bg-white shadow-md",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"관리자 패널"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin",className:"flex items-center px-4 py-2 rounded-lg ".concat("/admin"===a.pathname?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(o.default,{className:"mr-3 h-5 w-5"}),"대시보드"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/content",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/content")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(g.default,{className:"mr-3 h-5 w-5"}),"콘텐츠 관리"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/news",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/news")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(f.default,{className:"mr-3 h-5 w-5"}),"뉴스 관리"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/drama",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/drama")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(b.default,{className:"mr-3 h-5 w-5"}),"드라마 관리"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/music",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/music")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(x.default,{className:"mr-3 h-5 w-5"}),"음악 차트 관리"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/celeb",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/celeb")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(y.default,{className:"mr-3 h-5 w-5"}),"셀럽 관리"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(l(),{href:"/admin/users",className:"flex items-center px-4 py-2 rounded-lg ".concat(a.pathname.startsWith("/admin/users")?"bg-blue-600 text-white":"text-gray-800 hover:bg-blue-100"),children:[(0,s.jsx)(h.default,{className:"mr-3 h-5 w-5"}),"사용자 관리"]})})]}),(0,s.jsx)("div",{className:"border-t mt-4 pt-4",children:(0,s.jsxs)("button",{onClick:()=>{localStorage.removeItem("adminToken"),sessionStorage.removeItem("adminToken"),(0,i.signOut)({callbackUrl:"/"})},className:"flex items-center w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,s.jsx)(w.default,{className:"mr-3 h-5 w-5"}),"로그아웃"]})})]})]}),(0,s.jsx)("div",{className:"flex-1",children:t})]})}))}},495:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},r=a(20047),n={date:(0,r.default)({formats:{full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},defaultWidth:"full"}),time:(0,r.default)({formats:{full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,r.default)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},l={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},d=a(72834),i={ordinalNumber:function(e,t){var a=Number(e);switch(String(null==t?void 0:t.unit)){case"minute":case"second":return String(a);case"date":return a+"일";default:return a+"번째"}},era:(0,d.default)({values:{narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},defaultWidth:"wide"}),quarter:(0,d.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,d.default)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},defaultWidth:"wide"}),day:(0,d.default)({values:{narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},defaultWidth:"wide"}),dayPeriod:(0,d.default)({values:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultWidth:"wide",formattingValues:{narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},defaultFormattingWidth:"wide"})},c=a(37632),o={code:"ko",formatDistance:function(e,t,a){var r,n=s[e];return(r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),null!=a&&a.addSuffix)?a.comparison&&a.comparison>0?r+" 후":r+" 전":r},formatLong:n,formatRelative:function(e,t,a,s){return l[e]},localize:i,match:{ordinalNumber:(0,a(36669).default)({matchPattern:/^(\d+)(일|번째)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,c.default)({matchPatterns:{narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(bc|기원전)/i,/^(ad|서기)/i]},defaultParseWidth:"any"}),quarter:(0,c.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,c.default)({matchPatterns:{narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,c.default)({matchPatterns:{narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},defaultMatchWidth:"wide",parsePatterns:{any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},defaultParseWidth:"any"}),dayPeriod:(0,c.default)({matchPatterns:{any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},63759:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l},toKebabCase:function(){return n}});var s=a(67294),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{color:d="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:o,children:m,...u}=a;return(0,s.createElement)("svg",{ref:l,...r,width:i,height:i,stroke:d,strokeWidth:o?24*Number(c)/Number(i):c,className:"lucide lucide-".concat(n(e)),...u},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...(Array.isArray(m)?m:[m])||[]])});return a.displayName="".concat(e),a}},23488:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},47935:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},44976:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},36127:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},37864:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},62190:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return s}});let s=(0,a(63759).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},95007:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var s=a(85893),r=a(67294),n=a(2575),l=a(87066),d=a(39513),i=a(11163),c=a(41664),o=a.n(c),m=a(70088),u=a(36127),x=a(47935),h=a(44976),p=a(78865),g=a(62190),f=a(23488);let b=(0,a(63759).default)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var y=a(37864),w=a(9289),j=a(495);function v(){(0,i.useRouter)();let[e,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),[v,N]=(0,r.useState)({total:0,approved:0,pending:0,reported:0,featured:0}),[k,W]=(0,r.useState)({page:1,limit:10,total:0,pages:0}),[C,M]=(0,r.useState)({status:"all",contentType:"all",search:""}),P=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(!0);try{let s=new URLSearchParams;s.append("page",e),s.append("limit",k.limit),a.status&&"all"!==a.status&&s.append("status",a.status),a.contentType&&"all"!==a.contentType&&s.append("contentType",a.contentType),a.search&&s.append("search",a.search);let r=await l.default.get("/api/admin/reviews?".concat(s.toString()));r.data.success?(t(r.data.reviews),N(r.data.stats),W(r.data.pagination)):d.toast.error("리뷰 데이터를 불러오는데 실패했습니다.")}catch(e){d.toast.error("리뷰 데이터를 불러오는데 오류가 발생했습니다.")}finally{c(!1)}};(0,r.useEffect)(()=>{P(1,C)},[]);let S=e=>{let{name:t,value:a}=e.target;M(e=>({...e,[t]:a}))},_=e=>{e<1||e>k.pages||P(e,C)},T=async e=>{if(confirm("이 리뷰를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."))try{(await l.default.delete("/api/admin/reviews/".concat(e))).data.success?(d.toast.success("리뷰가 삭제되었습니다."),P(k.page,C)):d.toast.error("리뷰 삭제에 실패했습니다.")}catch(e){d.toast.error("리뷰 삭제 중 오류가 발생했습니다.")}},E=async(a,s)=>{try{(await l.default.put("/api/admin/reviews/".concat(a),{featured:!s})).data.success?(d.toast.success(s?"추천 리뷰에서 제외되었습니다.":"추천 리뷰로 설정되었습니다."),t(e.map(e=>e._id===a?{...e,featured:!s}:e))):d.toast.error("리뷰 상태 변경에 실패했습니다.")}catch(e){d.toast.error("리뷰 상태 변경 중 오류가 발생했습니다.")}},H=async(a,s)=>{try{(await l.default.put("/api/admin/reviews/".concat(a),{approved:!s})).data.success?(d.toast.success(s?"리뷰가 비승인 상태로 변경되었습니다.":"리뷰가 승인되었습니다."),t(e.map(e=>e._id===a?{...e,approved:!s}:e))):d.toast.error("리뷰 상태 변경에 실패했습니다.")}catch(e){d.toast.error("리뷰 상태 변경 중 오류가 발생했습니다.")}},z=e=>{if(!e)return"-";try{return(0,w.default)(new Date(e),"yyyy-MM-dd HH:mm",{locale:j.default})}catch(t){return e}},X=e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"font-bold mr-1",children:e}),(0,s.jsx)(m.default,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"})]});return(0,s.jsx)(n.default,{children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"리뷰 관리"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-500",children:"전체 리뷰"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:v.total})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-500",children:"승인됨"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:v.approved})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-500",children:"대기중"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:v.pending})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-500",children:"신고됨"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-red-600",children:v.reported})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("h3",{className:"text-sm text-gray-500",children:"추천 리뷰"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:v.featured})]})]}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[(0,s.jsxs)("div",{className:"w-full md:w-1/4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"상태"}),(0,s.jsxs)("select",{name:"status",value:C.status,onChange:S,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"모든 상태"}),(0,s.jsx)("option",{value:"approved",children:"승인됨"}),(0,s.jsx)("option",{value:"pending",children:"대기중"}),(0,s.jsx)("option",{value:"reported",children:"신고됨"}),(0,s.jsx)("option",{value:"featured",children:"추천 리뷰"})]})]}),(0,s.jsxs)("div",{className:"w-full md:w-1/4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"콘텐츠 타입"}),(0,s.jsxs)("select",{name:"contentType",value:C.contentType,onChange:S,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"all",children:"모든 타입"}),(0,s.jsx)("option",{value:"drama",children:"드라마"}),(0,s.jsx)("option",{value:"movie",children:"영화"})]})]}),(0,s.jsxs)("div",{className:"w-full md:w-1/3",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"검색"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",name:"search",value:C.search,onChange:S,placeholder:"제목, 내용, 작성자로 검색",className:"w-full p-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)(u.default,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("button",{onClick:()=>{P(1,C)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center",children:[(0,s.jsx)(x.default,{className:"w-4 h-4 mr-1"}),"필터 적용"]}),(0,s.jsxs)("button",{onClick:()=>{M({status:"all",contentType:"all",search:""}),P(1,{status:"all",contentType:"all",search:""})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors flex items-center",children:[(0,s.jsx)(h.default,{className:"w-4 h-4 mr-1"}),"초기화"]})]})]})}),(0,s.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["총 ",(0,s.jsx)("span",{className:"font-bold",children:k.total}),"개의 리뷰 중 ",(0,s.jsx)("span",{className:"font-bold",children:e.length}),"개 표시 중"]}),(0,s.jsx)(o(),{href:"/admin/reviews/new",className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",children:"+ 새 리뷰 작성"})]}),(0,s.jsxs)("div",{className:"bg-white overflow-hidden rounded-lg shadow-sm border border-gray-200",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"제목"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작성자"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"콘텐츠"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"별점"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"상태"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"추천"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"작성일"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"관리"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"9",className:"px-6 py-4 text-center",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})})})}):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"9",className:"px-6 py-4 text-center text-gray-500",children:"리뷰가 없습니다."})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e._id.substring(0,8),"..."]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:e.title})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.authorName||"-"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:e.contentTitle||(e.dramaId?"드라마":e.tvfilmId?"영화":"-")})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:X(e.rating)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("button",{onClick:()=>H(e._id,e.approved),className:"px-2 py-1 rounded-full text-xs font-medium flex items-center ".concat(e.approved?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"),children:e.approved?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.default,{className:"w-3 h-3 mr-1"})," 승인됨"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.default,{className:"w-3 h-3 mr-1"})," 대기중"]})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("button",{onClick:()=>E(e._id,e.featured),className:"px-2 py-1 rounded-full text-xs font-medium flex items-center ".concat(e.featured?"bg-purple-100 text-purple-800 hover:bg-purple-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),children:e.featured?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.default,{className:"w-3 h-3 mr-1"})," 추천"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.default,{className:"w-3 h-3 mr-1 text-gray-400"})," 일반"]})})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-900",children:z(e.createdAt)})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)(o(),{href:"/admin/reviews/edit/".concat(e._id),className:"text-blue-600 hover:text-blue-900",children:(0,s.jsx)(b,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>T(e._id),className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(y.default,{className:"w-5 h-5"})})]})})]},e._id))})]})}),k.pages>1&&(0,s.jsxs)("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,s.jsx)("button",{onClick:()=>_(k.page-1),disabled:1===k.page,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ".concat(1===k.page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"이전"}),(0,s.jsx)("button",{onClick:()=>_(k.page+1),disabled:k.page===k.pages,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ".concat(k.page===k.pages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"),children:"다음"})]}),(0,s.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("p",{className:"text-sm text-gray-700",children:["전체 ",(0,s.jsx)("span",{className:"font-medium",children:k.total}),"개 중"," ",(0,s.jsx)("span",{className:"font-medium",children:(k.page-1)*k.limit+1}),"-",(0,s.jsx)("span",{className:"font-medium",children:Math.min(k.page*k.limit,k.total)}),"번"]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,s.jsxs)("button",{onClick:()=>_(1),disabled:1===k.page,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ".concat(1===k.page?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,s.jsx)("span",{className:"sr-only",children:"처음"}),(0,s.jsx)("span",{children:"\xab"})]}),(0,s.jsxs)("button",{onClick:()=>_(k.page-1),disabled:1===k.page,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium ".concat(1===k.page?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,s.jsx)("span",{className:"sr-only",children:"이전"}),(0,s.jsx)("span",{children:"<"})]}),[...Array(k.pages)].map((e,t)=>k.pages>7?0===t||t===k.pages-1||t>=k.page-2&&t<=k.page?(0,s.jsx)("button",{onClick:()=>_(t+1),className:"relative inline-flex items-center px-4 py-2 border ".concat(k.page===t+1?"bg-blue-50 border-blue-500 text-blue-600 z-10":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"," text-sm font-medium"),children:t+1},t):1===t&&k.page>3||t===k.pages-2&&k.page<k.pages-2?(0,s.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},t):null:(0,s.jsx)("button",{onClick:()=>_(t+1),className:"relative inline-flex items-center px-4 py-2 border ".concat(k.page===t+1?"bg-blue-50 border-blue-500 text-blue-600 z-10":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"," text-sm font-medium"),children:t+1},t)),(0,s.jsxs)("button",{onClick:()=>_(k.page+1),disabled:k.page===k.pages,className:"relative inline-flex items-center px-2 py-2 border border-gray-300 bg-white text-sm font-medium ".concat(k.page===k.pages?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,s.jsx)("span",{className:"sr-only",children:"다음"}),(0,s.jsx)("span",{children:">"})]}),(0,s.jsxs)("button",{onClick:()=>_(k.pages),disabled:k.page===k.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ".concat(k.page===k.pages?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,s.jsx)("span",{className:"sr-only",children:"마지막"}),(0,s.jsx)("span",{children:"\xbb"})]})]})})]})]})]})]})})}}},function(e){e.O(0,[1664,1876,7066,6841,6079,628,2888,9774,179],function(){return e(e.s=22194)}),_N_E=e.O()}]);